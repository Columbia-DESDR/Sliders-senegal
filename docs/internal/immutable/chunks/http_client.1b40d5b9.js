import{B as Uo,S as We,i as Ve,U as Z,s as Ye,g as st,l as ft,m as ct,d as q,r as j,a as pt,v as rt,n as Lt,f as Ar,Y as Yu,Z as wp,k as pe,q as be,_ as at,Q as At,R as Yn,e as Dt,$ as to,a0 as eo,y as Yt,z as Ht,A as ve,I as Lf,a1 as Hu,t as Yr,F as vp,b as ua,C as Mp,a2 as Sp,j as Pd,p as Rd,w as Bd,x as $d,V as Fn,a3 as xp,a4 as Tp,a5 as Ap,T as le,O as kp,a6 as Xu,c as Ep,a7 as Cp,P as Gu}from"./index.b89b4bd1.js";import{c as vt,n as Zu,o as Ud,_ as ci,p as Bn,q as no,r as dr,k as vn,s as Ds,t as Np,u as zd,g as Dn,w as Is,x as Dp,y as Ip,h as Lp,z as jd,j as It,A as Op,C as Fp,D as qd,i as Ls,E as Pp,F as ca,S as Ku,G as Rp,H as Of,I as Ff,R as ro,J as Pf,K as Wd,L as Ju,N as Qu,P as Bp,T as Mn,U as tc,V as Jr,W as $p,X as ec,Y as Jt,Z as Rf,$ as Up,a0 as nc,a1 as zp,a2 as la,a3 as Vd,a4 as da,e as Xt,f as tn,l as Gt,a5 as jp,m as qp,d as rc,a6 as Wp,a7 as Vp}from"./index.0671eb1a.js";import{w as ie}from"./paths.e2913e27.js";var Yp=vt(function(e,n){return Number(e)+Number(n)});function Yd(t,e,n){return function(){for(var r=[],i=0,a=t,s=0;s<e.length||i<arguments.length;){var f;s<e.length&&(!Zu(e[s])||i>=arguments.length)?f=e[s]:(f=arguments[i],i+=1),r[s]=f,Zu(f)||(a-=1),s+=1}return a<=0?n.apply(this,r):Ud(a,Yd(t,r,n))}}var hr=vt(function(e,n){return e===1?ci(n):Ud(e,Yd(e,[],n))});function Hp(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var Xp=vt(function(e,n){return n>e?n:e});function ra(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}var Gp=function(){function t(e,n){this.xf=n,this.f=e}return t.prototype["@@transducer/init"]=Bn.init,t.prototype["@@transducer/result"]=Bn.result,t.prototype["@@transducer/step"]=function(e,n){return this.xf["@@transducer/step"](e,this.f(n))},t}(),Zp=vt(function(e,n){return new Gp(e,n)}),Kp=vt(no(["fantasy-land/map","map"],Zp,function(e,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return hr(n.length,function(){return e.call(this,n.apply(this,arguments))});case"[object Object]":return dr(function(r,i){return r[i]=e(n[i]),r},{},vn(n));default:return ra(e,n)}}));const Sn=Kp,Jp=Number.isInteger||function(e){return e<<0===e};var Qp=vt(function(e,n){var r=e<0?n.length+e:e;return Ds(n)?n.charAt(r):n[r]});const Hd=Qp;var tb=vt(function(e,n){if(n!=null)return Jp(e)?Hd(e,n):n[e]});const Os=tb;var eb=vt(function(e,n){return Sn(Os(e),n)});const Bf=eb;var nb=function(){function t(e,n){this.xf=n,this.f=e,this.any=!1}return t.prototype["@@transducer/init"]=Bn.init,t.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,n){return this.f(n)&&(this.any=!0,e=Hp(this.xf["@@transducer/step"](e,!0))),e},t}(),rb=vt(function(e,n){return new nb(e,n)}),ib=vt(no(["any"],rb,function(e,n){for(var r=0;r<n.length;){if(e(n[r]))return!0;r+=1}return!1}));const Xd=ib;var ab=vt(function(e,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(n):typeof e=="function"?function(r){return e(r)(n(r))}:dr(function(r,i){return Np(r,Sn(i,n))},[],e)}),ob=vt(function(e,n){return e.apply(this,n)});function ic(t,e){return Is(e)?e.map(t):vn(e).reduce(function(n,r){return n[r]=t(e[r]),n},{})}var sb=ci(function t(e){return e=ic(function(n){return typeof n=="function"?n:t(n)},e),hr(zd(Xp,0,Bf("length",Dn(e))),function(){var n=arguments;return ic(function(r){return ob(r,n)},e)})});const ac=sb;function Fs(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var fb=vt(function(e,n){var r=hr(e,n);return hr(e,function(){return dr(ab,Sn(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),ub=ci(function(e){return fb(e.length,e)});function cb(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}var lb=function(t){return{"@@transducer/init":Bn.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?cb(r):r}}},db=function(e){var n=lb(e);return{"@@transducer/init":Bn.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return Dp(i)?dr(n,r,i):dr(n,r,[i])}}},hb=vt(function(e,n){return Sn(e,db(n))}),gb=vt(no(["fantasy-land/chain","chain"],hb,function(e,n){return typeof n=="function"?function(r){return e(n(r))(r)}:Ip(!1)(Sn(e,n))}));const Gd=gb;function zo(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Lr=function(e){return(e<10?"0":"")+e},mb=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Lr(e.getUTCMonth()+1)+"-"+Lr(e.getUTCDate())+"T"+Lr(e.getUTCHours())+":"+Lr(e.getUTCMinutes())+":"+Lr(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function pb(t){return function(){return!t.apply(this,arguments)}}var bb=vt(function(e,n){return Lp(pb(e),n)});const yb=bb;function Zd(t,e){var n=function(s){var f=e.concat([t]);return jd(s,f)?"<Circular>":Zd(s,f)},r=function(a,s){return ra(function(f){return zo(f)+": "+n(a[f])},s.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+ra(n,t).join(", ")+"))";case"[object Array]":return"["+ra(n,t).concat(r(t,yb(function(a){return/^\d+$/.test(a)},vn(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):zo(mb(t)))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+n(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object String]":return typeof t=="object"?"new String("+n(t.valueOf())+")":zo(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var i=t.toString();if(i!=="[object Object]")return i}return"{"+r(t,vn(t)).join(", ")+"}"}}var jo=ci(function(e){return Zd(e,[])}),_b=vt(function(e,n){if(Is(e)){if(Is(n))return e.concat(n);throw new TypeError(jo(n)+" is not an array")}if(Ds(e)){if(Ds(n))return e+n;throw new TypeError(jo(n)+" is not a string")}if(e!=null&&Fs(e["fantasy-land/concat"]))return e["fantasy-land/concat"](n);if(e!=null&&Fs(e.concat))return e.concat(n);throw new TypeError(jo(e)+' does not have a method named "concat" or "fantasy-land/concat"')});const ha=_b;var wb=Hd(-1);const qo=wb;var vb=vt(function(e,n){return e||n}),Mb=vt(function(e,n){return Fs(e)?function(){return e.apply(this,arguments)||n.apply(this,arguments)}:ub(vb)(e,n)});const Sb=Mb;var xb=ci(function(e){return hr(e.length,function(n,r){var i=Array.prototype.slice.call(arguments,0);return i[0]=r,i[1]=n,e.apply(this,i)})}),Tb=vt(function(e,n){if(e.length===0||It(n))return!1;for(var r=n,i=0;i<e.length;)if(!It(r)&&Op(e[i],r))r=r[e[i]],i+=1;else return!1;return!0}),Ab=vt(function(e,n){return Tb([e],n)});const ga=Ab;var kb=Fp(function(e,n,r){return hr(Math.max(e.length,n.length,r.length),function(){return e.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})});const oc=kb;var Eb=function(){function t(e,n){this.xf=n,this.f=e,this.set=new qd}return t.prototype["@@transducer/init"]=Bn.init,t.prototype["@@transducer/result"]=Bn.result,t.prototype["@@transducer/step"]=function(e,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](e,n):e},t}(),Cb=vt(function(e,n){return new Eb(e,n)}),Nb=vt(no([],Cb,function(t,e){for(var n=new qd,r=[],i=0,a,s;i<e.length;)s=e[i],a=t(s),n.add(a)&&r.push(s),i+=1;return r})),Db=Nb(Ls),Ib=vt(function(e,n){var r,i;return e.length>n.length?(r=e,i=n):(r=n,i=e),Db(Pp(xb(jd)(r),i))});const Lb=Ib;var Ob=vt(function(e,n){return dr(function(r,i){return r[i]=e(n[i],i,n),r},{},vn(n))});const Fb=Ob;var Pb=zd(Yp,0);const Rb=Pb;var Bb=vt(function(e,n){for(var r={},i=0;i<e.length;)e[i]in n&&(r[e[i]]=n[e[i]]),i+=1;return r});const $b=Bb;var Ub=vt(function(e,n){return Array.prototype.slice.call(n,0).sort(e)});const zb=Ub;var jb=vt(function(e,n){return ha(ca(e,n),ca(n,e))});const qb=jb;function Qt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function li(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function io(t){let e,n,r;t.length!==2?(e=Qt,n=(f,u)=>Qt(t(f),u),r=(f,u)=>t(f)-u):(e=t===Qt||t===li?t:Wb,n=t,r=t);function i(f,u,c=0,l=f.length){if(c<l){if(e(u,u)!==0)return l;do{const h=c+l>>>1;n(f[h],u)<0?c=h+1:l=h}while(c<l)}return c}function a(f,u,c=0,l=f.length){if(c<l){if(e(u,u)!==0)return l;do{const h=c+l>>>1;n(f[h],u)<=0?c=h+1:l=h}while(c<l)}return c}function s(f,u,c=0,l=f.length){const h=i(f,u,c,l-1);return h>c&&r(f[h-1],u)>-r(f[h],u)?h-1:h}return{left:i,center:s,right:a}}function Wb(){return 0}function Kd(t){return t===null?NaN:+t}function*Vb(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Yb=io(Qt),Hb=Yb.right;io(Kd).center;const $f=Hb;function Xb(t){return t.length|0}function Gb(t){return!(t>0)}function Zb(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Kb(t){return e=>t(...e)}function Jb(...t){const e=typeof t[t.length-1]=="function"&&Kb(t.pop());t=t.map(Zb);const n=t.map(Xb),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Gb))return a;for(;;){a.push(i.map((f,u)=>t[u][f]));let s=r;for(;++i[s]===n[s];){if(s===0)return e?a.map(e):a;i[s--]=0}}}function Qb(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function Jd(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let s of t)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let f of t)(f=e(f,++s,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function t2(t,e){const n=Jd(t,e);return n&&Math.sqrt(n)}function _n(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class $n{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,f=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);f&&(n[r++]=f),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class Un extends Map{constructor(e,n=eh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ps(this,e))}has(e){return super.has(Ps(this,e))}set(e,n){return super.set(Qd(this,e),n)}delete(e){return super.delete(th(this,e))}}class ao extends Set{constructor(e,n=eh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Ps(this,e))}add(e){return super.add(Qd(this,e))}delete(e){return super.delete(th(this,e))}}function Ps({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Qd({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function th({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function eh(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rs(t){return t}function Uf(t,...e){return zf(t,Rs,Rs,e)}function Hr(t,e,...n){return zf(t,Rs,e,n)}function e2(t,e,...n){return zf(t,Array.from,e,n)}function zf(t,e,n,r){return function i(a,s){if(s>=r.length)return n(a);const f=new Un,u=r[s++];let c=-1;for(const l of a){const h=u(l,++c,a),d=f.get(h);d?d.push(l):f.set(h,[l])}for(const[l,h]of f)f.set(l,i(h,s));return e(f)}(t,0)}function n2(t,e){return Array.from(e,n=>t[n])}function Bs(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const s of e){const f=ma(s[i],s[a]);if(f)return f}})):(n=t.map(n),r.sort((i,a)=>ma(n[i],n[a]))),n2(t,r)}return t.sort(nh(n))}function nh(t=Qt){if(t===Qt)return ma;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ma(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function jf(t,e,n){return(e.length!==2?Bs(Hr(t,e,n),([r,i],[a,s])=>Qt(i,s)||Qt(r,a)):Bs(Uf(t,n),([r,i],[a,s])=>e(i,s)||Qt(r,a))).map(([r])=>r)}const r2=Math.sqrt(50),i2=Math.sqrt(10),a2=Math.sqrt(2);function pa(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=r2?10:a>=i2?5:a>=a2?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/s,f=Math.round(t*c),u=Math.round(e*c),f/c<t&&++f,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,f=Math.round(t/c),u=Math.round(e/c),f*c<t&&++f,u*c>e&&--u),u<f&&.5<=n&&n<2?pa(t,e,n*2):[f,u,c]}function ba(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?pa(e,t,n):pa(t,e,n);if(!(a>=i))return[];const f=a-i+1,u=new Array(f);if(r)if(s<0)for(let c=0;c<f;++c)u[c]=(a-c)/-s;else for(let c=0;c<f;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<f;++c)u[c]=(i+c)/-s;else for(let c=0;c<f;++c)u[c]=(i+c)*s;return u}function $s(t,e,n){return e=+e,t=+t,n=+n,pa(t,e,n)[2]}function Us(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$s(e,t,n):$s(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ae(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function o2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Ue(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function s2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function rh(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ma:nh(i);r>n;){if(r-n>600){const u=r-n+1,c=e-n+1,l=Math.log(u),h=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*h*(u-h)/u)*(c-u/2<0?-1:1),g=Math.max(n,Math.floor(e-c*h/u+d)),p=Math.min(r,Math.floor(e+(u-c)*h/u+d));rh(t,e,g,p,i)}const a=t[e];let s=n,f=r;for(Or(t,n,e),i(t[r],a)>0&&Or(t,n,r);s<f;){for(Or(t,s,f),++s,--f;i(t[s],a)<0;)++s;for(;i(t[f],a)>0;)--f}i(t[n],a)===0?Or(t,n,f):(++f,Or(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function Or(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ih(t,e=Qt){let n,r=!1;if(e.length===1){let i;for(const a of t){const s=e(a);(r?Qt(s,i)>0:Qt(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function ya(t,e,n){if(t=Float64Array.from(Vb(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ue(t);if(e>=1)return ae(t);var r,i=(r-1)*e,a=Math.floor(i),s=ae(rh(t,a).subarray(0,a+1)),f=Ue(t.subarray(a+1));return s+(f-s)*(i-a)}}function f2(t,e,n=Kd){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),f=+n(t[a+1],a+1,t);return s+(f-s)*(i-a)}}function u2(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function zs(t,e){return ya(t,.5,e)}function*c2(t){for(const e of t)yield*e}function ah(t){return Array.from(c2(t))}function l2(t,e){const n=new Un;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of t)(s=e(s,++a,t))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function d2(t,e=h2){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function h2(t,e){return[t,e]}function js(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function zn(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function _a(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function g2(t){return t}var Wo=1,Vo=2,qs=3,Oi=4,sc=1e-6;function m2(t){return"translate("+t+",0)"}function p2(t){return"translate(0,"+t+")"}function b2(t){return e=>+t(e)}function y2(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function _2(){return!this.__axis}function w2(t,e){var n=[],r=null,i=null,a=6,s=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===Wo||t===Oi?-1:1,l=t===Oi||t===Vo?"x":"y",h=t===Wo||t===qs?m2:p2;function d(g){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):g2),b=Math.max(a,0)+f,y=e.range(),_=+y[0]+u,v=+y[y.length-1]+u,w=(e.bandwidth?y2:b2)(e.copy(),u),M=g.selection?g.selection():g,S=M.selectAll(".domain").data([null]),x=M.selectAll(".tick").data(p,e).order(),E=x.exit(),D=x.enter().append("g").attr("class","tick"),A=x.select("line"),T=x.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(D),A=A.merge(D.append("line").attr("stroke","currentColor").attr(l+"2",c*a)),T=T.merge(D.append("text").attr("fill","currentColor").attr(l,c*b).attr("dy",t===Wo?"0em":t===qs?"0.71em":"0.32em")),g!==M&&(S=S.transition(g),x=x.transition(g),A=A.transition(g),T=T.transition(g),E=E.transition(g).attr("opacity",sc).attr("transform",function(k){return isFinite(k=w(k))?h(k+u):this.getAttribute("transform")}),D.attr("opacity",sc).attr("transform",function(k){var L=this.parentNode.__axis;return h((L&&isFinite(L=L(k))?L:w(k))+u)})),E.remove(),S.attr("d",t===Oi||t===Vo?s?"M"+c*s+","+_+"H"+u+"V"+v+"H"+c*s:"M"+u+","+_+"V"+v:s?"M"+_+","+c*s+"V"+u+"H"+v+"V"+c*s:"M"+_+","+u+"H"+v),x.attr("opacity",1).attr("transform",function(k){return h(w(k)+u)}),A.attr(l+"2",c*a),T.attr(l,c*b).text(m),M.filter(_2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Vo?"start":t===Oi?"end":"middle"),M.each(function(){this.__axis=w})}return d.scale=function(g){return arguments.length?(e=g,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),d):n.slice()},d.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),d):r&&r.slice()},d.tickFormat=function(g){return arguments.length?(i=g,d):i},d.tickSize=function(g){return arguments.length?(a=s=+g,d):a},d.tickSizeInner=function(g){return arguments.length?(a=+g,d):a},d.tickSizeOuter=function(g){return arguments.length?(s=+g,d):s},d.tickPadding=function(g){return arguments.length?(f=+g,d):f},d.offset=function(g){return arguments.length?(u=+g,d):u},d}function v2(t){return w2(qs,t)}function Zt(t){return typeof t=="string"?new Ku([[document.querySelector(t)]],[document.documentElement]):new Ku([[t]],Rp)}function M2(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ws(t,e){if(t=M2(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Vs={capture:!0,passive:!1};function Ys(t){t.preventDefault(),t.stopImmediatePropagation()}function S2(t){var e=t.document.documentElement,n=Zt(t).on("dragstart.drag",Ys,Vs);"onselectstart"in e?n.on("selectstart.drag",Ys,Vs):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function x2(t,e){var n=t.document.documentElement,r=Zt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ys,Vs),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const oh=Math.PI/180,sh=180/Math.PI,wa=18,fh=.96422,uh=1,ch=.82521,lh=4/29,fr=6/29,dh=3*fr*fr,T2=fr*fr*fr;function hh(t){if(t instanceof $e)return new $e(t.l,t.a,t.b,t.opacity);if(t instanceof nn)return gh(t);t instanceof ro||(t=Wd(t));var e=Go(t.r),n=Go(t.g),r=Go(t.b),i=Yo((.2225045*e+.7168786*n+.0606169*r)/uh),a,s;return e===n&&n===r?a=s=i:(a=Yo((.4360747*e+.3850649*n+.1430804*r)/fh),s=Yo((.0139322*e+.0971045*n+.7141733*r)/ch)),new $e(116*i-16,500*(a-i),200*(i-s),t.opacity)}function Hs(t,e,n,r){return arguments.length===1?hh(t):new $e(t,e,n,r??1)}function $e(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Of($e,Hs,Ff(Pf,{brighter(t){return new $e(this.l+wa*(t??1),this.a,this.b,this.opacity)},darker(t){return new $e(this.l-wa*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=fh*Ho(e),t=uh*Ho(t),n=ch*Ho(n),new ro(Xo(3.1338561*e-1.6168667*t-.4906146*n),Xo(-.9787684*e+1.9161415*t+.033454*n),Xo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Yo(t){return t>T2?Math.pow(t,1/3):t/dh+lh}function Ho(t){return t>fr?t*t*t:dh*(t-lh)}function Xo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Go(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function A2(t){if(t instanceof nn)return new nn(t.h,t.c,t.l,t.opacity);if(t instanceof $e||(t=hh(t)),t.a===0&&t.b===0)return new nn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*sh;return new nn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function va(t,e,n,r){return arguments.length===1?A2(t):new nn(t,e,n,r??1)}function nn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function gh(t){if(isNaN(t.h))return new $e(t.l,0,0,t.opacity);var e=t.h*oh;return new $e(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Of(nn,va,Ff(Pf,{brighter(t){return new nn(this.h,this.c,this.l+wa*(t??1),this.opacity)},darker(t){return new nn(this.h,this.c,this.l-wa*(t??1),this.opacity)},rgb(){return gh(this).rgb()}}));var mh=-.14861,qf=1.78277,Wf=-.29227,oo=-.90649,Qr=1.97294,fc=Qr*oo,uc=Qr*qf,cc=qf*Wf-oo*mh;function k2(t){if(t instanceof Pn)return new Pn(t.h,t.s,t.l,t.opacity);t instanceof ro||(t=Wd(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(cc*r+fc*e-uc*n)/(cc+fc-uc),a=r-i,s=(Qr*(n-i)-Wf*a)/oo,f=Math.sqrt(s*s+a*a)/(Qr*i*(1-i)),u=f?Math.atan2(s,a)*sh-120:NaN;return new Pn(u<0?u+360:u,f,i,t.opacity)}function ze(t,e,n,r){return arguments.length===1?k2(t):new Pn(t,e,n,r??1)}function Pn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Of(Pn,ze,Ff(Pf,{brighter(t){return t=t==null?Ju:Math.pow(Ju,t),new Pn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qu:Math.pow(Qu,t),new Pn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*oh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ro(255*(e+n*(mh*r+qf*i)),255*(e+n*(Wf*r+oo*i)),255*(e+n*(Qr*r)),this.opacity)}}));function E2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function C2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function N2(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=kr(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(f){for(s=0;s<r;++s)a[s]=i[s](f);return a}}function D2(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function I2(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=kr(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function kr(t,e){var n=typeof e,r;return e==null||n==="boolean"?Bp(e):(n==="number"?Mn:n==="string"?(r=tc(e))?(e=r,Jr):$p:e instanceof tc?Jr:e instanceof Date?D2:C2(e)?E2:Array.isArray(e)?N2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?I2:Mn)(t,e)}function Vf(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function L2(t){return function(e,n){var r=t((e=ec(e)).h,(n=ec(n)).h),i=Jt(e.s,n.s),a=Jt(e.l,n.l),s=Jt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=a(f),e.opacity=s(f),e+""}}}const O2=L2(Rf);function F2(t,e){var n=Jt((t=Hs(t)).l,(e=Hs(e)).l),r=Jt(t.a,e.a),i=Jt(t.b,e.b),a=Jt(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=a(s),t+""}}function P2(t){return function(e,n){var r=t((e=va(e)).h,(n=va(n)).h),i=Jt(e.c,n.c),a=Jt(e.l,n.l),s=Jt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=a(f),e.opacity=s(f),e+""}}}const R2=P2(Rf);function ph(t){return function e(n){n=+n;function r(i,a){var s=t((i=ze(i)).h,(a=ze(a)).h),f=Jt(i.s,a.s),u=Jt(i.l,a.l),c=Jt(i.opacity,a.opacity);return function(l){return i.h=s(l),i.s=f(l),i.l=u(Math.pow(l,n)),i.opacity=c(l),i+""}}return r.gamma=e,r}(1)}ph(Rf);var Yf=ph(Jt);function so(t,e){e===void 0&&(e=t,t=kr);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var f=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[f](s-f)}}function Ae(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const Zo=t=>()=>t;function B2(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function $2(t){t.stopImmediatePropagation()}function Ko(t){t.preventDefault(),t.stopImmediatePropagation()}var lc={name:"drag"},Jo={name:"space"},Qn={name:"handle"},tr={name:"center"};const{abs:dc,max:zt,min:jt}=Math;function hc(t){return[+t[0],+t[1]]}function gc(t){return[hc(t[0]),hc(t[1])]}var ia={name:"x",handles:["w","e"].map(Ma),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Qo={name:"y",handles:["n","s"].map(Ma),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ge={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},pc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},U2={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},z2={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ma(t){return{type:t}}function j2(t){return!t.ctrlKey&&!t.button}function q2(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function W2(){return navigator.maxTouchPoints||"ontouchstart"in this}function ts(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function V2(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Y2(){return H2(ia)}function H2(t){var e=q2,n=j2,r=W2,i=!0,a=Up("start","brush","end"),s=6,f;function u(b){var y=b.property("__brush",m).selectAll(".overlay").data([Ma("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ge.overlay).merge(y).each(function(){var v=ts(this).extent;Zt(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),b.selectAll(".selection").data([Ma("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ge.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=b.selectAll(".handle").data(t.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Ge[v.type]}),b.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(b,y,_){b.tween?b.on("start.brush",function(v){l(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){l(this,arguments).end(v)}).tween("brush",function(){var v=this,w=v.__brush,M=l(v,arguments),S=w.selection,x=t.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),E=kr(S,x);function D(A){w.selection=A===1&&x===null?null:E(A),c.call(v),M.brush()}return S!==null&&x!==null?D:D(1)}):b.each(function(){var v=this,w=arguments,M=v.__brush,S=t.input(typeof y=="function"?y.apply(v,w):y,M.extent),x=l(v,w).beforestart();nc(v),M.selection=S===null?null:S,c.call(v),x.start(_).brush(_).end(_)})},u.clear=function(b,y){u.move(b,null,y)};function c(){var b=Zt(this),y=ts(this).selection;y?(b.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?y[1][0]-s/2:y[0][0]-s/2}).attr("y",function(_){return _.type[0]==="s"?y[1][1]-s/2:y[0][1]-s/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?y[1][0]-y[0][0]+s:s}).attr("height",function(_){return _.type==="e"||_.type==="w"?y[1][1]-y[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(b,y,_){var v=b.__brush.emitter;return v&&(!_||!v.clean)?v:new h(b,y,_)}function h(b,y,_){this.that=b,this.args=y,this.state=b.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,y){return this.starting?(this.starting=!1,this.emit("start",b,y)):this.emit("brush",b),this},brush:function(b,y){return this.emit("brush",b,y),this},end:function(b,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,y)),this},emit:function(b,y,_){var v=Zt(this.that).datum();a.call(b,this.that,new B2(b,{sourceEvent:y,target:u,selection:t.output(this.state.selection),mode:_,dispatch:a}),v)}};function d(b){if(f&&!b.touches||!n.apply(this,arguments))return;var y=this,_=b.target.__data__.type,v=(i&&b.metaKey?_="overlay":_)==="selection"?lc:i&&b.altKey?tr:Qn,w=t===Qo?null:U2[_],M=t===ia?null:z2[_],S=ts(y),x=S.extent,E=S.selection,D=x[0][0],A,T,k=x[0][1],L,R,C=x[1][0],P,Y,K=x[1][1],H,B,U=0,$=0,W,I=w&&M&&i&&b.shiftKey,tt,et,z=Array.from(b.touches||[b],G=>{const wt=G.identifier;return G=Ws(G,y),G.point0=G.slice(),G.identifier=wt,G});nc(y);var Q=l(y,arguments,!0).beforestart();if(_==="overlay"){E&&(W=!0);const G=[z[0],z[1]||z[0]];S.selection=E=[[A=t===Qo?D:jt(G[0][0],G[1][0]),L=t===ia?k:jt(G[0][1],G[1][1])],[P=t===Qo?C:zt(G[0][0],G[1][0]),H=t===ia?K:zt(G[0][1],G[1][1])]],z.length>1&&mt(b)}else A=E[0][0],L=E[0][1],P=E[1][0],H=E[1][1];T=A,R=L,Y=P,B=H;var F=Zt(y).attr("pointer-events","none"),V=F.selectAll(".overlay").attr("cursor",Ge[_]);if(b.touches)Q.moved=O,Q.ended=nt;else{var X=Zt(b.view).on("mousemove.brush",O,!0).on("mouseup.brush",nt,!0);i&&X.on("keydown.brush",yt,!0).on("keyup.brush",Mt,!0),S2(b.view)}c.call(y),Q.start(b,v.name);function O(G){for(const wt of G.changedTouches||[G])for(const ne of z)ne.identifier===wt.identifier&&(ne.cur=Ws(wt,y));if(I&&!tt&&!et&&z.length===1){const wt=z[0];dc(wt.cur[0]-wt[0])>dc(wt.cur[1]-wt[1])?et=!0:tt=!0}for(const wt of z)wt.cur&&(wt[0]=wt.cur[0],wt[1]=wt.cur[1]);W=!0,Ko(G),mt(G)}function mt(G){const wt=z[0],ne=wt.point0;var Le;switch(U=wt[0]-ne[0],$=wt[1]-ne[1],v){case Jo:case lc:{w&&(U=zt(D-A,jt(C-P,U)),T=A+U,Y=P+U),M&&($=zt(k-L,jt(K-H,$)),R=L+$,B=H+$);break}case Qn:{z[1]?(w&&(T=zt(D,jt(C,z[0][0])),Y=zt(D,jt(C,z[1][0])),w=1),M&&(R=zt(k,jt(K,z[0][1])),B=zt(k,jt(K,z[1][1])),M=1)):(w<0?(U=zt(D-A,jt(C-A,U)),T=A+U,Y=P):w>0&&(U=zt(D-P,jt(C-P,U)),T=A,Y=P+U),M<0?($=zt(k-L,jt(K-L,$)),R=L+$,B=H):M>0&&($=zt(k-H,jt(K-H,$)),R=L,B=H+$));break}case tr:{w&&(T=zt(D,jt(C,A-U*w)),Y=zt(D,jt(C,P+U*w))),M&&(R=zt(k,jt(K,L-$*M)),B=zt(k,jt(K,H+$*M)));break}}Y<T&&(w*=-1,Le=A,A=P,P=Le,Le=T,T=Y,Y=Le,_ in mc&&V.attr("cursor",Ge[_=mc[_]])),B<R&&(M*=-1,Le=L,L=H,H=Le,Le=R,R=B,B=Le,_ in pc&&V.attr("cursor",Ge[_=pc[_]])),S.selection&&(E=S.selection),tt&&(T=E[0][0],Y=E[1][0]),et&&(R=E[0][1],B=E[1][1]),(E[0][0]!==T||E[0][1]!==R||E[1][0]!==Y||E[1][1]!==B)&&(S.selection=[[T,R],[Y,B]],c.call(y),Q.brush(G,v.name))}function nt(G){if($2(G),G.touches){if(G.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else x2(G.view,W),X.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);F.attr("pointer-events","all"),V.attr("cursor",Ge.overlay),S.selection&&(E=S.selection),V2(E)&&(S.selection=null,c.call(y)),Q.end(G,v.name)}function yt(G){switch(G.keyCode){case 16:{I=w&&M;break}case 18:{v===Qn&&(w&&(P=Y-U*w,A=T+U*w),M&&(H=B-$*M,L=R+$*M),v=tr,mt(G));break}case 32:{(v===Qn||v===tr)&&(w<0?P=Y-U:w>0&&(A=T-U),M<0?H=B-$:M>0&&(L=R-$),v=Jo,V.attr("cursor",Ge.selection),mt(G));break}default:return}Ko(G)}function Mt(G){switch(G.keyCode){case 16:{I&&(tt=et=I=!1,mt(G));break}case 18:{v===tr&&(w<0?P=Y:w>0&&(A=T),M<0?H=B:M>0&&(L=R),v=Qn,mt(G));break}case 32:{v===Jo&&(G.altKey?(w&&(P=Y-U*w,A=T+U*w),M&&(H=B-$*M,L=R+$*M),v=tr):(w<0?P=Y:w>0&&(A=T),M<0?H=B:M>0&&(L=R),v=Qn),V.attr("cursor",Ge[_]),mt(G));break}default:return}Ko(G)}}function g(b){l(this,arguments).moved(b)}function p(b){l(this,arguments).ended(b)}function m(){var b=this.__brush||{selection:null};return b.extent=gc(e.apply(this,arguments)),b.dim=t,b}return u.extent=function(b){return arguments.length?(e=typeof b=="function"?b:Zo(gc(b)),u):e},u.filter=function(b){return arguments.length?(n=typeof b=="function"?b:Zo(!!b),u):n},u.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Zo(!!b),u):r},u.handleSize=function(b){return arguments.length?(s=+b,u):s},u.keyModifiers=function(b){return arguments.length?(i=!!b,u):i},u.on=function(){var b=a.on.apply(a,arguments);return b===a?u:b},u}const Xs=Math.PI,Gs=2*Xs,Nn=1e-6,X2=Gs-Nn;function bh(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function G2(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bh;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bh:G2(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,f=this._y1,u=r-e,c=i-n,l=s-e,h=f-n,d=l*l+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Nn)if(!(Math.abs(h*u-c*l)>Nn)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,p=i-f,m=u*u+c*c,b=g*g+p*p,y=Math.sqrt(m),_=Math.sqrt(d),v=a*Math.tan((Xs-Math.acos((m+d-b)/(2*y*_)))/2),w=v/_,M=v/y;Math.abs(w-1)>Nn&&this._append`L${e+w*l},${n+w*h}`,this._append`A${a},${a},0,0,${+(h*g>l*p)},${this._x1=e+M*u},${this._y1=n+M*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=e+f,l=n+u,h=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Nn||Math.abs(this._y1-l)>Nn)&&this._append`L${c},${l}`,r&&(d<0&&(d=d%Gs+Gs),d>X2?this._append`A${r},${r},0,1,${h},${e-f},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:d>Nn&&this._append`A${r},${r},0,${+(d>=Xs)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gn(t=3){return new yh(+t)}function Z2(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gr(t){return t=Sa(Math.abs(t)),t?t[1]:NaN}function K2(t,e){return function(n,r){for(var i=n.length,a=[],s=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(n.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[s=(s+1)%t.length];return a.reverse().join(e)}}function J2(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Q2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ti(t){if(!(e=Q2.exec(t)))throw new Error("invalid format: "+t);var e;return new Hf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ti.prototype=Hf.prototype;function Hf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Hf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ty(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var _h;function ey(t,e){var n=Sa(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(_h=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Sa(t,Math.max(0,e+a-1))[0]}function bc(t,e){var n=Sa(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Z2,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bc(t*100,e),r:bc,s:ey,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _c(t){return t}var wc=Array.prototype.map,vc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ny(t){var e=t.grouping===void 0||t.thousands===void 0?_c:K2(wc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_c:J2(wc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h){h=ti(h);var d=h.fill,g=h.align,p=h.sign,m=h.symbol,b=h.zero,y=h.width,_=h.comma,v=h.precision,w=h.trim,M=h.type;M==="n"?(_=!0,M="g"):yc[M]||(v===void 0&&(v=12),w=!0,M="g"),(b||d==="0"&&g==="=")&&(b=!0,d="0",g="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",x=m==="$"?r:/[%p]/.test(M)?s:"",E=yc[M],D=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function A(T){var k=S,L=x,R,C,P;if(M==="c")L=E(T)+L,T="";else{T=+T;var Y=T<0||1/T<0;if(T=isNaN(T)?u:E(Math.abs(T),v),w&&(T=ty(T)),Y&&+T==0&&p!=="+"&&(Y=!1),k=(Y?p==="("?p:f:p==="-"||p==="("?"":p)+k,L=(M==="s"?vc[8+_h/3]:"")+L+(Y&&p==="("?")":""),D){for(R=-1,C=T.length;++R<C;)if(P=T.charCodeAt(R),48>P||P>57){L=(P===46?i+T.slice(R+1):T.slice(R))+L,T=T.slice(0,R);break}}}_&&!b&&(T=e(T,1/0));var K=k.length+T.length+L.length,H=K<y?new Array(y-K+1).join(d):"";switch(_&&b&&(T=e(H+T,H.length?y-L.length:1/0),H=""),g){case"<":T=k+T+L+H;break;case"=":T=k+H+T+L;break;case"^":T=H.slice(0,K=H.length>>1)+k+T+L+H.slice(K);break;default:T=H+k+T+L;break}return a(T)}return A.toString=function(){return h+""},A}function l(h,d){var g=c((h=ti(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(gr(d)/3)))*3,m=Math.pow(10,-p),b=vc[8+p/3];return function(y){return g(m*y)+b}}return{format:c,formatPrefix:l}}var Fi,Er,wh;ry({thousands:",",grouping:[3],currency:["$",""]});function ry(t){return Fi=ny(t),Er=Fi.format,wh=Fi.formatPrefix,Fi}function iy(t){return Math.max(0,-gr(Math.abs(t)))}function ay(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gr(e)/3)))*3-gr(Math.abs(t)))}function oy(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gr(e)-gr(t))+1}var dt=1e-6,vh=1e-12,gt=Math.PI,Nt=gt/2,Mc=gt/4,oe=gt*2,qt=180/gt,Ct=gt/180,_t=Math.abs,Cr=Math.atan,on=Math.atan2,ht=Math.cos,Mh=Math.exp,xa=Math.log,es=Math.pow,ut=Math.sin,de=Math.sign||function(t){return t>0?1:t<0?-1:0},te=Math.sqrt,Xf=Math.tan;function Sh(t){return t>1?0:t<-1?gt:Math.acos(t)}function _e(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function he(){}function Ta(t,e){t&&xc.hasOwnProperty(t.type)&&xc[t.type](t,e)}var Sc={Feature:function(t,e){Ta(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ta(n[r].geometry,e)}},xc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Zs(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Zs(n[r],e,0)},Polygon:function(t,e){Tc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Tc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ta(n[r],e)}};function Zs(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function Tc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Zs(t[n],e,1);e.polygonEnd()}function In(t,e){t&&Sc.hasOwnProperty(t.type)?Sc[t.type](t,e):Ta(t,e)}function Ks(t){return[on(t[1],t[0]),_e(t[2])]}function mr(t){var e=t[0],n=t[1],r=ht(n);return[r*ht(e),r*ut(e),ut(n)]}function Pi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Aa(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ns(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ri(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Js(t){var e=te(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Qs(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function tf(t,e){return _t(t)>gt&&(t-=Math.round(t/oe)*oe),[t,e]}tf.invert=tf;function xh(t,e,n){return(t%=oe)?e||n?Qs(kc(t),Ec(e,n)):kc(t):e||n?Ec(e,n):tf}function Ac(t){return function(e,n){return e+=t,_t(e)>gt&&(e-=Math.round(e/oe)*oe),[e,n]}}function kc(t){var e=Ac(t);return e.invert=Ac(-t),e}function Ec(t,e){var n=ht(t),r=ut(t),i=ht(e),a=ut(e);function s(f,u){var c=ht(u),l=ht(f)*c,h=ut(f)*c,d=ut(u),g=d*n+l*r;return[on(h*i-g*a,l*n-d*r),_e(g*i+h*a)]}return s.invert=function(f,u){var c=ht(u),l=ht(f)*c,h=ut(f)*c,d=ut(u),g=d*i-h*a;return[on(h*i+d*a,l*n+g*r),_e(g*n-l*r)]},s}function sy(t){t=xh(t[0]*Ct,t[1]*Ct,t.length>2?t[2]*Ct:0);function e(n){return n=t(n[0]*Ct,n[1]*Ct),n[0]*=qt,n[1]*=qt,n}return e.invert=function(n){return n=t.invert(n[0]*Ct,n[1]*Ct),n[0]*=qt,n[1]*=qt,n},e}function fy(t,e,n,r,i,a){if(n){var s=ht(e),f=ut(e),u=r*n;i==null?(i=e+r*oe,a=e-u/2):(i=Cc(s,i),a=Cc(s,a),(r>0?i<a:i>a)&&(i+=r*oe));for(var c,l=i;r>0?l>a:l<a;l-=u)c=Ks([s,-f*ht(l),-f*ut(l)]),t.point(c[0],c[1])}}function Cc(t,e){e=mr(e),e[0]-=t,Js(e);var n=Sh(-e[1]);return((-e[2]<0?-n:n)+oe-dt)%oe}function Th(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:he,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function aa(t,e){return _t(t[0]-e[0])<dt&&_t(t[1]-e[1])<dt}function Bi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ah(t,e,n,r,i){var a=[],s=[],f,u;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,b=p[0],y=p[m],_;if(aa(b,y)){if(!b[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((b=p[f])[0],b[1]);i.lineEnd();return}y[0]+=2*dt}a.push(_=new Bi(b,p,null,!0)),s.push(_.o=new Bi(b,null,_,!1)),a.push(_=new Bi(y,p,null,!1)),s.push(_.o=new Bi(y,null,_,!0))}}),!!a.length){for(s.sort(e),Nc(a),Nc(s),f=0,u=s.length;f<u;++f)s[f].e=n=!n;for(var c=a[0],l,h;;){for(var d=c,g=!0;d.v;)if((d=d.n)===c)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(f=0,u=l.length;f<u;++f)i.point((h=l[f])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(g)for(l=d.p.z,f=l.length-1;f>=0;--f)i.point((h=l[f])[0],h[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,l=d.z,g=!g}while(!d.v);i.lineEnd()}}}function Nc(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function rs(t){return _t(t[0])<=gt?t[0]:de(t[0])*((_t(t[0])+gt)%oe-gt)}function uy(t,e){var n=rs(e),r=e[1],i=ut(r),a=[ut(n),-ht(n),0],s=0,f=0,u=new $n;i===1?r=Nt+dt:i===-1&&(r=-Nt-dt);for(var c=0,l=t.length;c<l;++c)if(d=(h=t[c]).length)for(var h,d,g=h[d-1],p=rs(g),m=g[1]/2+Mc,b=ut(m),y=ht(m),_=0;_<d;++_,p=w,b=S,y=x,g=v){var v=h[_],w=rs(v),M=v[1]/2+Mc,S=ut(M),x=ht(M),E=w-p,D=E>=0?1:-1,A=D*E,T=A>gt,k=b*S;if(u.add(on(k*D*ut(A),y*x+k*ht(A))),s+=T?E+D*oe:E,T^p>=n^w>=n){var L=Aa(mr(g),mr(v));Js(L);var R=Aa(a,L);Js(R);var C=(T^E>=0?-1:1)*_e(R[2]);(r>C||r===C&&(L[0]||L[1]))&&(f+=T^E>=0?1:-1)}}return(s<-dt||s<dt&&u<-vh)^f&1}function kh(t,e,n,r){return function(i){var a=e(i),s=Th(),f=e(s),u=!1,c,l,h,d={point:g,lineStart:m,lineEnd:b,polygonStart:function(){d.point=y,d.lineStart=_,d.lineEnd=v,l=[],c=[]},polygonEnd:function(){d.point=g,d.lineStart=m,d.lineEnd=b,l=ah(l);var w=uy(c,r);l.length?(u||(i.polygonStart(),u=!0),Ah(l,ly,w,n,i)):w&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(w,M){t(w,M)&&i.point(w,M)}function p(w,M){a.point(w,M)}function m(){d.point=p,a.lineStart()}function b(){d.point=g,a.lineEnd()}function y(w,M){h.push([w,M]),f.point(w,M)}function _(){f.lineStart(),h=[]}function v(){y(h[0][0],h[0][1]),f.lineEnd();var w=f.clean(),M=s.result(),S,x=M.length,E,D,A;if(h.pop(),c.push(h),h=null,!!x){if(w&1){if(D=M[0],(E=D.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),S=0;S<E;++S)i.point((A=D[S])[0],A[1]);i.lineEnd()}return}x>1&&w&2&&M.push(M.pop().concat(M.shift())),l.push(M.filter(cy))}}return d}}function cy(t){return t.length>1}function ly(t,e){return((t=t.x)[0]<0?t[1]-Nt-dt:Nt-t[1])-((e=e.x)[0]<0?e[1]-Nt-dt:Nt-e[1])}const Dc=kh(function(){return!0},dy,gy,[-gt,-Nt]);function dy(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var f=a>0?gt:-gt,u=_t(a-e);_t(u-gt)<dt?(t.point(e,n=(n+s)/2>0?Nt:-Nt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(a,n),i=0):r!==f&&u>=gt&&(_t(e-r)<dt&&(e-=r*dt),_t(a-f)<dt&&(a-=f*dt),n=hy(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=a,n=s),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function hy(t,e,n,r){var i,a,s=ut(t-n);return _t(s)>dt?Cr((ut(e)*(a=ht(r))*ut(n)-ut(r)*(i=ht(e))*ut(t))/(i*a*s)):(e+r)/2}function gy(t,e,n,r){var i;if(t==null)i=n*Nt,r.point(-gt,i),r.point(0,i),r.point(gt,i),r.point(gt,0),r.point(gt,-i),r.point(0,-i),r.point(-gt,-i),r.point(-gt,0),r.point(-gt,i);else if(_t(t[0]-e[0])>dt){var a=t[0]<e[0]?gt:-gt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function my(t){var e=ht(t),n=2*Ct,r=e>0,i=_t(e)>dt;function a(l,h,d,g){fy(g,t,n,d,l,h)}function s(l,h){return ht(l)*ht(h)>e}function f(l){var h,d,g,p,m;return{lineStart:function(){p=g=!1,m=1},point:function(b,y){var _=[b,y],v,w=s(b,y),M=r?w?0:c(b,y):w?c(b+(b<0?gt:-gt),y):0;if(!h&&(p=g=w)&&l.lineStart(),w!==g&&(v=u(h,_),(!v||aa(h,v)||aa(_,v))&&(_[2]=1)),w!==g)m=0,w?(l.lineStart(),v=u(_,h),l.point(v[0],v[1])):(v=u(h,_),l.point(v[0],v[1],2),l.lineEnd()),h=v;else if(i&&h&&r^w){var S;!(M&d)&&(S=u(_,h,!0))&&(m=0,r?(l.lineStart(),l.point(S[0][0],S[0][1]),l.point(S[1][0],S[1][1]),l.lineEnd()):(l.point(S[1][0],S[1][1]),l.lineEnd(),l.lineStart(),l.point(S[0][0],S[0][1],3)))}w&&(!h||!aa(h,_))&&l.point(_[0],_[1]),h=_,g=w,d=M},lineEnd:function(){g&&l.lineEnd(),h=null},clean:function(){return m|(p&&g)<<1}}}function u(l,h,d){var g=mr(l),p=mr(h),m=[1,0,0],b=Aa(g,p),y=Pi(b,b),_=b[0],v=y-_*_;if(!v)return!d&&l;var w=e*y/v,M=-e*_/v,S=Aa(m,b),x=Ri(m,w),E=Ri(b,M);ns(x,E);var D=S,A=Pi(x,D),T=Pi(D,D),k=A*A-T*(Pi(x,x)-1);if(!(k<0)){var L=te(k),R=Ri(D,(-A-L)/T);if(ns(R,x),R=Ks(R),!d)return R;var C=l[0],P=h[0],Y=l[1],K=h[1],H;P<C&&(H=C,C=P,P=H);var B=P-C,U=_t(B-gt)<dt,$=U||B<dt;if(!U&&K<Y&&(H=Y,Y=K,K=H),$?U?Y+K>0^R[1]<(_t(R[0]-C)<dt?Y:K):Y<=R[1]&&R[1]<=K:B>gt^(C<=R[0]&&R[0]<=P)){var W=Ri(D,(-A+L)/T);return ns(W,x),[R,Ks(W)]}}}function c(l,h){var d=r?t:gt-t,g=0;return l<-d?g|=1:l>d&&(g|=2),h<-d?g|=4:h>d&&(g|=8),g}return kh(s,f,a,r?[0,-t]:[-gt,t-gt])}function py(t,e,n,r,i,a){var s=t[0],f=t[1],u=e[0],c=e[1],l=0,h=1,d=u-s,g=c-f,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<l)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>l&&(l=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>l&&(l=p)}else if(d>0){if(p<l)return;p<h&&(h=p)}if(p=r-f,!(!g&&p>0)){if(p/=g,g<0){if(p<l)return;p<h&&(h=p)}else if(g>0){if(p>h)return;p>l&&(l=p)}if(p=a-f,!(!g&&p<0)){if(p/=g,g<0){if(p>h)return;p>l&&(l=p)}else if(g>0){if(p<l)return;p<h&&(h=p)}return l>0&&(t[0]=s+l*d,t[1]=f+l*g),h<1&&(e[0]=s+h*d,e[1]=f+h*g),!0}}}}}var Ur=1e9,$i=-Ur;function Eh(t,e,n,r){function i(c,l){return t<=c&&c<=n&&e<=l&&l<=r}function a(c,l,h,d){var g=0,p=0;if(c==null||(g=s(c,h))!==(p=s(l,h))||u(c,l)<0^h>0)do d.point(g===0||g===3?t:n,g>1?r:e);while((g=(g+h+4)%4)!==p);else d.point(l[0],l[1])}function s(c,l){return _t(c[0]-t)<dt?l>0?0:3:_t(c[0]-n)<dt?l>0?2:1:_t(c[1]-e)<dt?l>0?1:0:l>0?3:2}function f(c,l){return u(c.x,l.x)}function u(c,l){var h=s(c,1),d=s(l,1);return h!==d?h-d:h===0?l[1]-c[1]:h===1?c[0]-l[0]:h===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,h=Th(),d,g,p,m,b,y,_,v,w,M,S,x={point:E,lineStart:k,lineEnd:L,polygonStart:A,polygonEnd:T};function E(C,P){i(C,P)&&l.point(C,P)}function D(){for(var C=0,P=0,Y=g.length;P<Y;++P)for(var K=g[P],H=1,B=K.length,U=K[0],$,W,I=U[0],tt=U[1];H<B;++H)$=I,W=tt,U=K[H],I=U[0],tt=U[1],W<=r?tt>r&&(I-$)*(r-W)>(tt-W)*(t-$)&&++C:tt<=r&&(I-$)*(r-W)<(tt-W)*(t-$)&&--C;return C}function A(){l=h,d=[],g=[],S=!0}function T(){var C=D(),P=S&&C,Y=(d=ah(d)).length;(P||Y)&&(c.polygonStart(),P&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),Y&&Ah(d,f,C,a,c),c.polygonEnd()),l=c,d=g=p=null}function k(){x.point=R,g&&g.push(p=[]),M=!0,w=!1,_=v=NaN}function L(){d&&(R(m,b),y&&w&&h.rejoin(),d.push(h.result())),x.point=E,w&&l.lineEnd()}function R(C,P){var Y=i(C,P);if(g&&p.push([C,P]),M)m=C,b=P,y=Y,M=!1,Y&&(l.lineStart(),l.point(C,P));else if(Y&&w)l.point(C,P);else{var K=[_=Math.max($i,Math.min(Ur,_)),v=Math.max($i,Math.min(Ur,v))],H=[C=Math.max($i,Math.min(Ur,C)),P=Math.max($i,Math.min(Ur,P))];py(K,H,t,e,n,r)?(w||(l.lineStart(),l.point(K[0],K[1])),l.point(H[0],H[1]),Y||l.lineEnd(),S=!1):Y&&(l.lineStart(),l.point(C,P),S=!1)}_=C,v=P,w=Y}return x}}const ef=t=>t;var is=new $n,nf=new $n,Ch,Nh,rf,af,dn={point:he,lineStart:he,lineEnd:he,polygonStart:function(){dn.lineStart=by,dn.lineEnd=_y},polygonEnd:function(){dn.lineStart=dn.lineEnd=dn.point=he,is.add(_t(nf)),nf=new $n},result:function(){var t=is/2;return is=new $n,t}};function by(){dn.point=yy}function yy(t,e){dn.point=Dh,Ch=rf=t,Nh=af=e}function Dh(t,e){nf.add(af*t-rf*e),rf=t,af=e}function _y(){Dh(Ch,Nh)}const Ic=dn;var pr=1/0,ka=pr,ei=-pr,Ea=ei,wy={point:vy,lineStart:he,lineEnd:he,polygonStart:he,polygonEnd:he,result:function(){var t=[[pr,ka],[ei,Ea]];return ei=Ea=-(ka=pr=1/0),t}};function vy(t,e){t<pr&&(pr=t),t>ei&&(ei=t),e<ka&&(ka=e),e>Ea&&(Ea=e)}const Ca=wy;var of=0,sf=0,zr=0,Na=0,Da=0,or=0,ff=0,uf=0,jr=0,Ih,Lh,Fe,Pe,xe={point:jn,lineStart:Lc,lineEnd:Oc,polygonStart:function(){xe.lineStart=xy,xe.lineEnd=Ty},polygonEnd:function(){xe.point=jn,xe.lineStart=Lc,xe.lineEnd=Oc},result:function(){var t=jr?[ff/jr,uf/jr]:or?[Na/or,Da/or]:zr?[of/zr,sf/zr]:[NaN,NaN];return of=sf=zr=Na=Da=or=ff=uf=jr=0,t}};function jn(t,e){of+=t,sf+=e,++zr}function Lc(){xe.point=My}function My(t,e){xe.point=Sy,jn(Fe=t,Pe=e)}function Sy(t,e){var n=t-Fe,r=e-Pe,i=te(n*n+r*r);Na+=i*(Fe+t)/2,Da+=i*(Pe+e)/2,or+=i,jn(Fe=t,Pe=e)}function Oc(){xe.point=jn}function xy(){xe.point=Ay}function Ty(){Oh(Ih,Lh)}function Ay(t,e){xe.point=Oh,jn(Ih=Fe=t,Lh=Pe=e)}function Oh(t,e){var n=t-Fe,r=e-Pe,i=te(n*n+r*r);Na+=i*(Fe+t)/2,Da+=i*(Pe+e)/2,or+=i,i=Pe*t-Fe*e,ff+=i*(Fe+t),uf+=i*(Pe+e),jr+=i*3,jn(Fe=t,Pe=e)}const Fc=xe;function Fh(t){this._context=t}Fh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,oe);break}}},result:he};var cf=new $n,as,Ph,Rh,qr,Wr,Ia={point:he,lineStart:function(){Ia.point=ky},lineEnd:function(){as&&Bh(Ph,Rh),Ia.point=he},polygonStart:function(){as=!0},polygonEnd:function(){as=null},result:function(){var t=+cf;return cf=new $n,t}};function ky(t,e){Ia.point=Bh,Ph=qr=t,Rh=Wr=e}function Bh(t,e){qr-=t,Wr-=e,cf.add(te(qr*qr+Wr*Wr)),qr=t,Wr=e}const Pc=Ia;let Rc,La,Bc,$c;class Uc{constructor(e){this._append=e==null?$h:Ey(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Bc||this._append!==La){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Bc=r,La=this._append,$c=this._,this._=i}this._+=$c;break}}}result(){const e=this._;return this._="",e.length?e:null}}function $h(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ey(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return $h;if(e!==Rc){const n=10**e;Rc=e,La=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return La}function fo(t,e){let n=3,r=4.5,i,a;function s(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),In(f,i(a))),a.result()}return s.area=function(f){return In(f,i(Ic)),Ic.result()},s.measure=function(f){return In(f,i(Pc)),Pc.result()},s.bounds=function(f){return In(f,i(Ca)),Ca.result()},s.centroid=function(f){return In(f,i(Fc)),Fc.result()},s.projection=function(f){return arguments.length?(i=f==null?(t=null,ef):(t=f).stream,s):t},s.context=function(f){return arguments.length?(a=f==null?(e=null,new Uc(n)):new Fh(e=f),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),s):r},s.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);n=u}return e===null&&(a=new Uc(n)),s},s.projection(t).digits(n).context(e)}function lf(t){return{stream:uo(t)}}function uo(t){return function(e){var n=new df;for(var r in t)n[r]=t[r];return n.stream=e,n}}function df(){}df.prototype={constructor:df,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),In(n,t.stream(Ca)),e(Ca.result()),r!=null&&t.clipExtent(r),t}function Zf(t,e,n){return Gf(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([f,u])},n)}function Uh(t,e,n){return Zf(t,[[0,0],e],n)}function zh(t,e,n){return Gf(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([s,f])},n)}function jh(t,e,n){return Gf(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,f])},n)}var zc=16,Cy=ht(30*Ct);function jc(t,e){return+e?Dy(t,e):Ny(t)}function Ny(t){return uo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Dy(t,e){function n(r,i,a,s,f,u,c,l,h,d,g,p,m,b){var y=c-r,_=l-i,v=y*y+_*_;if(v>4*e&&m--){var w=s+d,M=f+g,S=u+p,x=te(w*w+M*M+S*S),E=_e(S/=x),D=_t(_t(S)-1)<dt||_t(a-h)<dt?(a+h)/2:on(M,w),A=t(D,E),T=A[0],k=A[1],L=T-r,R=k-i,C=_*L-y*R;(C*C/v>e||_t((y*L+_*R)/v-.5)>.3||s*d+f*g+u*p<Cy)&&(n(r,i,a,s,f,u,T,k,D,w/=x,M/=x,S,m,b),b.point(T,k),n(T,k,D,w,M,S,c,l,h,d,g,p,m,b))}}return function(r){var i,a,s,f,u,c,l,h,d,g,p,m,b={point:y,lineStart:_,lineEnd:w,polygonStart:function(){r.polygonStart(),b.lineStart=M},polygonEnd:function(){r.polygonEnd(),b.lineStart=_}};function y(E,D){E=t(E,D),r.point(E[0],E[1])}function _(){h=NaN,b.point=v,r.lineStart()}function v(E,D){var A=mr([E,D]),T=t(E,D);n(h,d,l,g,p,m,h=T[0],d=T[1],l=E,g=A[0],p=A[1],m=A[2],zc,r),r.point(h,d)}function w(){b.point=y,r.lineEnd()}function M(){_(),b.point=S,b.lineEnd=x}function S(E,D){v(i=E,D),a=h,s=d,f=g,u=p,c=m,b.point=v}function x(){n(h,d,l,g,p,m,a,s,i,f,u,c,zc,r),b.lineEnd=w,w()}return b}}var Iy=uo({point:function(t,e){this.stream.point(t*Ct,e*Ct)}});function Ly(t){return uo({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Oy(t,e,n,r,i){function a(s,f){return s*=r,f*=i,[e+t*s,n-t*f]}return a.invert=function(s,f){return[(s-e)/t*r,(n-f)/t*i]},a}function qc(t,e,n,r,i,a){if(!a)return Oy(t,e,n,r,i);var s=ht(a),f=ut(a),u=s*t,c=f*t,l=s/t,h=f/t,d=(f*n-s*e)/t,g=(f*e+s*n)/t;function p(m,b){return m*=r,b*=i,[u*m-c*b+e,n-c*m-u*b]}return p.invert=function(m,b){return[r*(l*m-h*b+d),i*(g-h*m-l*b)]},p}function An(t){return qh(function(){return t})()}function qh(t){var e,n=150,r=480,i=250,a=0,s=0,f=0,u=0,c=0,l,h=0,d=1,g=1,p=null,m=Dc,b=null,y,_,v,w=ef,M=.5,S,x,E,D,A;function T(C){return E(C[0]*Ct,C[1]*Ct)}function k(C){return C=E.invert(C[0],C[1]),C&&[C[0]*qt,C[1]*qt]}T.stream=function(C){return D&&A===C?D:D=Iy(Ly(l)(m(S(w(A=C)))))},T.preclip=function(C){return arguments.length?(m=C,p=void 0,R()):m},T.postclip=function(C){return arguments.length?(w=C,b=y=_=v=null,R()):w},T.clipAngle=function(C){return arguments.length?(m=+C?my(p=C*Ct):(p=null,Dc),R()):p*qt},T.clipExtent=function(C){return arguments.length?(w=C==null?(b=y=_=v=null,ef):Eh(b=+C[0][0],y=+C[0][1],_=+C[1][0],v=+C[1][1]),R()):b==null?null:[[b,y],[_,v]]},T.scale=function(C){return arguments.length?(n=+C,L()):n},T.translate=function(C){return arguments.length?(r=+C[0],i=+C[1],L()):[r,i]},T.center=function(C){return arguments.length?(a=C[0]%360*Ct,s=C[1]%360*Ct,L()):[a*qt,s*qt]},T.rotate=function(C){return arguments.length?(f=C[0]%360*Ct,u=C[1]%360*Ct,c=C.length>2?C[2]%360*Ct:0,L()):[f*qt,u*qt,c*qt]},T.angle=function(C){return arguments.length?(h=C%360*Ct,L()):h*qt},T.reflectX=function(C){return arguments.length?(d=C?-1:1,L()):d<0},T.reflectY=function(C){return arguments.length?(g=C?-1:1,L()):g<0},T.precision=function(C){return arguments.length?(S=jc(x,M=C*C),R()):te(M)},T.fitExtent=function(C,P){return Zf(T,C,P)},T.fitSize=function(C,P){return Uh(T,C,P)},T.fitWidth=function(C,P){return zh(T,C,P)},T.fitHeight=function(C,P){return jh(T,C,P)};function L(){var C=qc(n,0,0,d,g,h).apply(null,e(a,s)),P=qc(n,r-C[0],i-C[1],d,g,h);return l=xh(f,u,c),x=Qs(e,P),E=Qs(l,x),S=jc(x,M),R()}function R(){return D=A=null,T}return function(){return e=t.apply(this,arguments),T.invert=e.invert&&k,L()}}function Kf(t){var e=0,n=gt/3,r=qh(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ct,n=a[1]*Ct):[e*qt,n*qt]},i}function Fy(t){var e=ht(t);function n(r,i){return[r*e,ut(i)/e]}return n.invert=function(r,i){return[r/e,_e(i*e)]},n}function Py(t,e){var n=ut(t),r=(n+ut(e))/2;if(_t(r)<dt)return Fy(t);var i=1+n*(2*r-n),a=te(i)/r;function s(f,u){var c=te(i-2*r*ut(u))/r;return[c*ut(f*=r),a-c*ht(f)]}return s.invert=function(f,u){var c=a-u,l=on(f,_t(c))*de(c);return c*r<0&&(l-=gt*de(f)*de(c)),[l/r,_e((i-(f*f+c*c)*r*r)/(2*r))]},s}function Oa(){return Kf(Py).scale(155.424).center([0,33.6442])}function Wh(){return Oa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ry(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function By(){var t,e,n=Wh(),r,i=Oa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Oa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(d,g){u=[d,g]}};function l(d){var g=d[0],p=d[1];return u=null,r.point(g,p),u||(a.point(g,p),u)||(f.point(g,p),u)}l.invert=function(d){var g=n.scale(),p=n.translate(),m=(d[0]-p[0])/g,b=(d[1]-p[1])/g;return(b>=.12&&b<.234&&m>=-.425&&m<-.214?i:b>=.166&&b<.234&&m>=-.214&&m<-.115?s:n).invert(d)},l.stream=function(d){return t&&e===d?t:t=Ry([n.stream(e=d),i.stream(d),s.stream(d)])},l.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),h()):n.precision()},l.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),l.translate(n.translate())):n.scale()},l.translate=function(d){if(!arguments.length)return n.translate();var g=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*g,m-.238*g],[p+.455*g,m+.238*g]]).stream(c),a=i.translate([p-.307*g,m+.201*g]).clipExtent([[p-.425*g+dt,m+.12*g+dt],[p-.214*g-dt,m+.234*g-dt]]).stream(c),f=s.translate([p-.205*g,m+.212*g]).clipExtent([[p-.214*g+dt,m+.166*g+dt],[p-.115*g-dt,m+.234*g-dt]]).stream(c),h()},l.fitExtent=function(d,g){return Zf(l,d,g)},l.fitSize=function(d,g){return Uh(l,d,g)},l.fitWidth=function(d,g){return zh(l,d,g)},l.fitHeight=function(d,g){return jh(l,d,g)};function h(){return t=e=null,l}return l.scale(1070)}function Vh(t){return function(e,n){var r=ht(e),i=ht(n),a=t(r*i);return a===1/0?[2,0]:[a*i*ut(e),a*ut(n)]}}function di(t){return function(e,n){var r=te(e*e+n*n),i=t(r),a=ut(i),s=ht(i);return[on(e*a,r*s),_e(r&&n*a/r)]}}var Yh=Vh(function(t){return te(2/(1+t))});Yh.invert=di(function(t){return 2*_e(t/2)});function $y(){return An(Yh).scale(124.75).clipAngle(180-.001)}var Hh=Vh(function(t){return(t=Sh(t))&&t/ut(t)});Hh.invert=di(function(t){return t});function Uy(){return An(Hh).scale(79.4188).clipAngle(180-.001)}function co(t,e){return[t,xa(Xf((Nt+e)/2))]}co.invert=function(t,e){return[t,2*Cr(Mh(e))-Nt]};function zy(){return Xh(co).scale(961/oe)}function Xh(t){var e=An(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,f,u,c;e.scale=function(h){return arguments.length?(r(h),l()):r()},e.translate=function(h){return arguments.length?(i(h),l()):i()},e.center=function(h){return arguments.length?(n(h),l()):n()},e.clipExtent=function(h){return arguments.length?(h==null?s=f=u=c=null:(s=+h[0][0],f=+h[0][1],u=+h[1][0],c=+h[1][1]),l()):s==null?null:[[s,f],[u,c]]};function l(){var h=gt*r(),d=e(sy(e.rotate()).invert([0,0]));return a(s==null?[[d[0]-h,d[1]-h],[d[0]+h,d[1]+h]]:t===co?[[Math.max(d[0]-h,s),f],[Math.min(d[0]+h,u),c]]:[[s,Math.max(d[1]-h,f)],[u,Math.min(d[1]+h,c)]])}return l()}function Ui(t){return Xf((Nt+t)/2)}function jy(t,e){var n=ht(t),r=t===e?ut(t):xa(n/ht(e))/xa(Ui(e)/Ui(t)),i=n*es(Ui(t),r)/r;if(!r)return co;function a(s,f){i>0?f<-Nt+dt&&(f=-Nt+dt):f>Nt-dt&&(f=Nt-dt);var u=i/es(Ui(f),r);return[u*ut(r*s),i-u*ht(r*s)]}return a.invert=function(s,f){var u=i-f,c=de(r)*te(s*s+u*u),l=on(s,_t(u))*de(u);return u*r<0&&(l-=gt*de(s)*de(u)),[l/r,2*Cr(es(i/c,1/r))-Nt]},a}function qy(){return Kf(jy).scale(109.5).parallels([30,30])}function Fa(t,e){return[t,e]}Fa.invert=Fa;function Wy(){return An(Fa).scale(152.63)}function Vy(t,e){var n=ht(t),r=t===e?ut(t):(n-ht(e))/(e-t),i=n/r+t;if(_t(r)<dt)return Fa;function a(s,f){var u=i-f,c=r*s;return[u*ut(c),i-u*ht(c)]}return a.invert=function(s,f){var u=i-f,c=on(s,_t(u))*de(u);return u*r<0&&(c-=gt*de(s)*de(u)),[c/r,i-de(r)*te(s*s+u*u)]},a}function Yy(){return Kf(Vy).scale(131.154).center([0,13.9389])}var Xr=1.340264,Gr=-.081106,Zr=893e-6,Kr=.003796,Pa=te(3)/2,Hy=12;function Gh(t,e){var n=_e(Pa*ut(e)),r=n*n,i=r*r*r;return[t*ht(n)/(Pa*(Xr+3*Gr*r+i*(7*Zr+9*Kr*r))),n*(Xr+Gr*r+i*(Zr+Kr*r))]}Gh.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,f,u;a<Hy&&(f=n*(Xr+Gr*r+i*(Zr+Kr*r))-e,u=Xr+3*Gr*r+i*(7*Zr+9*Kr*r),n-=s=f/u,r=n*n,i=r*r*r,!(_t(s)<vh));++a);return[Pa*t*(Xr+3*Gr*r+i*(7*Zr+9*Kr*r))/ht(n),_e(ut(n)/Pa)]};function Xy(){return An(Gh).scale(177.158)}function Zh(t,e){var n=ht(e),r=ht(t)*n;return[n*ut(t)/r,ut(e)/r]}Zh.invert=di(Cr);function Gy(){return An(Zh).scale(144.049).clipAngle(60)}function Kh(t,e){return[ht(e)*ut(t),ut(e)]}Kh.invert=di(_e);function Zy(){return An(Kh).scale(249.5).clipAngle(90+dt)}function Jh(t,e){var n=ht(e),r=1+ht(t)*n;return[n*ut(t)/r,ut(e)/r]}Jh.invert=di(function(t){return 2*Cr(t)});function Ky(){return An(Jh).scale(250).clipAngle(142)}function Qh(t,e){return[xa(Xf((Nt+e)/2)),-t]}Qh.invert=function(t,e){return[-e,2*Cr(Mh(t))-Nt]};function Jy(){var t=Xh(Qh),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function He(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function lo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const hf=Symbol("implicit");function Jf(){var t=new Un,e=[],n=[],r=hf;function i(a){let s=t.get(a);if(s===void 0){if(r!==hf)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Un;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Jf(e,n).unknown(r)},He.apply(i,arguments),i}function ho(){var t=Jf().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,f=!1,u=0,c=0,l=.5;delete t.unknown;function h(){var d=e().length,g=i<r,p=g?i:r,m=g?r:i;a=(m-p)/Math.max(1,d-u+c*2),f&&(a=Math.floor(a)),p+=(m-p-a*(d-u))*l,s=a*(1-u),f&&(p=Math.round(p),s=Math.round(s));var b=js(d).map(function(y){return p+a*y});return n(g?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(f=!!d,h()):f},t.padding=function(d){return arguments.length?(u=Math.min(1,c=+d),h()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),h()):u},t.paddingOuter=function(d){return arguments.length?(c=+d,h()):c},t.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),h()):l},t.copy=function(){return ho(e(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(l)},He.apply(h(),arguments)}function t0(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return t0(e())},t}function Qy(){return t0(ho.apply(null,arguments).paddingInner(1))}function t6(t){return function(){return t}}function gf(t){return+t}var Wc=[0,1];function ge(t){return t}function mf(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:t6(isNaN(e)?NaN:.5)}function e6(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function n6(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=mf(i,r),a=n(s,a)):(r=mf(r,i),a=n(a,s)),function(f){return a(r(f))}}function r6(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=mf(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(f){var u=$f(t,f,1,r)-1;return a[u](i[u](f))}}function hi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function go(){var t=Wc,e=Wc,n=kr,r,i,a,s=ge,f,u,c;function l(){var d=Math.min(t.length,e.length);return s!==ge&&(s=e6(t[0],t[d-1])),f=d>2?r6:n6,u=c=null,h}function h(d){return d==null||isNaN(d=+d)?a:(u||(u=f(t.map(r),e,n)))(r(s(d)))}return h.invert=function(d){return s(i((c||(c=f(e,t.map(r),Mn)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,gf),l()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),l()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=Vf,l()},h.clamp=function(d){return arguments.length?(s=d?!0:ge,l()):s!==ge},h.interpolate=function(d){return arguments.length?(n=d,l()):n},h.unknown=function(d){return arguments.length?(a=d,h):a},function(d,g){return r=d,i=g,l()}}function e0(){return go()(ge,ge)}function i6(t,e,n,r){var i=Us(t,e,n),a;switch(r=ti(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ay(i,s))&&(r.precision=a),wh(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=oy(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=iy(i))&&(r.precision=a-(r.type==="%")*2);break}}return Er(r)}function gi(t){var e=t.domain;return t.ticks=function(n){var r=e();return ba(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return i6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],f=r[a],u,c,l=10;for(f<s&&(c=s,s=f,f=c,c=i,i=a,a=c);l-- >0;){if(c=$s(s,f,n),c===u)return r[i]=s,r[a]=f,e(r);if(c>0)s=Math.floor(s/c)*c,f=Math.ceil(f/c)*c;else if(c<0)s=Math.ceil(s*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function Qf(){var t=e0();return t.copy=function(){return hi(t,Qf())},He.apply(t,arguments),gi(t)}function n0(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,gf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return n0(t).unknown(e)},t=arguments.length?Array.from(t,gf):[0,1],gi(n)}function r0(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Vc(t){return Math.log(t)}function Yc(t){return Math.exp(t)}function a6(t){return-Math.log(-t)}function o6(t){return-Math.exp(-t)}function s6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function f6(t){return t===10?s6:t===Math.E?Math.exp:e=>Math.pow(t,e)}function u6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Hc(t){return(e,n)=>-t(-e,n)}function i0(t){const e=t(Vc,Yc),n=e.domain;let r=10,i,a;function s(){return i=u6(r),a=f6(r),n()[0]<0?(i=Hc(i),a=Hc(a),t(a6,o6)):t(Vc,Yc),e}return e.base=function(f){return arguments.length?(r=+f,s()):r},e.domain=function(f){return arguments.length?(n(f),s()):n()},e.ticks=f=>{const u=n();let c=u[0],l=u[u.length-1];const h=l<c;h&&([c,l]=[l,c]);let d=i(c),g=i(l),p,m;const b=f==null?10:+f;let y=[];if(!(r%1)&&g-d<b){if(d=Math.floor(d),g=Math.ceil(g),c>0){for(;d<=g;++d)for(p=1;p<r;++p)if(m=d<0?p/a(-d):p*a(d),!(m<c)){if(m>l)break;y.push(m)}}else for(;d<=g;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/a(-d):p*a(d),!(m<c)){if(m>l)break;y.push(m)}y.length*2<b&&(y=ba(c,l,b))}else y=ba(d,g,Math.min(g-d,b)).map(a);return h?y.reverse():y},e.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ti(u)).precision==null&&(u.trim=!0),u=Er(u)),f===1/0)return u;const c=Math.max(1,r*f/e.ticks().length);return l=>{let h=l/a(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=c?u(l):""}},e.nice=()=>n(r0(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),e}function a0(){const t=i0(go()).domain([1,10]);return t.copy=()=>hi(t,a0()).base(t.base()),He.apply(t,arguments),t}function Xc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Gc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function o0(t){var e=1,n=t(Xc(e),Gc(e));return n.constant=function(r){return arguments.length?t(Xc(e=+r),Gc(e)):e},gi(n)}function s0(){var t=o0(go());return t.copy=function(){return hi(t,s0()).constant(t.constant())},He.apply(t,arguments)}function Zc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function c6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function l6(t){return t<0?-t*t:t*t}function f0(t){var e=t(ge,ge),n=1;function r(){return n===1?t(ge,ge):n===.5?t(c6,l6):t(Zc(n),Zc(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gi(e)}function u0(){var t=f0(go());return t.copy=function(){return hi(t,u0()).exponent(t.exponent())},He.apply(t,arguments),t}function c0(){var t=[],e=[],n=[],r;function i(){var s=0,f=Math.max(1,e.length);for(n=new Array(f-1);++s<f;)n[s-1]=f2(t,s/f);return a}function a(s){return s==null||isNaN(s=+s)?r:e[$f(n,s)]}return a.invertExtent=function(s){var f=e.indexOf(s);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let f of s)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Qt),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return c0().domain(t).range(e).unknown(r)},He.apply(a,arguments)}function l0(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[$f(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return l0().domain(t).range(e).unknown(n)},He.apply(i,arguments)}const os=new Date,ss=new Date;function Ft(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),f=i.ceil(a);return a-s<f-a?s:f},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,f)=>{const u=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<s)||!(f>0))return u;let c;do u.push(c=new Date(+a)),e(a,f),t(a);while(c<a&&a<s);return u},i.filter=a=>Ft(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,f)=>{if(s>=s)if(f<0)for(;++f<=0;)for(;e(s,-1),!a(s););else for(;--f>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(os.setTime(+a),ss.setTime(+s),t(os),t(ss),Math.floor(n(os,ss))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ra=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ra.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ra);Ra.range;const rn=1e3,me=rn*60,an=me*60,sn=an*24,tu=sn*7,Kc=sn*30,fs=sn*365,Te=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*rn)},(t,e)=>(e-t)/rn,t=>t.getUTCSeconds());Te.range;const mi=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rn)},(t,e)=>{t.setTime(+t+e*me)},(t,e)=>(e-t)/me,t=>t.getMinutes());mi.range;const pi=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*me)},(t,e)=>(e-t)/me,t=>t.getUTCMinutes());pi.range;const bi=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rn-t.getMinutes()*me)},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getHours());bi.range;const yi=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getUTCHours());yi.range;const Hn=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*me)/sn,t=>t.getDate()-1);Hn.range;const mo=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sn,t=>t.getUTCDate()-1);mo.range;const po=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sn,t=>Math.floor(t/sn));po.range;function Xn(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*me)/tu)}const br=Xn(0),ni=Xn(1),d0=Xn(2),h0=Xn(3),qn=Xn(4),g0=Xn(5),m0=Xn(6);br.range;ni.range;d0.range;h0.range;qn.range;g0.range;m0.range;function Gn(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tu)}const yr=Gn(0),ri=Gn(1),p0=Gn(2),b0=Gn(3),Wn=Gn(4),y0=Gn(5),_0=Gn(6);yr.range;ri.range;p0.range;b0.range;Wn.range;y0.range;_0.range;const _i=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_i.range;const wi=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wi.range;const ke=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ke.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ke.range;const Ee=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ee.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ee.range;function w0(t,e,n,r,i,a){const s=[[Te,1,rn],[Te,5,5*rn],[Te,15,15*rn],[Te,30,30*rn],[a,1,me],[a,5,5*me],[a,15,15*me],[a,30,30*me],[i,1,an],[i,3,3*an],[i,6,6*an],[i,12,12*an],[r,1,sn],[r,2,2*sn],[n,1,tu],[e,1,Kc],[e,3,3*Kc],[t,1,fs]];function f(c,l,h){const d=l<c;d&&([c,l]=[l,c]);const g=h&&typeof h.range=="function"?h:u(c,l,h),p=g?g.range(c,+l+1):[];return d?p.reverse():p}function u(c,l,h){const d=Math.abs(l-c)/h,g=io(([,,b])=>b).right(s,d);if(g===s.length)return t.every(Us(c/fs,l/fs,h));if(g===0)return Ra.every(Math.max(Us(c,l,h),1));const[p,m]=s[d/s[g-1][2]<s[g][2]/d?g-1:g];return p.every(m)}return[f,u]}const[d6,h6]=w0(Ee,wi,yr,po,yi,pi),[g6,m6]=w0(ke,_i,br,Hn,bi,mi);function us(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function cs(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function p6(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,f=t.months,u=t.shortMonths,c=Pr(i),l=Rr(i),h=Pr(a),d=Rr(a),g=Pr(s),p=Rr(s),m=Pr(f),b=Rr(f),y=Pr(u),_=Rr(u),v={a:Y,A:K,b:H,B,c:null,d:rl,e:rl,f:$6,g:G6,G:K6,H:P6,I:R6,j:B6,L:v0,m:U6,M:z6,p:U,q:$,Q:ol,s:sl,S:j6,u:q6,U:W6,V:V6,w:Y6,W:H6,x:null,X:null,y:X6,Y:Z6,Z:J6,"%":al},w={a:W,A:I,b:tt,B:et,c:null,d:il,e:il,f:n_,g:d_,G:g_,H:Q6,I:t_,j:e_,L:S0,m:r_,M:i_,p:z,q:Q,Q:ol,s:sl,S:a_,u:o_,U:s_,V:f_,w:u_,W:c_,x:null,X:null,y:l_,Y:h_,Z:m_,"%":al},M={a:A,A:T,b:k,B:L,c:R,d:el,e:el,f:I6,g:tl,G:Qc,H:nl,I:nl,j:E6,L:D6,m:k6,M:C6,p:D,q:A6,Q:O6,s:F6,S:N6,u:v6,U:M6,V:S6,w:w6,W:x6,x:C,X:P,y:tl,Y:Qc,Z:T6,"%":L6};v.x=S(n,v),v.X=S(r,v),v.c=S(e,v),w.x=S(n,w),w.X=S(r,w),w.c=S(e,w);function S(F,V){return function(X){var O=[],mt=-1,nt=0,yt=F.length,Mt,G,wt;for(X instanceof Date||(X=new Date(+X));++mt<yt;)F.charCodeAt(mt)===37&&(O.push(F.slice(nt,mt)),(G=Jc[Mt=F.charAt(++mt)])!=null?Mt=F.charAt(++mt):G=Mt==="e"?" ":"0",(wt=V[Mt])&&(Mt=wt(X,G)),O.push(Mt),nt=mt+1);return O.push(F.slice(nt,mt)),O.join("")}}function x(F,V){return function(X){var O=Fr(1900,void 0,1),mt=E(O,F,X+="",0),nt,yt;if(mt!=X.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(V&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(nt=cs(Fr(O.y,0,1)),yt=nt.getUTCDay(),nt=yt>4||yt===0?ri.ceil(nt):ri(nt),nt=mo.offset(nt,(O.V-1)*7),O.y=nt.getUTCFullYear(),O.m=nt.getUTCMonth(),O.d=nt.getUTCDate()+(O.w+6)%7):(nt=us(Fr(O.y,0,1)),yt=nt.getDay(),nt=yt>4||yt===0?ni.ceil(nt):ni(nt),nt=Hn.offset(nt,(O.V-1)*7),O.y=nt.getFullYear(),O.m=nt.getMonth(),O.d=nt.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),yt="Z"in O?cs(Fr(O.y,0,1)).getUTCDay():us(Fr(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(yt+5)%7:O.w+O.U*7-(yt+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,cs(O)):us(O)}}function E(F,V,X,O){for(var mt=0,nt=V.length,yt=X.length,Mt,G;mt<nt;){if(O>=yt)return-1;if(Mt=V.charCodeAt(mt++),Mt===37){if(Mt=V.charAt(mt++),G=M[Mt in Jc?V.charAt(mt++):Mt],!G||(O=G(F,X,O))<0)return-1}else if(Mt!=X.charCodeAt(O++))return-1}return O}function D(F,V,X){var O=c.exec(V.slice(X));return O?(F.p=l.get(O[0].toLowerCase()),X+O[0].length):-1}function A(F,V,X){var O=g.exec(V.slice(X));return O?(F.w=p.get(O[0].toLowerCase()),X+O[0].length):-1}function T(F,V,X){var O=h.exec(V.slice(X));return O?(F.w=d.get(O[0].toLowerCase()),X+O[0].length):-1}function k(F,V,X){var O=y.exec(V.slice(X));return O?(F.m=_.get(O[0].toLowerCase()),X+O[0].length):-1}function L(F,V,X){var O=m.exec(V.slice(X));return O?(F.m=b.get(O[0].toLowerCase()),X+O[0].length):-1}function R(F,V,X){return E(F,e,V,X)}function C(F,V,X){return E(F,n,V,X)}function P(F,V,X){return E(F,r,V,X)}function Y(F){return s[F.getDay()]}function K(F){return a[F.getDay()]}function H(F){return u[F.getMonth()]}function B(F){return f[F.getMonth()]}function U(F){return i[+(F.getHours()>=12)]}function $(F){return 1+~~(F.getMonth()/3)}function W(F){return s[F.getUTCDay()]}function I(F){return a[F.getUTCDay()]}function tt(F){return u[F.getUTCMonth()]}function et(F){return f[F.getUTCMonth()]}function z(F){return i[+(F.getUTCHours()>=12)]}function Q(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var V=S(F+="",v);return V.toString=function(){return F},V},parse:function(F){var V=x(F+="",!1);return V.toString=function(){return F},V},utcFormat:function(F){var V=S(F+="",w);return V.toString=function(){return F},V},utcParse:function(F){var V=x(F+="",!0);return V.toString=function(){return F},V}}}var Jc={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,b6=/^%/,y6=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function _6(t){return t.replace(y6,"\\$&")}function Pr(t){return new RegExp("^(?:"+t.map(_6).join("|")+")","i")}function Rr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function w6(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v6(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function M6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function S6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function x6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Qc(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tl(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function T6(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A6(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function k6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function el(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function E6(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nl(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function C6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function N6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function D6(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function I6(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function L6(t,e,n){var r=b6.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function O6(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function F6(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rl(t,e){return bt(t.getDate(),e,2)}function P6(t,e){return bt(t.getHours(),e,2)}function R6(t,e){return bt(t.getHours()%12||12,e,2)}function B6(t,e){return bt(1+Hn.count(ke(t),t),e,3)}function v0(t,e){return bt(t.getMilliseconds(),e,3)}function $6(t,e){return v0(t,e)+"000"}function U6(t,e){return bt(t.getMonth()+1,e,2)}function z6(t,e){return bt(t.getMinutes(),e,2)}function j6(t,e){return bt(t.getSeconds(),e,2)}function q6(t){var e=t.getDay();return e===0?7:e}function W6(t,e){return bt(br.count(ke(t)-1,t),e,2)}function M0(t){var e=t.getDay();return e>=4||e===0?qn(t):qn.ceil(t)}function V6(t,e){return t=M0(t),bt(qn.count(ke(t),t)+(ke(t).getDay()===4),e,2)}function Y6(t){return t.getDay()}function H6(t,e){return bt(ni.count(ke(t)-1,t),e,2)}function X6(t,e){return bt(t.getFullYear()%100,e,2)}function G6(t,e){return t=M0(t),bt(t.getFullYear()%100,e,2)}function Z6(t,e){return bt(t.getFullYear()%1e4,e,4)}function K6(t,e){var n=t.getDay();return t=n>=4||n===0?qn(t):qn.ceil(t),bt(t.getFullYear()%1e4,e,4)}function J6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function il(t,e){return bt(t.getUTCDate(),e,2)}function Q6(t,e){return bt(t.getUTCHours(),e,2)}function t_(t,e){return bt(t.getUTCHours()%12||12,e,2)}function e_(t,e){return bt(1+mo.count(Ee(t),t),e,3)}function S0(t,e){return bt(t.getUTCMilliseconds(),e,3)}function n_(t,e){return S0(t,e)+"000"}function r_(t,e){return bt(t.getUTCMonth()+1,e,2)}function i_(t,e){return bt(t.getUTCMinutes(),e,2)}function a_(t,e){return bt(t.getUTCSeconds(),e,2)}function o_(t){var e=t.getUTCDay();return e===0?7:e}function s_(t,e){return bt(yr.count(Ee(t)-1,t),e,2)}function x0(t){var e=t.getUTCDay();return e>=4||e===0?Wn(t):Wn.ceil(t)}function f_(t,e){return t=x0(t),bt(Wn.count(Ee(t),t)+(Ee(t).getUTCDay()===4),e,2)}function u_(t){return t.getUTCDay()}function c_(t,e){return bt(ri.count(Ee(t)-1,t),e,2)}function l_(t,e){return bt(t.getUTCFullYear()%100,e,2)}function d_(t,e){return t=x0(t),bt(t.getUTCFullYear()%100,e,2)}function h_(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function g_(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wn(t):Wn.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function m_(){return"+0000"}function al(){return"%"}function ol(t){return+t}function sl(t){return Math.floor(+t/1e3)}var er,eu,vi;p_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p_(t){return er=p6(t),eu=er.format,er.parse,vi=er.utcFormat,er.utcParse,er}function b_(t){return new Date(t)}function y_(t){return t instanceof Date?+t:+new Date(+t)}function nu(t,e,n,r,i,a,s,f,u,c){var l=e0(),h=l.invert,d=l.domain,g=c(".%L"),p=c(":%S"),m=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),_=c("%b %d"),v=c("%B"),w=c("%Y");function M(S){return(u(S)<S?g:f(S)<S?p:s(S)<S?m:a(S)<S?b:r(S)<S?i(S)<S?y:_:n(S)<S?v:w)(S)}return l.invert=function(S){return new Date(h(S))},l.domain=function(S){return arguments.length?d(Array.from(S,y_)):d().map(b_)},l.ticks=function(S){var x=d();return t(x[0],x[x.length-1],S??10)},l.tickFormat=function(S,x){return x==null?M:c(x)},l.nice=function(S){var x=d();return(!S||typeof S.range!="function")&&(S=e(x[0],x[x.length-1],S??10)),S?d(r0(x,S)):l},l.copy=function(){return hi(l,nu(t,e,n,r,i,a,s,f,u,c))},l}function __(){return He.apply(nu(g6,m6,ke,_i,br,Hn,bi,mi,Te,eu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w_(){return He.apply(nu(d6,h6,Ee,wi,yr,mo,yi,pi,Te,vi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yo(){var t=0,e=.5,n=1,r=1,i,a,s,f,u,c=ge,l,h=!1,d;function g(m){return isNaN(m=+m)?d:(m=.5+((m=+l(m))-a)*(r*m<r*a?f:u),c(h?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([t,e,n]=m,i=l(t=+t),a=l(e=+e),s=l(n=+n),f=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(m){return arguments.length?(h=!!m,g):h},g.interpolator=function(m){return arguments.length?(c=m,g):c};function p(m){return function(b){var y,_,v;return arguments.length?([y,_,v]=b,c=so(m,[y,_,v]),g):[c(0),c(.5),c(1)]}}return g.range=p(kr),g.rangeRound=p(Vf),g.unknown=function(m){return arguments.length?(d=m,g):d},function(m){return l=m,i=m(t),a=m(e),s=m(n),f=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g}}function T0(){var t=gi(yo()(ge));return t.copy=function(){return bo(t,T0())},lo.apply(t,arguments)}function A0(){var t=i0(yo()).domain([.1,1,10]);return t.copy=function(){return bo(t,A0()).base(t.base())},lo.apply(t,arguments)}function k0(){var t=o0(yo());return t.copy=function(){return bo(t,k0()).constant(t.constant())},lo.apply(t,arguments)}function E0(){var t=f0(yo());return t.copy=function(){return bo(t,E0()).exponent(t.exponent())},lo.apply(t,arguments)}function lt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const C0=lt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),v_=lt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),M_=lt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),S_=lt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),x_=lt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),T_=lt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),A_=lt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),k_=lt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),E_=lt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),C_=lt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),N_=lt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Tt=t=>zp(t[t.length-1]);var N0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(lt);const D0=Tt(N0);var I0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(lt);const L0=Tt(I0);var O0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(lt);const F0=Tt(O0);var P0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(lt);const R0=Tt(P0);var pf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(lt);const Ba=Tt(pf);var B0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(lt);const $0=Tt(B0);var bf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(lt);const $a=Tt(bf);var U0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(lt);const z0=Tt(U0);var j0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(lt);const q0=Tt(j0);var W0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(lt);const V0=Tt(W0);var Y0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(lt);const H0=Tt(Y0);var X0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(lt);const G0=Tt(X0);var Z0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(lt);const K0=Tt(Z0);var J0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(lt);const Q0=Tt(J0);var t1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(lt);const e1=Tt(t1);var n1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(lt);const r1=Tt(n1);var i1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(lt);const a1=Tt(i1);var o1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(lt);const s1=Tt(o1);var f1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(lt);const u1=Tt(f1);var c1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(lt);const l1=Tt(c1);var d1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(lt);const h1=Tt(d1);var g1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(lt);const m1=Tt(g1);var p1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(lt);const b1=Tt(p1);var y1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(lt);const _1=Tt(y1);var w1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(lt);const v1=Tt(w1);var M1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(lt);const S1=Tt(M1);var x1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(lt);const T1=Tt(x1);function A1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const k1=Yf(ze(300,.5,0),ze(-240,.5,1));var E1=Yf(ze(-100,.75,.35),ze(80,1.5,.8)),C1=Yf(ze(260,.75,.35),ze(80,1.5,.8)),zi=ze();function N1(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return zi.h=360*t-100,zi.s=1.5-1.5*e,zi.l=.8-.9*e,zi+""}var ji=la(),D_=Math.PI/3,I_=Math.PI*2/3;function D1(t){var e;return t=(.5-t)*Math.PI,ji.r=255*(e=Math.sin(t))*e,ji.g=255*(e=Math.sin(t+D_))*e,ji.b=255*(e=Math.sin(t+I_))*e,ji+""}function I1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function _o(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const L1=_o(lt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var O1=_o(lt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),F1=_o(lt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),P1=_o(lt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function nr(t){return function(){return t}}const R1=Math.cos,ru=Math.min,Ua=Math.sin,Pt=Math.sqrt,fl=1e-12,za=Math.PI,wo=2*za;function L_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yh(e)}function O_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function B1(t){this._context=t}B1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vo(t){return new B1(t)}function F_(t){return t[0]}function P_(t){return t[1]}function R_(t,e){var n=nr(!0),r=null,i=vo,a=null,s=L_(f);t=typeof t=="function"?t:t===void 0?F_:nr(t),e=typeof e=="function"?e:e===void 0?P_:nr(e);function f(u){var c,l=(u=O_(u)).length,h,d=!1,g;for(r==null&&(a=i(g=s())),c=0;c<=l;++c)!(c<l&&n(h=u[c],c,u))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,c,u),+e(h,c,u));if(g)return a=null,g+""||null}return f.x=function(u){return arguments.length?(t=typeof u=="function"?u:nr(+u),f):t},f.y=function(u){return arguments.length?(e=typeof u=="function"?u:nr(+u),f):e},f.defined=function(u){return arguments.length?(n=typeof u=="function"?u:nr(!!u),f):n},f.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),f):r},f}class $1{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function B_(t){return new $1(t,!0)}function $_(t){return new $1(t,!1)}const U_=Pt(3),U1={draw(t,e){const n=Pt(e+ru(e/28,.75))*.59436,r=n/2,i=r*U_;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},ii={draw(t,e){const n=Pt(e/za);t.moveTo(n,0),t.arc(0,0,n,0,wo)}},z1={draw(t,e){const n=Pt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j1=Pt(1/3),z_=j1*2,q1={draw(t,e){const n=Pt(e/z_),r=n*j1;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},W1={draw(t,e){const n=Pt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},V1={draw(t,e){const n=Pt(e-ru(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Y1={draw(t,e){const n=Pt(e),r=-n/2;t.rect(r,r,n,n)}},H1={draw(t,e){const n=Pt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},j_=.8908130915292852,X1=Ua(za/10)/Ua(7*za/10),q_=Ua(wo/10)*X1,W_=-R1(wo/10)*X1,G1={draw(t,e){const n=Pt(e*j_),r=q_*n,i=W_*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=wo*a/5,f=R1(s),u=Ua(s);t.lineTo(u*n,-f*n),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},ls=Pt(3),Z1={draw(t,e){const n=-Pt(e/(ls*3));t.moveTo(0,n*2),t.lineTo(-ls*n,-n),t.lineTo(ls*n,-n),t.closePath()}},V_=Pt(3),K1={draw(t,e){const n=Pt(e)*.6824,r=n/2,i=n*V_/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},fe=-.5,ue=Pt(3)/2,yf=1/Pt(12),Y_=(yf/2+1)*3,J1={draw(t,e){const n=Pt(e/Y_),r=n/2,i=n*yf,a=r,s=n*yf+n,f=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(f,u),t.lineTo(fe*r-ue*i,ue*r+fe*i),t.lineTo(fe*a-ue*s,ue*a+fe*s),t.lineTo(fe*f-ue*u,ue*f+fe*u),t.lineTo(fe*r+ue*i,fe*i-ue*r),t.lineTo(fe*a+ue*s,fe*s-ue*a),t.lineTo(fe*f+ue*u,fe*u-ue*f),t.closePath()}},Q1={draw(t,e){const n=Pt(e-ru(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},H_=[ii,z1,q1,Y1,G1,Z1,J1],X_=[ii,V1,Q1,K1,U1,H1,W1];function xn(){}function ja(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Mo(t){this._context=t}Mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ja(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ja(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G_(t){return new Mo(t)}function tg(t){this._context=t}tg.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ja(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Z_(t){return new tg(t)}function eg(t){this._context=t}eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ja(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K_(t){return new eg(t)}function ng(t,e){this._basis=new Mo(t),this._beta=e}ng.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,s=e[n]-i,f=-1,u;++f<=n;)u=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+u*a),this._beta*e[f]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const J_=function t(e){function n(r){return e===1?new Mo(r):new ng(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function qa(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function iu(t,e){this._context=t,this._k=(1-e)/6}iu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Q_=function t(e){function n(r){return new iu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function au(t,e){this._context=t,this._k=(1-e)/6}au.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const t3=function t(e){function n(r){return new au(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ou(t,e){this._context=t,this._k=(1-e)/6}ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const e3=function t(e){function n(r){return new ou(r,e)}return n.tension=function(r){return t(+r)},n}(0);function su(t,e,n){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>fl){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>fl){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function rg(t,e){this._context=t,this._alpha=e}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const n3=function t(e){function n(r){return e?new rg(r,e):new iu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ig(t,e){this._context=t,this._alpha=e}ig.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const r3=function t(e){function n(r){return e?new ig(r,e):new au(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ag(t,e){this._context=t,this._alpha=e}ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const i3=function t(e){function n(r){return e?new ag(r,e):new ou(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function og(t){this._context=t}og.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function a3(t){return new og(t)}function ul(t){return t<0?-1:1}function cl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),f=(a*i+s*r)/(r+i);return(ul(a)+ul(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(f))||0}function ll(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ds(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,f=(a-r)/3;t._context.bezierCurveTo(r+f,i+f*e,a-f,s-f*n,a,s)}function Wa(t){this._context=t}Wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ds(this,this._t0,ll(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ds(this,ll(this,n=cl(this,t,e)),n);break;default:ds(this,this._t0,n=cl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sg(t){this._context=new fg(t)}(sg.prototype=Object.create(Wa.prototype)).point=function(t,e){Wa.prototype.point.call(this,e,t)};function fg(t){this._context=t}fg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function o3(t){return new Wa(t)}function s3(t){return new sg(t)}function ug(t){this._context=t}ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=dl(t),i=dl(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dl(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function f3(t){return new ug(t)}function So(t,e){this._context=t,this._t=e}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function u3(t){return new So(t,.5)}function c3(t){return new So(t,0)}function l3(t){return new So(t,1)}function Tn(t){return t!=null&&!Number.isNaN(t)}function je(t,e){return+Tn(e)-+Tn(t)||Qt(t,e)}function Va(t,e){return+Tn(e)-+Tn(t)||li(t,e)}function fu(t){return t!=null&&`${t}`!=""}function cg(t){return isFinite(t)?t:NaN}function xo(t){return t>0&&isFinite(t)?t:NaN}function uu(t){return t<0&&isFinite(t)?t:NaN}function d3(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${h3(t.getUTCFullYear())}-${en(t.getUTCMonth()+1,2)}-${en(t.getUTCDate(),2)}${n||r||i||a?`T${en(n,2)}:${en(r,2)}${i||a?`:${en(i,2)}${a?`.${en(a,3)}`:""}`:""}Z`:""}`}function h3(t){return t<0?`-${en(-t,6)}`:t>9999?`+${en(t,6)}`:en(t,4)}function en(t,e){return`${t}`.padStart(e,"0")}const g3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function lg(t,e){return g3.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function _r(t){if(t==null)return;const e=t[0],n=t[t.length-1];return li(e,n)}const sr=1e3,mn=sr*60,pn=mn*60,qe=pn*24,Oe=qe*7,Rn=qe*30,cn=qe*365,hs=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",sr],["5 seconds",5*sr],["15 seconds",15*sr],["30 seconds",30*sr],["minute",mn],["5 minutes",5*mn],["15 minutes",15*mn],["30 minutes",30*mn],["hour",pn],["3 hours",3*pn],["6 hours",6*pn],["12 hours",12*pn],["day",qe],["2 days",2*qe],["week",Oe],["2 weeks",2*Oe],["month",Rn],["3 months",3*Rn],["6 months",6*Rn],["year",cn],["2 years",2*cn],["5 years",5*cn],["10 years",10*cn],["20 years",20*cn],["50 years",50*cn],["100 years",100*cn]],cu=new Map([["second",sr],["minute",mn],["hour",pn],["day",qe],["monday",Oe],["tuesday",Oe],["wednesday",Oe],["thursday",Oe],["friday",Oe],["saturday",Oe],["sunday",Oe],["week",Oe],["month",Rn],["year",cn]]),dg=new Map([["second",Te],["minute",mi],["hour",bi],["day",Hn],["monday",ni],["tuesday",d0],["wednesday",h0],["thursday",qn],["friday",g0],["saturday",m0],["sunday",br],["week",br],["month",_i],["year",ke]]),lu=new Map([["second",Te],["minute",pi],["hour",yi],["day",po],["monday",ri],["tuesday",p0],["wednesday",b0],["thursday",Wn],["friday",y0],["saturday",_0],["sunday",yr],["week",yr],["month",wi],["year",Ee]]),Mi=Symbol("intervalDuration"),To=Symbol("intervalType");for(const[t,e]of dg)e[Mi]=cu.get(t),e[To]="time";for(const[t,e]of lu)e[Mi]=cu.get(t),e[To]="utc";const Vr=[["year",Ee,"utc"],["month",wi,"utc"],["day",po,"utc",6*Rn],["hour",yi,"utc",3*qe],["minute",pi,"utc",6*pn],["second",Te,"utc",30*mn]],oa=[["year",ke,"time"],["month",_i,"time"],["day",Hn,"time",6*Rn],["hour",bi,"time",3*qe],["minute",mi,"time",6*pn],["second",Te,"time",30*mn]],m3=[Vr[0],oa[0],Vr[1],oa[1],Vr[2],oa[2],...Vr.slice(3)];function hg(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=lu.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function gg(t){return pg(hg(t),"time")}function mg(t){return pg(hg(t),"utc")}function pg([t,e],n){let r=(n==="time"?dg:lu).get(t);return e>1&&(r=r.every(e),r[Mi]=cu.get(t)*e,r[To]=n),r}function hl(t,e){if(!(e>1))return;const n=t[Mi];if(!hs.some(([,i])=>i===n)||n%qe===0&&qe<n&&n<Rn)return;const[r]=hs[io(([,i])=>Math.log(i)).center(hs,Math.log(n*e))];return(t[To]==="time"?gg:mg)(r)}function gl(t,e,n){const r=e==="time"?eu:vi;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=p3(n);switch(t){case"millisecond":return rr(r(".%L"),r(":%M:%S"),i);case"second":return rr(r(":%S"),r("%-I:%M"),i);case"minute":return rr(r("%-I:%M"),r("%p"),i);case"hour":return rr(r("%-I %p"),r("%b %-d"),i);case"day":return rr(r("%-d"),r("%b"),i);case"month":return rr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function p3(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function b3(t){return t==="time"?oa:t==="utc"?Vr:m3}function y3(t,e,n){const r=ae(d2(e,(i,a)=>Math.abs(a-i)));if(r<1e3)return gl("millisecond","utc",n);for(const[i,a,s,f]of b3(t)){if(r>f||i==="hour"&&!r)break;if(e.every(u=>a.floor(u)>=u))return gl(i,s,n)}}function rr(t,e,n){return(r,i,a)=>{const s=t(r,i),f=e(r,i),u=i-_r(a);return i!==u&&a[u]!==void 0&&f===e(a[u],u)?s:n(s,f)}}const ai=Object.getPrototypeOf(Uint8Array),_3=Object.prototype.toString,bg=Symbol("reindex");function ye(t,e,n){const r=typeof e;return r==="string"?ml(t,yg(e),n):r==="function"?ml(t,e,n):r==="number"||e instanceof Date||r==="boolean"?$t(t,Si(e),n):typeof(e==null?void 0:e.transform)=="function"?pl(e.transform(t),n):w3(pl(e,n),t==null?void 0:t[bg])}function w3(t,e){return t!=null&&e?hu(t,e):t}function ml(t,e,n){return $t(t,(n==null?void 0:n.prototype)instanceof ai?v3(e):e,n)}function pl(t,e){return e===void 0?se(t):t instanceof e?t:e.prototype instanceof ai&&!(t instanceof ai)?e.from(t,du):e.from(t)}function v3(t){return(e,n)=>du(t(e,n))}const sa=[null],yg=t=>e=>e[t],_g={transform:kn},Me={transform:t=>t},M3=()=>1,S3=()=>!0,Wt=t=>t==null?t:`${t}`,kt=t=>t==null?t:+t,wg=t=>t?t[0]:void 0,x3=t=>t?t[1]:void 0,Si=t=>()=>t;function T3(t){const e=+`${t}`.slice(1)/100;return(n,r)=>ya(n,e,r)}function bn(t){return t instanceof ai?t:$t(t,du,Float64Array)}function du(t){return t==null?NaN:Number(t)}function A3(t){return $t(t,k3)}function k3(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?lg(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Vn(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Eo(t)?[void 0,t]:[t,void 0]}function Vt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function vg(t,e,n){if(t!=null)return Ce(t,e,n)}function Ce(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function se(t){return t==null||t instanceof Array||t instanceof ai?t:Array.from(t)}function $t(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function oi(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Mg({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function E3({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function C3(t){return Mg(t)||E3(t)||t.interval!==void 0}function Zn(t){return(t==null?void 0:t.toString)===_3}function Ya(t){return Zn(t)&&(t.type!==void 0||t.domain!==void 0)}function Ao(t){return Zn(t)&&typeof t.transform!="function"}function wr(t){return Ao(t)&&t.value===void 0&&t.channel===void 0}function N3(t,e,n,r=Me){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function xi(t,e){return t===void 0&&e===void 0?[wg,x3]:[t,e]}function Sg({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Vn(e)),t===void 0&&([t]=Vn(n)),t}function kn(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function hu(t,e){return $t(e,n=>t[n],t.constructor)}function D3(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Ln(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _f(t){let e;return[{transform:()=>e,label:Ti(t)},n=>e=n]}function I3(t){return t==null?[t]:_f(t)}function Ti(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function L3(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return we(r)||we(i)?$t(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):$t(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:t.label}}function O3(t,e){const n=xg(e==null?void 0:e.interval,e==null?void 0:e.type);return n?$t(t,n):t}function xg(t,e){const n=gu(t,e);return n&&(r=>Tn(r)?n.floor(r):r)}function gu(t,e){if(t!=null){if(typeof t=="number")return F3(t);if(typeof t=="string")return(e==="time"?gg:mg)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function F3(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>js(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>js(Math.ceil(n/e),r/e).map(i=>i*e)}}function Ai(t,e){if(t=gu(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function P3(t,e){if(t=Ai(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function R3(t){return typeof(t==null?void 0:t.range)=="function"}function ko(t){return t===void 0||Ao(t)?t:{value:t}}function B3(t){return t==null?null:{transform:e=>ye(e,t,Float64Array),label:Ti(t)}}function Kn(t){return t&&typeof t[Symbol.iterator]=="function"}function Tg(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function bl(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function we(t){for(const e of t)if(e!=null)return e instanceof Date}function $3(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&lg(e)}function U3(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function z3(t){for(const e of t)if(e!=null)return typeof e=="number"}function gs(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const j3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Eo(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||j3.has(t))}function q3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Kt(t){return t==null||si(t)}function si(t){return/^\s*none\s*$/i.test(t)}function W3(t){return/^\s*round\s*$/i.test(t)}function wf(t,e){return vg(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Co(t="middle"){return wf(t,"frameAnchor")}function V3(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const a=r[i];n===t?n={...n,[i]:a}:n[i]=a}return n}function Y3(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function Ag(t){return Kn(t)?Y3(t):t}function kg(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=Ce(t,"clip",["frame","sphere"])),t}const Be=Symbol("position"),fn=Symbol("color"),ki=Symbol("radius"),Ei=Symbol("length"),Ci=Symbol("opacity"),No=Symbol("symbol"),Eg=Symbol("projection"),Et=new Map([["x",Be],["y",Be],["fx",Be],["fy",Be],["r",ki],["color",fn],["opacity",Ci],["symbol",No],["length",Ei],["projection",Eg]]);function H3(t){return t===Be||t===Eg}function X3(t){return t===Be||t===ki||t===Ei||t===Ci}const G3=Math.sqrt(3),Z3=2/G3,K3={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Z3,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},mu=new Map([["asterisk",U1],["circle",ii],["cross",z1],["diamond",q1],["diamond2",W1],["hexagon",K3],["plus",V1],["square",Y1],["square2",H1],["star",G1],["times",Q1],["triangle",Z1],["triangle2",K1],["wye",J1]]);function pu(t){return t&&typeof t.draw=="function"}function J3(t){return pu(t)?!0:typeof t!="string"?!1:mu.has(t.toLowerCase())}function bu(t){if(t==null||pu(t))return t;const e=mu.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Q3(t){if(t==null||pu(t))return[void 0,t];if(typeof t=="string"){const e=mu.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function yu({filter:t,sort:e,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(t!=null&&(r=Cg(t)),e!=null&&!wr(e)&&(r=ms(r,_u(e))),n&&(r=ms(r,Ng))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||wr(e))&&{sort:e},transform:ms(r,s)}}function vr({filter:t,sort:e,reverse:n,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=Cg(t)),e!=null&&!wr(e)&&(r=ps(r,_u(e))),n&&(r=ps(r,Ng))),{...i,...(e===null||wr(e))&&{sort:e},initializer:ps(r,a)}}function ms(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,se(n),r,i)}}function ps(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...a){let s,f,u,c,l,h;return{data:f=n,facets:u=r,channels:s}=t.call(this,n,r,i,...a),{data:l=f,facets:h=u,channels:c}=e.call(this,f,u,{...i,...s},...a),{data:l,facets:h,channels:{...s,...c}}}}function tw(t,e){return(t.initializer!=null?vr:yu)(t,e)}function Cg(t){return(e,n)=>{const r=ye(e,t);return{data:e,facets:n.map(i=>i.filter(a=>r[a]))}}}function Ng(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function ew(t,{sort:e,...n}={}){return{...(Ao(t)&&t.channel!==void 0?vr:tw)(n,_u(t)),sort:wr(e)?e:null}}function _u(t){return(typeof t=="function"&&t.length!==1?nw:rw)(t)}function nw(t){return(e,n)=>{const r=(i,a)=>t(e[i],e[a]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function rw(t){let e,n;({channel:e,value:t,order:n}={...ko(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Va:je),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=je;break;case"descending":n=Va;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let f;if(e===void 0)f=ye(i,t);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(f=s[e],!f)return{};f=f.value}const u=(c,l)=>n(f[c],f[l]);return{data:i,facets:a.map(c=>c.slice().sort(u))}}}function iw(t,e,n=aw){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Zn(t))return ow(t);if(typeof t=="function")return sw(t);if(/^p\d{2}$/i.test(t))return Qe(T3(t));switch(`${t}`.toLowerCase()){case"first":return uw;case"last":return cw;case"identity":return fw;case"count":return _l;case"distinct":return lw;case"sum":return e==null?_l:dw;case"proportion":return wl(e,"data");case"proportion-facet":return wl(e,"facet");case"deviation":return Qe(t2);case"min":return Qe(Ue);case"min-index":return Qe(s2);case"max":return Qe(ae);case"max-index":return Qe(o2);case"mean":return yl(u2);case"median":return yl(zs);case"variance":return Qe(Jd);case"mode":return Qe(l2)}return n(t)}function aw(t){throw new Error(`invalid reduce: ${t}`)}function ow(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function sw(t){return{reduceIndex(e,n,r){return t(hu(n,e),r)}}}function Qe(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function yl(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return we(n)?new Date(r):r}}}const fw={reduceIndex(t,e){return hu(e,t)}},uw={reduceIndex(t,e){return e[t[0]]}},cw={reduceIndex(t,e){return e[t[t.length-1]]}},_l={label:"Frequency",reduceIndex(t){return t.length}},lw={label:"Distinct",reduceIndex(t,e){const n=new ao;for(const r of t)n.add(e[r]);return n.size}},dw=Qe(zn);function wl(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>zn(n,a=>r[a])/i}}function fi(t,{scale:e,type:n,value:r,filter:i,hint:a,label:s=Ti(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Dg(f,{scale:e,type:n,value:ye(t,r),label:s,filter:i,hint:a})}function hw(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,fi(e,r,n)]))}function gw(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const s=i==null?null:e[i];return[r,s==null?a:$t(a,s)]}));return n.channels=t,n}function Dg(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&gs(r,Eo)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&gs(r,q3)?null:"opacity";break;case"symbol":n!==!0&&gs(r,J3)?(e.scale=null,e.value=$t(r,bu)):e.scale="symbol";break;default:e.scale=Et.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Et.has(n))throw new Error(`unknown scale: ${n}`);return e}function mw(t,e,n,r,i){const{order:a,reverse:s,reduce:f=!0,limit:u}=i;for(const c in i){if(!Et.has(c))continue;let{value:l,order:h=a,reverse:d=s,reduce:g=f,limit:p=u}=ko(i[c]);const m=l==null?void 0:l.startsWith("-");if(m&&(l=l.slice(1)),h=h===void 0?m!==(l==="width"||l==="height")?Lg:Ig:yw(h),g==null||g===!1)continue;const b=c==="fx"||c==="fy"?bw(e,r[c]):pw(n,c);if(!b)throw new Error(`missing channel for scale: ${c}`);const y=b.value,[_=0,v=1/0]=Kn(p)?p:p<0?[p]:[0,p];if(l==null)b.domain=()=>{let w=Array.from(new ao(y));return d&&(w=w.reverse()),(_!==0||v!==1/0)&&(w=w.slice(_,v)),w};else{const w=l==="data"?t:l==="height"?vl(n,"y1","y2"):l==="width"?vl(n,"x1","x2"):vf(n,l,l==="y"?"y2":l==="x"?"x2":void 0),M=iw(g===!0?"max":g,w);b.domain=()=>{let S=e2(kn(y),x=>M.reduceIndex(x,w),x=>y[x]);return h&&S.sort(h),d&&S.reverse(),(_!==0||v!==1/0)&&(S=S.slice(_,v)),S.map(wg)}}}}function pw(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function bw(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const f of t[a])i[f]=s}return e}function vl(t,e,n){const r=vf(t,e),i=vf(t,n);return $t(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function vf(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function yw(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Ig;case"descending":return Lg}throw new Error(`invalid order: ${t}`)}function Ig([t,e],[n,r]){return je(e,r)||je(t,n)}function Lg([t,e],[n,r]){return Va(e,r)||je(t,n)}function Ml(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const Og=new Map([["accent",v_],["category10",C0],["dark2",M_],["observable10",S_],["paired",x_],["pastel1",T_],["pastel2",A_],["set1",k_],["set2",E_],["set3",C_],["tableau10",N_]]);function _w(t){return t!=null&&Og.has(`${t}`.toLowerCase())}const Sl=new Map([...Og,["brbg",Ze(N0,D0)],["prgn",Ze(I0,L0)],["piyg",Ze(O0,F0)],["puor",Ze(P0,R0)],["rdbu",Ze(pf,Ba)],["rdgy",Ze(B0,$0)],["rdylbu",Ze(bf,$a)],["rdylgn",Ze(U0,z0)],["spectral",Ze(j0,q0)],["burd",xl(pf,Ba)],["buylrd",xl(bf,$a)],["blues",Bt(g1,m1)],["greens",Bt(p1,b1)],["greys",Bt(y1,_1)],["oranges",Bt(x1,T1)],["purples",Bt(w1,v1)],["reds",Bt(M1,S1)],["turbo",Ke(I1)],["viridis",Ke(L1)],["magma",Ke(O1)],["inferno",Ke(F1)],["plasma",Ke(P1)],["cividis",Ke(A1)],["cubehelix",Ke(k1)],["warm",Ke(E1)],["cool",Ke(C1)],["bugn",Bt(W0,V0)],["bupu",Bt(Y0,H0)],["gnbu",Bt(X0,G0)],["orrd",Bt(Z0,K0)],["pubu",Bt(t1,e1)],["pubugn",Bt(J0,Q0)],["purd",Bt(n1,r1)],["rdpu",Bt(i1,a1)],["ylgn",Bt(f1,u1)],["ylgnbu",Bt(o1,s1)],["ylorbr",Bt(c1,l1)],["ylorrd",Bt(d1,h1)],["rainbow",Tl(N1)],["sinebow",Tl(D1)]]);function Bt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Ae(e,n):t[n])}function Ze(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Ae(e,n):t[n])}function xl(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Ae(r=>e(1-r),n):t[n].slice().reverse())}function Ke(t){return({length:e})=>Ae(t,Math.max(2,Math.floor(e)))}function Tl(t){return({length:e})=>Ae(t,Math.floor(e)+1).slice(0,-1)}function Fg(t){const e=`${t}`.toLowerCase();if(!Sl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Sl.get(e)}function Do(t,e){const n=Fg(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function ww(t,e="greys"){const n=new Set,[r,i]=Do(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const Al=new Map([["brbg",D0],["prgn",L0],["piyg",F0],["puor",R0],["rdbu",Ba],["rdgy",$0],["rdylbu",$a],["rdylgn",z0],["spectral",q0],["burd",t=>Ba(1-t)],["buylrd",t=>$a(1-t)],["blues",m1],["greens",b1],["greys",_1],["purples",v1],["reds",S1],["oranges",T1],["turbo",I1],["viridis",L1],["magma",O1],["inferno",F1],["plasma",P1],["cividis",A1],["cubehelix",k1],["warm",E1],["cool",C1],["bugn",V0],["bupu",H0],["gnbu",G0],["orrd",K0],["pubugn",Q0],["pubu",e1],["purd",r1],["rdpu",a1],["ylgnbu",s1],["ylgn",u1],["ylorbr",l1],["ylorrd",h1],["rainbow",N1],["sinebow",D1]]);function wu(t){const e=`${t}`.toLowerCase();if(!Al.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Al.get(e)}const vw=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Mw(t){return t!=null&&vw.has(`${t}`.toLowerCase())}const Pg=t=>e=>t(1-e),bs=[0,1],kl=new Map([["number",Mn],["rgb",Jr],["hsl",O2],["hcl",R2],["lab",F2]]);function Rg(t){const e=`${t}`.toLowerCase();if(!kl.has(e))throw new Error(`unknown interpolator: ${e}`);return kl.get(e)}function Ni(t,e,n,{type:r,nice:i,clamp:a,zero:s,domain:f=$g(t,n),unknown:u,round:c,scheme:l,interval:h,range:d=Et.get(t)===ki?Lw(n,f):Et.get(t)===Ei?Ow(n,f):Et.get(t)===Ci?bs:void 0,interpolate:g=Et.get(t)===fn?l==null&&d!==void 0?Jr:wu(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):c?Vf:Mn,reverse:p}){if(h=Ai(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof g!="function"&&(g=Rg(g)),p=!!p,d!==void 0){const m=(f=se(f)).length,b=(d=se(d)).length;if(m!==b){if(g.length===1)throw new Error("invalid piecewise interpolator");g=so(g,d),d=void 0}}if(g.length===1?(p&&(g=Pg(g),p=!1),d===void 0&&(d=Float64Array.from(f,(m,b)=>b/(f.length-1)),d.length===2&&(d=bs)),e.interpolate((d===bs?Si:Mu)(g))):e.interpolate(g),s){const[m,b]=_n(f);(m>0||b<0)&&(f=oi(f),(_r(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=_a(f)),e.domain(f).unknown(u),i&&(e.nice(Sw(i,r)),f=e.domain()),d!==void 0&&e.range(d),a&&e.clamp(a),{type:r,domain:f,range:d,scale:e,interpolate:g,interval:h}}function Sw(t,e){return t===!0?void 0:typeof t=="number"?t:P3(t,e)}function xw(t,e,n){return Ni(t,Qf(),e,n)}function Tw(t,e,n){return Bg(t,e,{...n,exponent:.5})}function Bg(t,e,{exponent:n=1,...r}){return Ni(t,u0().exponent(n),e,{...r,type:"pow"})}function Aw(t,e,{base:n=10,domain:r=Fw(e),...i}){return Ni(t,a0().base(n),e,{...i,domain:r})}function kw(t,e,{constant:n=1,...r}){return Ni(t,s0().constant(n),e,r)}function Ew(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=Pw(e),unknown:f,interpolate:u,reverse:c}){return n===void 0&&(n=u!==void 0?Ae(u,i):Et.get(t)===fn?Do(a,i):void 0),s.length>0&&(s=c0(s,n===void 0?{length:i}:n).quantiles()),vu(t,e,{domain:s,range:n,reverse:c,unknown:f})}function Cw(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=$g(t,e),unknown:s,interpolate:f,reverse:u}){const[c,l]=_n(a);let h;return n===void 0?(h=ba(c,l,r),h[0]<=c&&h.splice(0,1),h[h.length-1]>=l&&h.pop(),r=h.length+1,n=f!==void 0?Ae(f,r):Et.get(t)===fn?Do(i,r):void 0):(h=Ae(Mn(c,l),r+1).slice(1,-1),c instanceof Date&&(h=h.map(d=>new Date(d)))),_r(se(a))<0&&h.reverse(),vu(t,e,{domain:h,range:n,reverse:u,unknown:s})}function vu(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?Ae(a,n.length+1):Et.get(t)===fn?Do(i,n.length+1):void 0,reverse:f}){n=se(n);const u=_r(n);if(!isNaN(u)&&!Nw(n,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(s=_a(s)),{type:"threshold",scale:l0(u<0?_a(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function Nw(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const a=li(i,i=t[n]);if(a!==0&&a!==e)return!1}return!0}function Dw(t){return{type:"identity",scale:X3(Et.get(t))?n0():e=>e}}function ui(t,e=cg){return t.length?[Ue(t,({value:n})=>n===void 0?n:Ue(n,e)),ae(t,({value:n})=>n===void 0?n:ae(n,e))]:[0,1]}function $g(t,e){const n=Et.get(t);return(n===ki||n===Ci||n===Ei?Iw:ui)(e)}function Iw(t){return[0,t.length?ae(t,({value:e})=>e===void 0?e:ae(e,cg)):1]}function Lw(t,e){const n=t.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=ya(t,.5,({value:s})=>s===void 0?NaN:ya(s,.25,xo)),i=e.map(s=>3*Math.sqrt(s/r)),a=30/ae(i);return a<1?i.map(s=>s*a):i}function Ow(t,e){const n=zs(t,({value:a})=>a===void 0?NaN:zs(a,Math.abs)),r=e.map(a=>12*a/n),i=60/ae(r);return i<1?r.map(a=>a*i):r}function Fw(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return ui(t,xo);if(n<0)return ui(t,uu)}return[1,10]}function Pw(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function Mu(t){return(e,n)=>r=>t(e+r*(n-e))}let Mf=0,Sf;function Rw(){const t=Mf;return Mf=0,Sf=void 0,t}function wn(t){t!==Sf&&(Sf=t,console.warn(t),++Mf)}function Io(t,e,n,r,{type:i,nice:a,clamp:s,domain:f=ui(r),unknown:u,pivot:c=0,scheme:l,range:h,symmetric:d=!0,interpolate:g=Et.get(t)===fn?l==null&&h!==void 0?Jr:wu(l!==void 0?l:"rdbu"):Mn,reverse:p}){c=+c,f=se(f);let[m,b]=f;if(f.length>2&&wn(`Warning: the diverging ${t} scale domain contains extra elements.`),li(m,b)<0&&([m,b]=[b,m],p=!p),m=Math.min(m,c),b=Math.max(b,c),typeof g!="function"&&(g=Rg(g)),h!==void 0&&(g=g.length===1?Mu(g)(...h):so(g,h)),p&&(g=Pg(g)),d){const y=n.apply(c),_=y-n.apply(m),v=n.apply(b)-y;_<v?m=n.invert(y-v):_>v&&(b=n.invert(y+_))}return e.domain([m,c,b]).unknown(u).interpolator(g),s&&e.clamp(s),a&&e.nice(a),{type:i,domain:[m,b],pivot:c,interpolate:g,scale:e}}function Bw(t,e,n){return Io(t,T0(),jw,e,n)}function $w(t,e,n){return Ug(t,e,{...n,exponent:.5})}function Ug(t,e,{exponent:n=1,...r}){return Io(t,E0().exponent(n=+n),Vw(n),e,{...r,type:"diverging-pow"})}function Uw(t,e,{base:n=10,pivot:r=1,domain:i=ui(e,r<0?uu:xo),...a}){return Io(t,A0().base(n=+n),qw,e,{domain:i,pivot:r,...a})}function zw(t,e,{constant:n=1,...r}){return Io(t,k0().constant(n=+n),Yw(n),e,r)}const jw={apply(t){return t},invert(t){return t}},qw={apply:Math.log,invert:Math.exp},Ww={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Vw(t){return t===.5?Ww:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function Yw(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function zg(t,e,n,r){return Ni(t,e,n,r)}function Hw(t,e,n){return zg(t,__(),e,n)}function Xw(t,e,n){return zg(t,w_(),e,n)}const Di=Symbol("ordinal");function jg(t,e,n,{type:r,interval:i,domain:a,range:s,reverse:f,hint:u}){return i=Ai(i,r),a===void 0&&(a=Wg(n,i,t)),(r==="categorical"||r===Di)&&(r="ordinal"),f&&(a=_a(a)),a=e.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),e.range(s)),{type:r,domain:a,range:s,scale:e,hint:u,interval:i}}function Gw(t,e,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:f,...u}){r=Ai(r,n),i===void 0&&(i=Wg(e,r,t));let c;if(Et.get(t)===No)c=Jw(e),a=a===void 0?Qw(c):$t(a,bu);else if(Et.get(t)===fn&&(a===void 0&&(n==="ordinal"||n===Di)&&(a=ww(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"observable10"),s!==void 0))if(a!==void 0){const l=wu(s),h=a[0],d=a[1]-a[0];a=({length:g})=>Ae(p=>l(h+d*p),g)}else a=Fg(s);if(f===hf)throw new Error(`implicit unknown on ${t} scale is not supported`);return jg(t,Jf().unknown(f),e,{...u,type:n,domain:i,range:a,hint:c})}function Zw(t,e,{align:n=.5,padding:r=.5,...i}){return qg(Qy().align(n).padding(r),e,i,t)}function Kw(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...s}){return qg(ho().align(n).paddingInner(i).paddingOuter(a),e,s,t)}function qg(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=jg(r,t,e,n),t.round=i,t}function Wg(t,e,n){const r=new ao;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(e!==void 0){const[i,a]=_n(r).map(e.floor,e);return e.range(i,e.offset(a))}if(r.size>1e4&&Et.get(n)===Be)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Bs(r,je)}function El(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function Jw(t){return{fill:El(t,"fill"),stroke:El(t,"stroke")}}function Qw(t){return Kt(t.fill)?X_:H_}function xf(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:f,nice:u,clamp:c,zero:l,align:h,padding:d,projection:g,facet:{label:p=e}={},...m}={}){const b={};for(const[y,_]of t){const v=m[y],w=Xg(y,_,{round:Et.get(y)===Be?f:void 0,nice:u,clamp:c,zero:l,align:h,padding:d,projection:g,...v});if(w){let{label:M=y==="fx"||y==="fy"?p:e,percent:S,transform:x,inset:E,insetTop:D=E!==void 0?E:y==="y"?r:0,insetRight:A=E!==void 0?E:y==="x"?i:0,insetBottom:T=E!==void 0?E:y==="y"?a:0,insetLeft:k=E!==void 0?E:y==="x"?s:0}=v||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");w.percent=!!S,w.label=M===void 0?e5(_,w):M,w.transform=x,y==="x"||y==="fx"?(w.insetLeft=+k,w.insetRight=+A):(y==="y"||y==="fy")&&(w.insetTop=+D,w.insetBottom=+T),b[y]=w}}return b}function Cl(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:a,type:s,interval:f,label:u}=i;e[r]=Zg(i),n[r]=a,a.type=s,f!=null&&(a.interval=f),u!=null&&(a.label=u)}return n}function t5(t,e){const{x:n,y:r,fx:i,fy:a}=t,s=i||a?Su(e):e;i&&Nl(i,s),a&&Dl(a,s);const f=i||a?Vg(t,e):e;n&&Nl(n,f),r&&Dl(r,f)}function e5(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Jn(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function n5(t){return Math.sign(_r(t.domain()))*Math.sign(_r(t.range()))}function Su(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:l}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,l),width:a,height:s}}function Vg({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:u}=Su(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:t?t.scale.bandwidth()+s+i:f,height:e?e.scale.bandwidth()+r+a:u,facet:{width:f,height:u}}}function Nl(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:s=0}=e,f=a+n,u=i-s-r;t.range=[f,Math.max(f,u)],Jn(t)||(t.range=Hg(t)),t.scale.range(t.range)}Yg(t)}function Dl(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:s=0}=e,f=a+n,u=i-s-r;t.range=[Math.max(f,u),f],Jn(t)?t.range.reverse():t.range=Hg(t),t.scale.range(t.range)}Yg(t)}function Yg(t){t.round===void 0&&o5(t)&&r5(t)<=30&&t.scale.round(!0)}function r5({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),s=e-i,f=Math.abs(r-n)/Math.max(1,s+a*2);return(f-Math.floor(f))*s}function Hg(t){const e=t.scale.domain().length+Gg(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,a)=>n+a/(e-1)*(r-n))}function i5(t,e,n){return Xg(t,n===void 0?void 0:[{hint:n}],{...e})}function Xg(t,e=[],n={}){const r=a5(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Jn({type:r})){const i=e.map(({value:a})=>a).filter(a=>a!==void 0);i.some(we)?wn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ir(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`):i.some($3)?wn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ir(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`):i.some(U3)&&wn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ir(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=qi(e,n,bn);break;case"identity":switch(Et.get(t)){case Be:n=qi(e,n,bn);break;case No:n=qi(e,n,s5);break}break;case"utc":case"time":n=qi(e,n,A3);break}switch(r){case"diverging":return Bw(t,e,n);case"diverging-sqrt":return $w(t,e,n);case"diverging-pow":return Ug(t,e,n);case"diverging-log":return Uw(t,e,n);case"diverging-symlog":return zw(t,e,n);case"categorical":case"ordinal":case Di:return Gw(t,e,n);case"cyclical":case"sequential":case"linear":return xw(t,e,n);case"sqrt":return Tw(t,e,n);case"threshold":return vu(t,e,n);case"quantile":return Ew(t,e,n);case"quantize":return Cw(t,e,n);case"pow":return Bg(t,e,n);case"log":return Aw(t,e,n);case"symlog":return kw(t,e,n);case"utc":return Xw(t,e,n);case"time":return Hw(t,e,n);case"point":return Zw(t,e,n);case"band":return Kw(t,e,n);case"identity":return Dw(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ir(t){return typeof t=="symbol"?t.description:t}function Il(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Ll={toString:()=>"projection"};function a5(t,e,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:f}){if(n=Il(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=Ll);for(const c of e){const l=Il(c.type);if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}}if(n===Ll)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:c})=>c!==void 0))return;const u=Et.get(t);if(u===ki)return"sqrt";if(u===Ci||u===Ei)return"linear";if(u===No)return"ordinal";if((r||i||[]).length>2)return ys(u);if(r!==void 0){if(bl(r))return ys(u);if(we(r))return"utc"}else{const c=e.map(({value:l})=>l).filter(l=>l!==void 0);if(c.some(bl))return ys(u);if(c.some(we))return"utc"}if(u===fn){if(s!=null||Mw(a))return"diverging";if(_w(a))return"categorical"}return"linear"}function ys(t){switch(t){case Be:return"point";case fn:return Di;default:return"ordinal"}}function Jn({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Di}function Gg({type:t}){return t==="threshold"}function o5({type:t}){return t==="point"||t==="band"}function yn(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function qi(t,{domain:e,...n},r){var i;for(const a of t)a.value!==void 0&&(e===void 0&&(e=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:e===void 0?e:r(e),...n}}function s5(t){return $t(t,bu)}function Tf(t={}){let e;for(const n in t)if(Et.has(n)&&Ya(t[n])){if(e!==void 0)throw new Error("ambiguous scale definition; multiple scales found");e=Zg(i5(n,t[n]))}if(e===void 0)throw new Error("invalid scale definition; no scale found");return e}function f5(t){return e=>{if(!Et.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function Zg({scale:t,type:e,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:f,pivot:u}){if(e==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const c=t.unknown?t.unknown():void 0;return{type:e,domain:oi(n),...r!==void 0&&{range:oi(r)},...s!==void 0&&{transform:s},...f&&{percent:f},...c!==void 0&&{unknown:c},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:l=>t(l),...t.invert&&{invert:l=>t.invert(l)}}}function u5(t,e){const{fx:n,fy:r}=xf(t,e),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?Jb(i,a).map(([s,f],u)=>({x:s,y:f,i:u})):i?i.map((s,f)=>({x:s,i:f})):a?a.map((s,f)=>({y:s,i:f})):void 0}function c5(t,{x:e,y:n}){return e&&(e=Af(e)),n&&(n=Af(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function xu(t,{fx:e,fy:n}){const r=kn(t),i=e==null?void 0:e.value,a=n==null?void 0:n.value;return e&&n?Hr(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):e?Hr(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Hr(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function l5(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:a})=>`translate(${t(i)-r},${e(a)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function d5(t){const e=[],n=new Uint32Array(zn(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(n.set(a,i),i+=a.length);e.push(n.slice(0,i))}return e}const h5=new Map([["top",_s],["right",Ms],["bottom",ws],["left",vs],["top-left",Wi(_s,vs)],["top-right",Wi(_s,Ms)],["bottom-left",Wi(ws,vs)],["bottom-right",Wi(ws,Ms)],["top-empty",p5],["right-empty",_5],["bottom-empty",b5],["left-empty",y5],["empty",w5]]);function g5(t){if(t==null)return null;const e=h5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Ol=new WeakMap;function Af(t){let e=Ol.get(t);return e||Ol.set(t,e=new Un($t(t,(n,r)=>[n,r]))),e}function En(t,e){return Af(t).get(e)}function m5(t,e,n){return e=Ln(e),n=Ln(n),t.find(r=>Object.is(Ln(r.x),e)&&Object.is(Ln(r.y),n))}function Lo(t,e,n){var r;return(r=m5(t,e,n))==null?void 0:r.empty}function _s(t,{y:e},{y:n}){return e?En(e,n)===0:!0}function ws(t,{y:e},{y:n}){return e?En(e,n)===e.length-1:!0}function vs(t,{x:e},{x:n}){return e?En(e,n)===0:!0}function Ms(t,{x:e},{x:n}){return e?En(e,n)===e.length-1:!0}function p5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=En(e,r);if(a>0)return Lo(t,n,e[a-1])}function b5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=En(e,r);if(a<e.length-1)return Lo(t,n,e[a+1])}function y5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=En(e,n);if(a>0)return Lo(t,e[a-1],r)}function _5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=En(e,n);if(a<e.length-1)return Lo(t,e[a+1],r)}function w5(t,e,{empty:n}){return n}function Wi(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Ss(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Kg=Math.PI,Je=2*Kg,Fl=.618;function v5({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={},s){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(Zn(t)){let M;if({type:t,domain:u,inset:M,insetTop:n=M!==void 0?M:n,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:a=M!==void 0?M:a,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=Jg(t));const{width:l,height:h,marginLeft:d,marginRight:g,marginTop:p,marginBottom:m}=s,b=l-d-g-a-r,y=h-p-m-n-i;if(t=t==null?void 0:t({width:b,height:y,clip:c,...f}),t==null)return;c=M5(c,d,p,l-g,h-m);let _=d+a,v=p+n,w;if(u!=null){const[[M,S],[x,E]]=fo(t).bounds(u),D=Math.min(b/(x-M),y/(E-S));D>0?(_-=(D*(M+x)-b)/2,v-=(D*(S+E)-y)/2,w=lf({point(A,T){this.stream.point(A*D+_,T*D+v)}})):wn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=_===0&&v===0?Qg():lf({point(M,S){this.stream.point(M+_,S+v)}})),{stream:M=>t.stream(w.stream(c(M)))}}function Jg(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Se(By,.7463,.4673);case"albers":return Vi(Wh,.7463,.4673);case"azimuthal-equal-area":return Se($y,4,4);case"azimuthal-equidistant":return Se(Uy,Je,Je);case"conic-conformal":return Vi(qy,Je,Je);case"conic-equal-area":return Vi(Oa,6.1702,2.9781);case"conic-equidistant":return Vi(Yy,7.312,3.6282);case"equal-earth":return Se(Xy,5.4133,2.6347);case"equirectangular":return Se(Wy,Je,Kg);case"gnomonic":return Se(Gy,3.4641,3.4641);case"identity":return{type:Qg};case"reflect-y":return{type:S5};case"mercator":return Se(zy,Je,Je);case"orthographic":return Se(Zy,2,2);case"stereographic":return Se(Ky,2,2);case"transverse-mercator":return Se(Jy,Je,Je);default:throw new Error(`unknown projection type: ${t}`)}}function M5(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Eh(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Se(t,e,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:f})=>{var c,l,h;const u=t();return s!=null&&((c=u.precision)==null||c.call(u,s)),a!=null&&((l=u.rotate)==null||l.call(u,a)),typeof f=="number"&&((h=u.clipAngle)==null||h.call(u,f)),u.scale(Math.min(r/e,i/n)),u.translate([r/2,i/2]),u},aspectRatio:n/e}}function Vi(t,e,n){const{type:r,aspectRatio:i}=Se(t,e,n);return{type:a=>{const{parallels:s,domain:f,width:u,height:c}=a,l=r(a);return s!=null&&(l.parallels(s),f===void 0&&l.fitSize([u,c],{type:"Sphere"})),l},aspectRatio:i}}const Qg=Si({stream:t=>t}),S5=Si(lf({point(t,e){this.stream.point(t,-e)}}));function x5(t,e,n,r){const i=n[t],a=n[e],s=i.length,f=n[t]=new Float64Array(s).fill(NaN),u=n[e]=new Float64Array(s).fill(NaN);let c;const l=r.stream({point(h,d){f[c]=h,u[c]=d}});for(c=0;c<s;++c)l.point(i[c],a[c])}function T5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Zn(t)&&(t=t.type),t!=null)}function A5(t){if(typeof(t==null?void 0:t.stream)=="function")return Fl;if(Zn(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=Jg(t);if(e)return e}return Fl}}function k5(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},a={point(s,f){e.push(s),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of t.value)In(s,a);return[r,i]}function Tu(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:kg(n)}}function Rt(t,{document:e}){return Zt(Vd(t).call(e.documentElement))}function E5(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,e=t(...r)),e)}const C5=E5(t=>new Intl.NumberFormat(t));function N5(t="en-US"){const e=C5(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function D5(t){return d3(t,"Invalid Date")}function I5(t="en-US"){const e=N5(t);return n=>(n instanceof Date?D5:typeof n=="number"?e:Wt)(n)}const Mr=I5(),re=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let L5=0;function Pl(){return`plot-clip-${++L5}`}function O5(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:f,fillOpacity:u,stroke:c,strokeWidth:l,strokeOpacity:h,strokeLinejoin:d,strokeLinecap:g,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:b,opacity:y,mixBlendMode:_,imageFilter:v,paintOrder:w,pointerEvents:M,shapeRendering:S,channels:x},{ariaLabel:E,fill:D="currentColor",fillOpacity:A,stroke:T="none",strokeOpacity:k,strokeWidth:L,strokeLinecap:R,strokeLinejoin:C,strokeMiterlimit:P,paintOrder:Y}){D===null&&(f=null,u=null),T===null&&(c=null,h=null),Kt(D)?!Kt(T)&&(!Kt(f)||x!=null&&x.fill)&&(T="none"):Kt(T)&&(!Kt(c)||x!=null&&x.stroke)&&(D="none");const[K,H]=Vn(f,D),[B,U]=Vt(u,A),[$,W]=Vn(c,T),[I,tt]=Vt(h,k),[et,z]=Vt(y);si(W)||(l===void 0&&(l=L),g===void 0&&(g=R),d===void 0&&(d=C),p===void 0&&!W3(d)&&(p=P),!si(H)&&w===void 0&&(w=Y));const[Q,F]=Vt(l);return D!==null&&(t.fill=Ot(H,"currentColor"),t.fillOpacity=Br(U,1)),T!==null&&(t.stroke=Ot(W,"none"),t.strokeWidth=Br(F,1),t.strokeOpacity=Br(tt,1),t.strokeLinejoin=Ot(d,"miter"),t.strokeLinecap=Ot(g,"butt"),t.strokeMiterlimit=Br(p,4),t.strokeDasharray=Ot(m,"none"),t.strokeDashoffset=Ot(b,"0")),t.target=Wt(s),t.ariaLabel=Wt(E),t.ariaDescription=Wt(i),t.ariaHidden=Wt(a),t.opacity=Br(z,1),t.mixBlendMode=Ot(_,"normal"),t.imageFilter=Ot(v,"none"),t.paintOrder=Ot(w,"normal"),t.pointerEvents=Ot(M,"auto"),t.shapeRendering=Ot(S,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:K,scale:"auto",optional:!0},fillOpacity:{value:B,scale:"auto",optional:!0},stroke:{value:$,scale:"auto",optional:!0},strokeOpacity:{value:I,scale:"auto",optional:!0},strokeWidth:{value:Q,optional:!0},opacity:{value:et,scale:"auto",optional:!0}}}function F5(t,e){e&&t.filter(n=>fu(e[n])).append("title").call(R5,e)}function P5(t,e){e&&t.filter(([n])=>fu(e[n])).append("title").call(B5,e)}function R5(t,e){e&&t.text(n=>Mr(e[n]))}function B5(t,e){e&&t.text(([n])=>Mr(e[n]))}function un(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:l,href:h}){r&&ot(t,"aria-label",d=>r[d]),a&&ot(t,"fill",d=>a[d]),s&&ot(t,"fill-opacity",d=>s[d]),f&&ot(t,"stroke",d=>f[d]),u&&ot(t,"stroke-opacity",d=>u[d]),c&&ot(t,"stroke-width",d=>c[d]),l&&ot(t,"opacity",d=>l[d]),h&&tm(t,d=>h[d],e),n||F5(t,i)}function $5(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:l,href:h}){r&&ot(t,"aria-label",([d])=>r[d]),a&&ot(t,"fill",([d])=>a[d]),s&&ot(t,"fill-opacity",([d])=>s[d]),f&&ot(t,"stroke",([d])=>f[d]),u&&ot(t,"stroke-opacity",([d])=>u[d]),c&&ot(t,"stroke-width",([d])=>c[d]),l&&ot(t,"opacity",([d])=>l[d]),h&&tm(t,([d])=>h[d],e),n||P5(t,i)}function U5({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:f,href:u},{tip:c}){return[t,c?void 0:e,n,r,i,a,s,f,u].filter(l=>l!==void 0)}function z5(t,e,n){const r=Uf(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&wn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*j5(t,e,n,r){const{z:i}=n,{z:a}=r,s=U5(r,n),f=[...e,...s];for(const u of a?z5(t,a,i):[t]){let c,l;t:for(const h of u){for(const d of f)if(!Tn(d[h])){l&&l.push(-1);continue t}if(c===void 0){l&&(yield l),c=s.map(d=>Ln(d[h])),l=[h];continue}l.push(h);for(let d=0;d<s.length;++d)if(Ln(s[d][h])!==c[d]){yield l,c=s.map(p=>Ln(p[h])),l=[h];continue t}}l&&(yield l)}}function q5(t,e,n,r){let i;const{clip:a=r.clip}=e;switch(a){case"frame":{const{width:s,height:f,marginLeft:u,marginRight:c,marginTop:l,marginBottom:h}=n,d=Pl();i=`url(#${d})`,t=Rt("svg:g",r).call(g=>g.append("svg:clipPath").attr("id",d).append("rect").attr("x",u).attr("y",l).attr("width",s-c-u).attr("height",f-l-h)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const f=Pl();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",fo(s)({type:"Sphere"}));break}}ot(t,"aria-label",e.ariaLabel),ot(t,"aria-description",e.ariaDescription),ot(t,"aria-hidden",e.ariaHidden),ot(t,"clip-path",i)}function Ne(t,e,n,r){q5(t,e,n,r),ot(t,"fill",e.fill),ot(t,"fill-opacity",e.fillOpacity),ot(t,"stroke",e.stroke),ot(t,"stroke-width",e.strokeWidth),ot(t,"stroke-opacity",e.strokeOpacity),ot(t,"stroke-linejoin",e.strokeLinejoin),ot(t,"stroke-linecap",e.strokeLinecap),ot(t,"stroke-miterlimit",e.strokeMiterlimit),ot(t,"stroke-dasharray",e.strokeDasharray),ot(t,"stroke-dashoffset",e.strokeDashoffset),ot(t,"shape-rendering",e.shapeRendering),ot(t,"filter",e.imageFilter),ot(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;ot(t,"pointer-events",i)}function De(t,e){W5(t,"mix-blend-mode",e.mixBlendMode),ot(t,"opacity",e.opacity)}function tm(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const a=this.ownerDocument.createElementNS(da.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(da.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function ot(t,e,n){n!=null&&t.attr(e,n)}function W5(t,e,n){n!=null&&t.style(e,n)}function Ie(t,e,{x:n,y:r},i=re,a=re){i+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function Ot(t,e){if((t=Wt(t))!==e)return t}function Br(t,e){if((t=kt(t))!==e)return t}const V5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Au(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!V5.test(t))throw new Error(`invalid class name: ${t}`);return t}function ku(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Ii({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(t)?s:/right$/.test(t)?e-i:(s+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-a:(r+n-a)/2]}class ee{constructor(e,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:f,fy:u,sort:c,dx:l=0,dy:h=0,margin:d=0,marginTop:g=d,marginRight:p=d,marginBottom:m=d,marginLeft:b=d,clip:y=i==null?void 0:i.clip,channels:_,tip:v,render:w}=r;if(this.data=e,this.sort=wr(c)?c:null,this.initializer=vr(r).initializer,this.transform=this.initializer?r.transform:yu(r).transform,a===null||a===!1?this.facet=null:(this.facet=Ce(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===sa&&typeof f=="string"?[f]:f,this.fy=e===sa&&typeof u=="string"?[u]:u),this.facetAnchor=g5(s),n=Ag(n),_!==void 0&&(n={...Y5(_),...n}),i!==void 0&&(n={...O5(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([M,S])=>{if(Ao(S.value)){const{value:x,label:E=S.label,scale:D=S.scale}=S.value;S={...S,label:E,scale:D,value:x}}if(e===sa&&typeof S.value=="string"){const{value:x}=S;S={...S,value:[x]}}return[M,S]}).filter(([M,{value:S,optional:x}])=>{if(S!=null)return!0;if(x)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+l,this.dy=+h,this.marginTop=+g,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+b,this.clip=kg(y),this.tip=H5(v),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const M in this.channels){const{scale:S}=n[M];if(!(S!=="x"&&S!=="y"))throw new Error("super-faceting cannot use x or y")}}w!=null&&(this.render=nm(w,this.render))}initialize(e,n,r){let i=se(this.data);e===void 0&&i!=null&&(e=[kn(i)]);const a=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=se(i)),e!==void 0&&(e.original=a);const s=hw(this.channels,i);return this.sort!=null&&mw(i,e,s,n,this.sort),{data:i,facets:e,channels:s}}filter(e,n,r){for(const i in n){const{filter:a=Tn}=n[i];if(a!==null){const s=r[i];e=e.filter(f=>a(s[f]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&x5(i,a,n,r.projection)}}scale(e,n,r){const i=gw(e,n);return r.projection&&this.project(e,i,r),i}}function em(...t){return t.plot=ee.prototype.plot,t}function nm(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,a,s,f){return t.call(this,n,r,i,a,s,(u,c,l,h,d)=>e.call(this,u,c,l,h,d,f))}}function Y5(t){return Object.fromEntries(Object.entries(Ag(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:ko(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function H5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Ce(t,"tip",["x","y","xy"]):t}function Eu(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:Zn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function X5(t,e,n={}){let r=.5-re,i=.5+re,a=.5+re,s=.5-re;for(const{marginTop:m,marginRight:b,marginBottom:y,marginLeft:_}of e)m>r&&(r=m),b>i&&(i=b),y>a&&(a=y),_>s&&(s=_);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:l=f!==void 0?f:a,marginLeft:h=f!==void 0?f:s}=n;u=+u,c=+c,l=+l,h=+h;let{width:d=640,height:g=G5(t,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,u-r+l-a)}=n;d=+d,g=+g;const p={width:d,height:g,marginTop:u,marginRight:c,marginBottom:l,marginLeft:h};if(t.fx||t.fy){let{margin:m,marginTop:b=m!==void 0?m:u,marginRight:y=m!==void 0?m:c,marginBottom:_=m!==void 0?m:l,marginLeft:v=m!==void 0?m:h}=n.facet??{};b=+b,y=+y,_=+_,v=+v,p.facet={marginTop:b,marginRight:y,marginBottom:_,marginLeft:v}}return p}function G5({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:l}){const h=n?n.scale.domain().length:1,d=A5(i);if(d){const p=r?r.scale.domain().length:1,m=(1.1*h-.1)/(1.1*p-.1)*d,b=Math.max(.1,Math.min(10,m));return Math.round((s-l-u)*b+f+c)}const g=e?Jn(e)?e.scale.domain().length:Math.max(7,17/h):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Rl("y",e)/(Rl("x",t)*a),m=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,y=m*(s-l-u)-t.insetLeft-t.insetRight;return(p*y+e.insetTop+e.insetBottom)/b+f+c}return!!(e||n)*Math.max(1,Math.min(60,g*h))*20+!!r*30+60}function Rl(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=e.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,s]=_n(r);return Math.abs(i(s)-i(a))}const Bl=new WeakMap;function Cu(t,e,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:f,render:u,...c}={}){return s=+s,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:n,y:r,channels:f,...c,render:nm(function(l,h,d,g,p,m){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:y}=p.getMarkState(this);let _=Bl.get(b);_||Bl.set(b,_={sticky:!1,roots:[],renders:[]});let v=_.renders.push(W)-1;const{x:w,y:M,fx:S,fy:x}=h;let E=S?S(l.fx)-g.marginLeft:0,D=x?x(l.fy)-g.marginTop:0;w!=null&&w.bandwidth&&(E+=w.bandwidth()/2),M!=null&&M.bandwidth&&(D+=M.bandwidth()/2);const A=l.fi!=null;let T;if(A){let z=_.facetStates;z||(_.facetStates=z=new Map),T=z.get(this),T||z.set(this,T=new Map)}const[k,L]=Ii(this,g),{px:R,py:C}=d,P=R?z=>R[z]:rm(d,k),Y=C?z=>C[z]:im(d,L);let K,H,B,U;function $(z,Q){if(A)if(U&&(U=cancelAnimationFrame(U)),z==null)T.delete(l.fi);else{T.set(l.fi,Q),U=requestAnimationFrame(()=>{U=null;for(const[F,V]of T)if(V<Q||V===Q&&F<l.fi){z=null;break}W(z)});return}W(z)}function W(z){if(K===z&&B===_.sticky)return;K=z,B=p.pointerSticky=_.sticky;const Q=K==null?[]:[K];A&&(Q.fx=l.fx,Q.fy=l.fy,Q.fi=l.fi);const F=m(Q,h,d,g,p);if(H){if(A){const V=H.parentNode,X=H.getAttribute("transform"),O=F.getAttribute("transform");X?F.setAttribute("transform",X):F.removeAttribute("transform"),O?V.setAttribute("transform",O):V.removeAttribute("transform"),F.removeAttribute("aria-label"),F.removeAttribute("aria-description"),F.removeAttribute("aria-hidden")}H.replaceWith(F)}return _.roots[v]=H=F,K==null&&(T==null?void 0:T.size)>1||p.dispatchValue(K==null?null:y[K]),F}function I(z){if(_.sticky||z.pointerType==="mouse"&&z.buttons===1)return;let[Q,F]=Ws(z);Q-=E,F-=D;const V=Q<g.marginLeft||Q>g.width-g.marginRight?1:t,X=F<g.marginTop||F>g.height-g.marginBottom?1:e;let O=null,mt=s*s;for(const nt of l){const yt=V*(P(nt)-Q),Mt=X*(Y(nt)-F),G=yt*yt+Mt*Mt;G<=mt&&(O=nt,mt=G)}if(O!=null&&(t!==1||e!==1)){const nt=P(O)-Q,yt=Y(O)-F;mt=nt*nt+yt*yt}$(O,mt)}function tt(z){z.pointerType==="mouse"&&K!=null&&(_.sticky&&_.roots.some(Q=>Q==null?void 0:Q.contains(z.target))||(_.sticky?(_.sticky=!1,_.renders.forEach(Q=>Q(null))):(_.sticky=!0,W(K)),z.stopImmediatePropagation()))}function et(z){z.pointerType==="mouse"&&(_.sticky||$(null))}return b.addEventListener("pointerenter",I),b.addEventListener("pointermove",I),b.addEventListener("pointerdown",tt),b.addEventListener("pointerleave",et),W(null)},u)}}function Z5(t){return Cu(1,1,t)}function K5(t){return Cu(1,.01,t)}function $l(t){return Cu(.01,1,t)}function rm({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function im({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function am(t){return Jn(t)&&t.interval===void 0?void 0:"tabular-nums"}function J5(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:l,ticks:h=(i-c-f)/64,tickFormat:d,fontVariant:g=am(t),round:p=!0,opacity:m,className:b}=e;const y=Tu(e);b=Au(b),m=Vt(m)[1],d===null&&(d=()=>null);const _=Rt("svg",y).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(k=>k.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(ku,l);let v=k=>k.selectAll(".tick line").attr("y1",s+u-a),w;const M=p?(k,L)=>k.rangeRound(L):(k,L)=>k.range(L),{type:S,domain:x,range:E,interpolate:D,scale:A,pivot:T}=t;if(D){const k=E===void 0?D:so(D.length===1?Mu(D):D,E);w=M(A.copy(),Ae(Mn(c,i-f),Math.min(x.length+(T!==void 0),E===void 0?1/0:E.length)));const L=256,R=y.document.createElement("canvas");R.width=L,R.height=1;const C=R.getContext("2d");for(let P=0,Y=L-1;P<L;++P)C.fillStyle=k(P/Y),C.fillRect(P,0,1,1);_.append("image").attr("opacity",m).attr("x",c).attr("y",s).attr("width",i-c-f).attr("height",a-s-u).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(S==="threshold"){const k=x,L=d===void 0?R=>R:typeof d=="string"?Er(d):d;w=M(Qf().domain([-1,E.length-1]),[c,i-f]),_.append("g").attr("fill-opacity",m).selectAll().data(E).enter().append("rect").attr("x",(R,C)=>w(C-1)).attr("y",s).attr("width",(R,C)=>w(C)-w(C-1)).attr("height",a-s-u).attr("fill",R=>R),h=$t(k,(R,C)=>C),d=R=>L(k[R],R)}else w=M(ho().domain(x),[c,i-f]),_.append("g").attr("fill-opacity",m).selectAll().data(x).enter().append("rect").attr("x",w).attr("y",s).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",a-s-u).attr("fill",A),v=()=>{};return _.append("g").attr("transform",`translate(0,${a-u})`).call(v2(w).ticks(Array.isArray(h)?null:h,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Ot(g,"normal")).call(v).call(k=>k.select(".domain").remove()),n!==void 0&&_.append("text").attr("x",c).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),_.node()}const om=Math.PI/180;function Oo(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=xs(n),t.markerMid=xs(r),t.markerEnd=xs(i)}function xs(t){if(t==null||t===!1)return null;if(t===!0)return zl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Ul("auto");case"arrow-reverse":return Ul("auto-start-reverse");case"dot":return Q5;case"circle":case"circle-fill":return zl;case"circle-stroke":return t4;case"tick":return Ts("auto");case"tick-x":return Ts(90);case"tick-y":return Ts(0)}throw new Error(`invalid marker: ${t}`)}function Ul(t){return(e,n)=>Rt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Q5(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function zl(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function t4(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Ts(t){return(e,n)=>Rt("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let e4=0;function Nu(t,e,{stroke:n},r){return sm(t,e,n&&(i=>n[i]),r)}function n4(t,e,{stroke:n},r){return sm(t,e,n&&(([i])=>n[i]),r)}function sm(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const f=new Map;function u(c){return function(l){const h=a(l);let d=f.get(c);d||f.set(c,d=new Map);let g=d.get(h);if(!g){const p=this.parentNode.insertBefore(c(h,s),this),m=`plot-marker-${++e4}`;p.setAttribute("id",m),d.set(h,g=`url(#${m})`)}return g}}e&&t.attr("marker-start",u(e)),n&&t.attr("marker-mid",u(n)),r&&t.attr("marker-end",u(r))}function Du({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=fm(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Iu({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=fm(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function fm(t,e,n){return t===void 0&&e===void 0&&n===void 0?re?[1,0]:[.5,.5]:[e,n]}function um(t,{interval:e}){return t={...ko(t)},t.interval=gu(t.interval===void 0?e:t.interval),t}function Fo(t,e,n,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:s}=n,{value:f,interval:u}=um(i,n);if(f==null||u==null&&!r)return n;const c=Ti(i);if(u==null){let g;const p={transform:m=>g||(g=ye(m,f)),label:c};return{...n,[t]:void 0,[`${t}1`]:a===void 0?p:a,[`${t}2`]:s===void 0&&!(a===s&&r)?p:s}}let l,h;function d(g){return h!==void 0&&g===l?h:h=$t(ye(l=g,f),p=>u.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:d,label:c}:a,[`${t}2`]:s===void 0?{transform:g=>d(g).map(p=>u.offset(p)),label:c}:s})}function cm(t,e,n){const{[t]:r}=n,{value:i,interval:a}=um(r,n);return i==null||a==null?n:e({...n,[t]:{label:Ti(r),transform:s=>{const f=$t(ye(s,i),c=>a.floor(c)),u=f.map(c=>a.offset(c));return f.map(we(f)?(c,l)=>c==null||isNaN(c=+c)||(l=u[l],l==null)||isNaN(l=+l)?void 0:new Date((c+l)/2):(c,l)=>c==null||(l=u[l],l==null)?NaN:(+c+ +l)/2)}}})}function r4(t={}){return Fo("x",Du,t,!0)}function lm(t={}){return Fo("y",Iu,t,!0)}function i4(t={}){return Fo("x",Du,t)}function a4(t={}){return Fo("y",Iu,t)}function o4(t={}){return cm("x",Du,t)}function s4(t={}){return cm("y",Iu,t)}const dm={ariaLabel:"rule",fill:null,stroke:"currentColor"};class f4 extends ee{constructor(e,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:f=s,insetBottom:u=s}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Eu(n,"x"),dm),this.insetTop=kt(f),this.insetBottom=kt(u),Oo(this,n)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y1:c,y2:l}=r,{width:h,height:d,marginTop:g,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetTop:y,insetBottom:_}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{x:u&&s},re,0).call(v=>v.selectAll().data(e).enter().append("line").call(De,this).attr("x1",u?w=>u[w]:(m+h-p)/2).attr("x2",u?w=>u[w]:(m+h-p)/2).attr("y1",c&&!yn(f)?w=>c[w]+y:g+y).attr("y2",l&&!yn(f)?f.bandwidth?w=>l[w]+f.bandwidth()-_:w=>l[w]-_:d-b-_).call(un,this,r).call(Nu,this,r,a)).node()}}class u4 extends ee{constructor(e,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:f=s,insetLeft:u=s}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Eu(n,"y"),dm),this.insetRight=kt(f),this.insetLeft=kt(u),Oo(this,n)}render(e,n,r,i,a){const{x:s,y:f}=n,{y:u,x1:c,x2:l}=r,{width:h,height:d,marginTop:g,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetLeft:y,insetRight:_}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{y:u&&f},0,re).call(v=>v.selectAll().data(e).enter().append("line").call(De,this).attr("x1",c&&!yn(s)?w=>c[w]+y:m+y).attr("x2",l&&!yn(s)?s.bandwidth?w=>l[w]+s.bandwidth()-_:w=>l[w]-_:h-p-_).attr("y1",u?w=>u[w]:(g+d-b)/2).attr("y2",u?w=>u[w]:(g+d-b)/2).call(un,this,r).call(Nu,this,r,a)).node()}}function Lu(t,e){let{x:n=Me,y:r,y1:i,y2:a,...s}=a4(e);return[i,a]=hm(r,i,a),new f4(t,{...s,x:n,y1:i,y2:a})}function Ou(t,e){let{y:n=Me,x:r,x1:i,x2:a,...s}=i4(e);return[i,a]=hm(r,i,a),new u4(t,{...s,y:n,x1:i,x2:a})}function hm(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Fu(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let a=0;a<n;++a)i+=e[a](r)+t[a+1];return i}}const c4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},gm="­";class Pu extends ee{constructor(e,n={}){const{x:r,y:i,text:a=Kn(e)&&Tg(e)?Me:_g,frameAnchor:s,textAnchor:f=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:u=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:c=1,lineWidth:l=1/0,textOverflow:h,monospace:d,fontFamily:g=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:b,fontWeight:y,rotate:_}=n,[v,w]=Vt(_,0),[M,S]=p4(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:B3(v),optional:!0},text:{value:a,filter:fu,optional:!0}},n,c4),this.rotate=w,this.textAnchor=Ot(f,"middle"),this.lineAnchor=Ce(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.textOverflow=mm(h),this.monospace=!!d,this.fontFamily=Wt(g),this.fontSize=S,this.fontStyle=Wt(m),this.fontVariant=Wt(b),this.fontWeight=Wt(y),this.frameAnchor=Co(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=bm(this),this.clipLine=ym(this)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,rotate:l,text:h,title:d,fontSize:g}=r,{rotate:p}=this,[m,b]=Ii(this,i);return Rt("svg:g",a).call(Ne,this,i,a).call(pm,this,h,i).call(Ie,this,{x:u&&s,y:c&&f}).call(y=>y.selectAll().data(e).enter().append("text").call(De,this).call(l4,this,h,d).attr("transform",Fu`translate(${u?_=>u[_]:m},${c?_=>c[_]:b})${l?_=>` rotate(${l[_]})`:p?` rotate(${p})`:""}`).call(ot,"font-size",g&&(_=>g[_])).call(un,this,r)).node()}}function mm(t){return t==null?null:Ce(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function l4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:f,clipLine:u}=e;t.each(function(c){const l=f(Mr(n[c])??"").map(u),h=l.length,d=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let g=0;for(let p=0;p<h;++p){if(++g,!l[p])continue;const m=this.ownerDocument.createElementNS(da.svg,"tspan");m.setAttribute("x",0),p===g-1?m.setAttribute("y",`${(d+p)*a}em`):m.setAttribute("dy",`${g*a}em`),m.textContent=l[p],this.appendChild(m),g=0}}else d&&this.setAttribute("y",`${d*a}em`),this.textContent=l[0];if(s&&!r&&l[0]!==n[c]){const g=this.ownerDocument.createElementNS(da.svg,"title");g.textContent=n[c],this.appendChild(g)}})}function Po(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=xi(e,n)),new Pu(t,{...r,x:e,y:n})}function d4(t,{x:e=Me,...n}={}){return new Pu(t,s4({...n,x:e}))}function h4(t,{y:e=Me,...n}={}){return new Pu(t,o4({...n,y:e}))}function pm(t,e,n){ot(t,"text-anchor",e.textAnchor),ot(t,"font-family",e.fontFamily),ot(t,"font-size",e.fontSize),ot(t,"font-style",e.fontStyle),ot(t,"font-variant",e.fontVariant===void 0?g4(n):e.fontVariant),ot(t,"font-weight",e.fontWeight)}function g4(t){return t&&(z3(t)||we(t))?"tabular-nums":void 0}const m4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function p4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),m4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function b4(t,e,n){const r=[];let i,a=0;for(const[s,f,u]of y4(t)){if(i===void 0&&(i=s),a>i&&n(t,i,f)>e&&(r.push(t.slice(i,a)+(t[a-1]===gm?"-":"")),i=s),u){r.push(t.slice(i,f)),i=void 0;continue}a=f}return r}function*y4(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case gm:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const jl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Ru(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Nr(t,i))r+=jl[t[i]]??(wm(t,i)?120:jl.e);return r}function Bu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Nr(t,i))r+=wm(t,i)?126:63;return r}function bm({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?Bu:Ru,i=e*100;return a=>b4(a,i,r)}function ym({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const r=t?Bu:Ru,i=e*100;switch(n){case"clip-start":return a=>Wl(a,i,r,"");case"clip-end":return a=>ql(a,i,r,"");case"ellipsis-start":return a=>Wl(a,i,r,ur);case"ellipsis-middle":return a=>_4(a,i,r,ur);case"ellipsis-end":return a=>ql(a,i,r,ur)}}const ur="…";function Sr(t,e,n,r){const i=[];let a=0;for(let s=0,f=0,u=t.length;s<u;s=f){f=Nr(t,s);const c=n(t,s,f);if(a+c>e){for(a+=r;a>e&&s>0;)f=s,s=i.pop(),a-=n(t,s,f);return[s,e-a]}a+=c,i.push(s)}return[-1,0]}function ql(t,e,n,r){t=t.trim();const i=n(r),[a]=Sr(t,e,n,i);return a<0?t:t.slice(0,a).trimEnd()+r}function _4(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r)/2,[s,f]=Sr(t,e/2,n,a),[u]=Sr(t,i-e/2-f+a,n,-a);return u<0?r:t.slice(0,s).trimEnd()+r+t.slice(Nr(t,u)).trimStart()}function Wl(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r),[s]=Sr(t,i-e+a,n,-a);return s<0?r:r+t.slice(Nr(t,s)).trimStart()}const kf=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Vl=/\p{Extended_Pictographic}/uy;function Nr(t,e){return e+=w4(t,e)?2:1,M4(t,e)&&(e=kf.lastIndex),v4(t,e)?Nr(t,e+1):e}function _m(t,e){return t.charCodeAt(e)<128}function w4(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function v4(t,e){return t.charCodeAt(e)===8205}function M4(t,e){return _m(t,e)?!1:(kf.lastIndex=e,kf.test(t))}function wm(t,e){return _m(t,e)?!1:(Vl.lastIndex=e,Vl.test(t))}const S4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},vm=3.5,x4=vm*5,Mm={draw(t,e,n){const r=e*n/x4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},T4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},A4=new Map([["arrow",Mm],["spike",T4]]);function k4(t){return t&&typeof t.draw=="function"}function E4(t){if(k4(t))return t;const e=A4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}let Sm=class extends ee{constructor(e,n={}){const{x:r,y:i,r:a=vm,length:s,rotate:f,shape:u=Mm,anchor:c="middle",frameAnchor:l}=n,[h,d]=Vt(s,12),[g,p]=Vt(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:g,optional:!0}},n,S4),this.r=+a,this.length=d,this.rotate=p,this.shape=E4(u),this.anchor=Ce(c,"anchor",["start","middle","end"]),this.frameAnchor=Co(l)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,length:l,rotate:h}=r,{length:d,rotate:g,anchor:p,shape:m,r:b}=this,[y,_]=Ii(this,i);return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{x:u&&s,y:c&&f}).call(v=>v.selectAll().data(e).enter().append("path").call(De,this).attr("transform",Fu`translate(${u?w=>u[w]:y},${c?w=>c[w]:_})${h?w=>` rotate(${h[w]})`:g?` rotate(${g})`:""}${p==="start"?"":p==="end"?l?w=>` translate(0,${l[w]})`:` translate(0,${d})`:l?w=>` translate(0,${l[w]/2})`:` translate(0,${d/2})`}`).attr("d",l?w=>{const M=gn();return m.draw(M,l[w],b),M}:(()=>{const w=gn();return m.draw(w,d,b),w})()).call(un,this,r)).node()}};function C4(t,e={}){const{x:n=Me,...r}=e;return new Sm(t,{...r,x:n})}function N4(t,e={}){const{y:n=Me,...r}=e;return new Sm(t,{...r,y:n})}function Cn(t,e){return arguments.length<2&&!Kn(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Ro({anchor:t}={},e){return t===void 0?e[0]:Ce(t,"anchor",e)}function xm(t){return Ro(t,["left","right"])}function Tm(t){return Ro(t,["right","left"])}function Am(t){return Ro(t,["bottom","top"])}function km(t){return Ro(t,["top","bottom"])}function Li(){const[t,e]=Cn(...arguments);return Em("y",xm(e),t,e)}function D4(){const[t,e]=Cn(...arguments);return Em("fy",Tm(e),t,e)}function Dr(){const[t,e]=Cn(...arguments);return Cm("x",Am(e),t,e)}function I4(){const[t,e]=Cn(...arguments);return Cm("fx",km(e),t,e)}function Em(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:d,textStrokeWidth:g,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:b,x:y,margin:_,marginTop:v=_===void 0?20:_,marginRight:w=_===void 0?e==="right"?40:0:_,marginBottom:M=_===void 0?20:_,marginLeft:S=_===void 0?e==="left"?40:0:_,label:x,labelAnchor:E,labelArrow:D,labelOffset:A,...T}){return p=kt(p),m=kt(m),b=kt(b),E!==void 0&&(E=Ce(E,"labelAnchor",["center","top","bottom"])),D=Rm(D),em(p&&!Kt(a)?L4(t,e,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:b,x:y,...T}):null,Kt(u)?null:F4(t,e,n,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:d,strokeWidth:g,textAnchor:l,tickSize:p,tickPadding:m,tickRotate:b,x:y,marginTop:v,marginRight:w,marginBottom:M,marginLeft:S,...T}),!Kt(u)&&x!==null?Po([],Lm({fill:u,fillOpacity:c,...T},function(k,L,R,C,P){const Y=C[t],{marginTop:K,marginRight:H,marginBottom:B,marginLeft:U}=t==="y"&&P.inset||P,$=E??(Y.bandwidth?"center":"top"),W=A??(e==="right"?H:U)-3;return $==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=$,this.frameAnchor=`${$}-${e}`,this.rotate=0),this.dy=$==="top"?3-K:$==="bottom"?B-3:0,this.dx=e==="right"?W:-W,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Pm(t,Y,{anchor:e,label:x,labelAnchor:$,labelArrow:D})]}}}})):null)}function Cm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:d,textStrokeWidth:g,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:b,y,margin:_,marginTop:v=_===void 0?e==="top"?30:0:_,marginRight:w=_===void 0?20:_,marginBottom:M=_===void 0?e==="bottom"?30:0:_,marginLeft:S=_===void 0?20:_,label:x,labelAnchor:E,labelArrow:D,labelOffset:A,...T}){return p=kt(p),m=kt(m),b=kt(b),E!==void 0&&(E=Ce(E,"labelAnchor",["center","left","right"])),D=Rm(D),em(p&&!Kt(a)?O4(t,e,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:b,y,...T}):null,Kt(u)?null:P4(t,e,n,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:d,strokeWidth:g,textAnchor:l,tickSize:p,tickPadding:m,tickRotate:b,y,marginTop:v,marginRight:w,marginBottom:M,marginLeft:S,...T}),!Kt(u)&&x!==null?Po([],Lm({fill:u,fillOpacity:c,...T},function(k,L,R,C,P){const Y=C[t],{marginTop:K,marginRight:H,marginBottom:B,marginLeft:U}=t==="x"&&P.inset||P,$=E??(Y.bandwidth?"center":"right"),W=A??(e==="top"?K:B)-3;return $==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${$}`,this.textAnchor=$==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-W:W,this.dx=$==="right"?H-3:$==="left"?3-U:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Pm(t,Y,{anchor:e,label:x,labelAnchor:$,labelArrow:D})]}}}})):null)}function L4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetLeft:l=c,insetRight:h=c,dx:d=0,y:g=t==="y"?void 0:null,...p}){return Ir(N4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:f,y:g,...p,dx:e==="left"?+d-re+ +l:+d+re-h,anchor:"start",length:u,shape:e==="left"?W4:V4})}function O4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetTop:l=c,insetBottom:h=c,dy:d=0,x:g=t==="x"?void 0:null,...p}){return Ir(C4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:f,x:g,...p,dy:e==="bottom"?+d-re-h:+d+re+ +l,anchor:"start",length:u,shape:e==="bottom"?j4:q4})}function F4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*om):0),text:u,textAnchor:c=Math.abs(s)>60?"middle":e==="left"?"end":"start",lineAnchor:l=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:d=0,insetLeft:g=d,insetRight:p=d,dx:m=0,y:b=t==="y"?void 0:null,...y}){return Ir(h4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:s,y:b,...y,dx:e==="left"?+m-a-f+ +g:+m+ +a+ +f-p},function(_,v,w,M,S){h===void 0&&(this.fontVariant=Fm(_)),u===void 0&&(S.text=Om(_,v,w,M,e))})}function P4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*om):0),text:u,textAnchor:c=Math.abs(s)>=10?s<0^e==="bottom"?"start":"end":"middle",lineAnchor:l=Math.abs(s)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:h,inset:d=0,insetTop:g=d,insetBottom:p=d,dy:m=0,x:b=t==="x"?void 0:null,...y}){return Ir(d4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:s,x:b,...y,dy:e==="bottom"?+m+ +a+ +f-p:+m-a-f+ +g},function(_,v,w,M,S){h===void 0&&(this.fontVariant=Fm(_)),u===void 0&&(S.text=Om(_,v,w,M,e))})}function R4(){const[t,e]=Cn(...arguments);return Nm("y",xm(e),t,e)}function B4(){const[t,e]=Cn(...arguments);return Nm("fy",Tm(e),t,e)}function $4(){const[t,e]=Cn(...arguments);return Dm("x",Am(e),t,e)}function U4(){const[t,e]=Cn(...arguments);return Dm("fx",km(e),t,e)}function Nm(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:a=e==="left"?i:null,x2:s=e==="right"?i:null,...f}){return Ir(Ou,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:a,x2:s,...Im(f)})}function Dm(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:a=e==="top"?i:null,y2:s=e==="bottom"?i:null,...f}){return Ir(Lu,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:a,y2:s,...Im(f)})}function Im({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function Lm({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:u,shapeRendering:c,clip:l=!1},h){return[,t]=Vn(t),[,e]=Vt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:u,shapeRendering:c,clip:l,initializer:h}}function Ir(t,e,n,r,i,a){let s;function f(l,h,d,g,p,m){const b=l==null&&(e==="fx"||e==="fy"),{[e]:y}=g;if(!y)throw new Error(`missing scale: ${e}`);const _=y.domain();let{interval:v,ticks:w,tickFormat:M,tickSpacing:S=e==="x"?80:35}=i;if(typeof w=="string"&&Bm(y)&&(v=w,w=void 0),w===void 0&&(w=Ai(v,y.type)??z4(y,S)),l==null){if(Kn(w))l=se(w);else if(R3(w))l=As(w,..._n(_));else if(y.interval){let E=y.interval;if(y.ticks){const[D,A]=_n(_),T=(A-D)/E[Mi];E=hl(E,T/w)??E,l=As(E,D,A)}else{l=_;const D=l.length;E=hl(E,D/w)??E,E!==y.interval&&(l=As(E,..._n(l)))}if(E===y.interval){const D=Math.round(l.length/w);D>1&&(l=l.filter((A,T)=>T%D===0))}}else y.ticks?l=y.ticks(w):l=_;if(!y.ticks&&l.length&&l!==_){const E=new ao(_);l=l.filter(D=>E.has(D)),l.length||wn(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?h=[kn(l)]:s[e]={scale:e,value:Me}}a==null||a.call(this,y,l,w,M,s);const x=Object.fromEntries(Object.entries(s).map(([E,D])=>[E,{...D,value:ye(l,D.value)}]));return b&&(h=m.filterFacets(l,x)),{data:l,facets:h,channels:x}}const u=vr(i).initializer,c=t(n,vr({...i,initializer:f},u));return n==null?(s=c.channels,c.channels={}):s={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function z4(t,e){const[n,r]=_n(t.range());return(r-n)/e}function Om(t,e,n,r,i){return{value:$u(t,e,n,r,i)}}function $u(t,e,n,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&we(e)?y3(t.type,e,i)??Mr:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?Mr:typeof r=="string"?(we(t.domain())?vi:Er)(r):Si(r)}function As(t,e,n){return t.range(e,t.offset(t.floor(n)))}const j4={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},q4={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},W4={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},V4={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function Fm(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Pm(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&Bm(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=n5(e);s&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Rm(t="auto"){return Kt(t)?!1:typeof t=="boolean"?t:Ce(t,"labelArrow",["auto","up","right","down","left"])}function Bm(t){return we(t.domain())}function Yl(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function Y4(t,{opacity:e,...n}={}){if(!Jn(t)&&!Gg(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return $m(t,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",Vt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function H4(t,{fill:e=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(l=>(l=t.hint)==null?void 0:l.stroke)()!==void 0?t.hint.stroke:Kt(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...f}={},u){const[h,d]=Vn(e),[g,p]=Vn(r),m=Yl(u,h),b=Yl(u,g),y=s*s*Math.PI;return n=Vt(n)[1],i=Vt(i)[1],a=Vt(a)[1],$m(t,f,(_,v,w,M)=>_.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",M).attr("fill",h==="color"?S=>m.scale(S):d).attr("fill-opacity",n).attr("stroke",g==="color"?S=>b.scale(S):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",S=>{const x=gn();return t.scale(S).draw(x,y),x}))}function $m(t,e={},n){let{columns:r,tickFormat:i,fontVariant:a=am(t),swatchSize:s=15,swatchWidth:f=s,swatchHeight:u=s,marginLeft:c=0,className:l,style:h,width:d}=e;const g=Tu(e);l=Au(l),i=$u(t.scale,t.domain,void 0,i);const p=Rt("div",g).attr("class",`${l}-swatches ${l}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${l}-swatches-columns .${l}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${l}-swatches-columns .${l}-swatch::before) {
  flex-shrink: 0;
}
:where(.${l}-swatches-columns .${l}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${l}-swatch`).call(n,t,f,u).call(b=>b.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${l}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${l}-swatches-wrap .${l}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${l}-swatch`).call(n,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${l}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${l}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",c?`${+c}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",Ot(a,"normal")).call(ku,h).node()}const Ef=new Map([["symbol",H4],["color",zm],["opacity",G4]]);function X4(t,e,n={}){return(r,i)=>{if(!Ef.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Ef.get(r)(t[r],Um(e,n[r],i),a=>t[a])}}function Um({className:t,...e},{label:n,ticks:r,tickFormat:i}={},a){return V3(a,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function zm(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return Y4(t,n);case"ramp":return J5(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function G4({type:t,interpolate:e,...n},{legend:r=!0,color:i=la(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return zm({type:t,...n,interpolate:Z4(i)},{legend:r,...a})}function Z4(t){const{r:e,g:n,b:r}=la(t)||la(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function K4(t,e,n){const r=[];for(const[i,a]of Ef){const s=n[i];if(s!=null&&s.legend&&i in t){const f=a(t[i],Um(e,t[i],s),u=>t[u]);f!=null&&r.push(f)}}return r}const J4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Q4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class t8 extends ee{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:f=r,rx:u,ry:c}=e;super(sa,void 0,e,n==null?J4:Q4),this.anchor=vg(n,"anchor",["top","right","bottom","left"]),this.insetTop=kt(i),this.insetRight=kt(a),this.insetBottom=kt(s),this.insetLeft=kt(f),this.rx=kt(u),this.ry=kt(c)}render(e,n,r,i,a){const{marginTop:s,marginRight:f,marginBottom:u,marginLeft:c,width:l,height:h}=i,{anchor:d,insetTop:g,insetRight:p,insetBottom:m,insetLeft:b,rx:y,ry:_}=this,v=c+b,w=l-f-p,M=s+g,S=h-u-m;return Rt(d?"svg:line":"svg:rect",a).datum(0).call(Ne,this,i,a).call(De,this).call(un,this,r).call(Ie,this,{}).call(d==="left"?x=>x.attr("x1",v).attr("x2",v).attr("y1",M).attr("y2",S):d==="right"?x=>x.attr("x1",w).attr("x2",w).attr("y1",M).attr("y2",S):d==="top"?x=>x.attr("x1",v).attr("x2",w).attr("y1",M).attr("y2",M):d==="bottom"?x=>x.attr("x1",v).attr("x2",w).attr("y1",S).attr("y2",S):x=>x.attr("x",v).attr("y",M).attr("width",w-v).attr("height",S-M).attr("rx",y).attr("ry",_)).node()}}function jm(t){return new t8(t)}const ks={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},e8=new Set(["geometry","href","src","ariaLabel","scales"]);class n8 extends ee{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Kn(e)&&Tg(e)&&(n={...n,title:Me});const{x:r,y:i,x1:a,x2:s,y1:f,y2:u,anchor:c,preferredAnchor:l="bottom",monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:p,fontVariant:m,fontWeight:b,lineHeight:y=1,lineWidth:_=20,frameAnchor:v,format:w,textAnchor:M="start",textOverflow:S,textPadding:x=8,title:E,pointerSize:D=12,pathFilter:A="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:u,scale:"y",optional:f==null},title:{value:E,optional:!0}},n,ks),this.anchor=wf(c,"anchor"),this.preferredAnchor=wf(l,"preferredAnchor"),this.frameAnchor=Co(v),this.textAnchor=Ot(M,"middle"),this.textPadding=+x,this.pointerSize=+D,this.pathFilter=Wt(A),this.lineHeight=+y,this.lineWidth=+_,this.textOverflow=mm(S),this.monospace=!!h,this.fontFamily=Wt(d),this.fontSize=kt(g),this.fontStyle=Wt(p),this.fontVariant=Wt(m),this.fontWeight=Wt(b);for(const T in ks)T in this.channels&&(this[T]=ks[T]);this.splitLines=bm(this),this.clipLine=ym(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(e,n,r,i,a){const s=this,{x:f,y:u,fx:c,fy:l}=n,{ownerSVGElement:h,document:d}=a,{anchor:g,monospace:p,lineHeight:m,lineWidth:b}=this,{textPadding:y,pointerSize:_,pathFilter:v}=this,{marginTop:w,marginLeft:M}=i,{x1:S,y1:x,x2:E,y2:D,x:A=S??E,y:T=x??D}=r,k=c?c(e.fx)-M:0,L=l?l(e.fy)-w:0,[R,C]=Ii(this,i),P=rm(r,R),Y=im(r,C),K=p?Bu:Ru,H=K(ur);let B,U;"title"in r?(B=Hl.call(this,{title:r.channels.title},n),U=s8):(B=Hl.call(this,r.channels,n),U=f8);const $=Rt("svg:g",a).call(Ne,this,i,a).call(pm,this).call(Ie,this,{x:A&&f,y:T&&u}).call(tt=>tt.selectAll().data(e).enter().append("g").attr("transform",et=>`translate(${Math.round(P(et))},${Math.round(Y(et))})`).call(De,this).call(et=>et.append("path").attr("filter",v)).call(et=>et.append("text").each(function(z){const Q=Zt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const F=U.call(s,z,e,B,n,r);if(typeof F=="string")for(const V of s.splitLines(F))W(Q,{value:s.clipLine(V)});else{const V=new Set;for(const X of F){const{label:O=""}=X;O&&V.has(O)||(V.add(O),W(Q,X))}}})));function W(tt,{label:et,value:z,color:Q,opacity:F}){et??(et=""),z??(z="");const V=Q!=null||F!=null;let X,O=b*100;const[mt]=Sr(et,O,K,H);if(mt>=0)et=et.slice(0,mt).trimEnd()+ur,X=z.trim(),z="";else{(et||!z&&!V)&&(z=" "+z);const[yt]=Sr(z,O-K(et),K,H);yt>=0&&(X=z.trim(),z=z.slice(0,yt).trimEnd()+ur)}const nt=tt.append("tspan").attr("x",0).attr("dy",`${m}em`).text("​");et&&nt.append("tspan").attr("font-weight","bold").text(et),z&&nt.append(()=>d.createTextNode(z)),V&&nt.append("tspan").text(" ■").attr("fill",Q).attr("fill-opacity",F).style("user-select","none"),X&&nt.append("title").text(X)}function I(){const{width:tt,height:et}=i.facet??i;$.selectChildren().each(function(z){let{x:Q,width:F,height:V}=this.getBBox();F=Math.round(F),V=Math.round(V);let X=g;if(X===void 0){const nt=P(z)+k,yt=Y(z)+L,Mt=nt+F+_+y*2<tt,G=nt-F-_-y*2>0,wt=yt+V+_+y*2<et,ne=yt-V-_-y*2>0;X=Mt&&G?wt&&ne?s.preferredAnchor:ne?"bottom":"top":wt&&ne?Mt?"left":"right":(Mt||G)&&(wt||ne)?`${ne?"bottom":"top"}-${Mt?"left":"right"}`:s.preferredAnchor}const O=this.firstChild,mt=this.lastChild;if(O.setAttribute("d",o8(X,_,y,F,V)),Q)for(const nt of mt.childNodes)nt.setAttribute("x",-Q);mt.setAttribute("y",`${+i8(X,mt.childNodes.length,m).toFixed(6)}em`),mt.setAttribute("transform",`translate(${a8(X,_,y,F,V)})`)}),$.attr("visibility",null)}return e.length&&($.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(I):typeof requestAnimationFrame<"u"&&requestAnimationFrame(I)),$.node()}}function r8(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=xi(e,n)),new n8(t,{...r,x:e,y:n})}function i8(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function a8(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function o8(t,e,n,r,i){const a=r+n*2,s=i+n*2;switch(t){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${s}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${s}h${-a}v${-s}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${s}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-s/2}h${-a}v${s}h${a}v${e/2-s/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-s}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-s}h${-a}v${s}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-s}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-s/2}h${a}v${s}h${-a}v${e/2-s/2}z`}}function Hl(t,e){var i,a;const n={};let r=this.format;r=Xl(r,t,"x"),r=Xl(r,t,"y"),this.format=r;for(const s in r){const f=r[s];if(!(f===null||f===!1))if(s==="fx"||s==="fy")n[s]=!0;else{const u=Ml(t,s);u&&(n[s]=u)}}for(const s in t){if(s in n||s in r||e8.has(s))continue;const f=Ml(t,s);f&&(n[s]=f)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const s in n){const f=this.format[s];if(typeof f=="string"){const u=((i=n[s])==null?void 0:i.value)??((a=e[s])==null?void 0:a.domain())??[];this.format[s]=(we(u)?vi:Er)(f)}else if(f===void 0||f===!0){const u=e[s];this.format[s]=u!=null&&u.bandwidth?$u(u,u.domain()):Mr}}return n}function Xl(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const a=Object.entries(t),s=t[n];return a.splice(a.findIndex(([f])=>f===n)+1,0,[r,s],[i,s]),Object.fromEntries(a)}function s8(t,e,{title:n}){return this.format.title(n.value[t],t)}function*f8(t,e,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:Ha(r,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const s=n[a];if(a==="x2"&&"x1"in n)yield{label:Zl(r,n,"x"),value:Gl(this.format.x2,n.x1,s,t)};else if(a==="y2"&&"y1"in n)yield{label:Zl(r,n,"y"),value:Gl(this.format.y2,n.y1,s,t)};else{const f=s.value[t],u=s.scale;if(!Tn(f)&&u==null)continue;yield{label:Ha(r,n,a),value:this.format[a](f,t),color:u==="color"?i[a][t]:null,opacity:u==="opacity"?i[a][t]:null}}}}function Gl(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}–${t(n.value[r],r)}`}function Zl(t,e,n){const r=Ha(t,e,`${n}1`,n),i=Ha(t,e,`${n}2`,n);return r===i?r:`${r}–${i}`}function Ha(t,e,n,r=n){const i=e[n],a=t[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function qm(t={}){var H;const{facet:e,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:f}=t,u=Au(t.className),c=t.marks===void 0?[]:Jl(t.marks);c.push(...m8(c));const l=h8(e,t),h=new Map;for(const B of c){const U=Ql(B,l,t);U&&h.set(B,U)}const d=new Map;l&&$r(d,[l],t),$r(d,h,t);const g=Jl(p8(c,d,t));for(const B of g){const U=Ql(B,l,t);U&&h.set(B,U)}c.unshift(...g);let p=u5(d,t);if(p!==void 0){const B=l?Ss(p,l):void 0;for(const $ of c){if($.facet===null||$.facet==="super")continue;const W=h.get($);W!==void 0&&(W.facetsIndex=$.fx!=null||$.fy!=null?Ss(p,W):B)}const U=new Set;for(const{facetsIndex:$}of h.values())$==null||$.forEach((W,I)=>{(W==null?void 0:W.length)>0&&U.add(I)});p.forEach(0<U.size&&U.size<p.length?($,W)=>$.empty=!U.has(W):$=>$.empty=!1);for(const $ of c)if($.facet==="exclude"){const W=h.get($);W!==void 0&&(W.facetsIndex=d5(W.facetsIndex))}}for(const B of Et.keys())Ya(t[B])&&B!=="fx"&&B!=="fy"&&d.set(B,[]);const m=new Map;for(const B of c){if(m.has(B))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:U,channels:$}=h.get(B)??{},{data:W,facets:I,channels:tt}=B.initialize(U,$,t);Uu(tt,t),m.set(B,{data:W,facets:I,channels:tt})}const b=xf($r(d,m,t),t),y=X5(b,c,t);t5(b,y);const _=Cl(b),{fx:v,fy:w}=_,M=v||w?Vg(b,y):y,S=v||w?S8(_,y):y,x=Tu(t),E=x.document,D=Vd("svg").call(E.documentElement);let A=D;x.ownerSVGElement=D,x.className=u,x.projection=v5(t,M),x.filterFacets=(B,U)=>Ss(p,{channels:U,groups:xu(B,U)}),x.getMarkState=B=>{const U=m.get(B),$=h.get(B);return{...U,channels:{...U.channels,...$==null?void 0:$.channels}}},x.dispatchValue=B=>{A.value!==B&&(A.value=B,A.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[B,U]of m)if(B.initializer!=null){const $=B.facet==="super"?S:M,W=B.initializer(U.data,U.facets,U.channels,_,$,x);if(W.data!==void 0&&(U.data=W.data),W.facets!==void 0&&(U.facets=W.facets),W.channels!==void 0){const{fx:I,fy:tt,...et}=W.channels;d8(et),Object.assign(U.channels,et);for(const z of Object.values(et)){const{scale:Q}=z;Q!=null&&!H3(Et.get(Q))&&(Wm(z,t),T.add(Q))}(I!=null||tt!=null)&&h.set(B,!0)}}if(T.size){const B=new Map;$r(B,m,t,I=>T.has(I)),$r(d,m,t,I=>T.has(I));const U=M8(xf(B,t),b),{scales:$,...W}=Cl(U);Object.assign(b,U),Object.assign(_,W),Object.assign(_.scales,$)}let k,L;p!==void 0&&(k={x:v==null?void 0:v.domain(),y:w==null?void 0:w.domain()},p=c5(p,k),L=l5(v,w,y));for(const[B,U]of m)U.values=B.scale(U.channels,_,x);const{width:R,height:C}=y;Zt(D).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",R).attr("height",C).attr("viewBox",`0 0 ${R} ${C}`).attr("aria-label",s).attr("aria-description",f).call(B=>B.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(ku,n);for(const B of c){const{channels:U,values:$,facets:W}=m.get(B);if(p===void 0||B.facet==="super"){let I=null;if(W&&(I=W[0],I=B.filter(I,U,$),I.length===0))continue;const tt=B.render(I,_,$,S,x);if(tt==null)continue;D.appendChild(tt)}else{let I;for(const tt of p){if(!(((H=B.facetAnchor)==null?void 0:H.call(B,p,k,tt))??!tt.empty))continue;let et=null;if(W){const Q=h.has(B);if(et=W[Q?tt.i:0],et=B.filter(et,U,$),et.length===0)continue;!Q&&et===W[0]&&(et=D3(et)),et.fx=tt.x,et.fy=tt.y,et.fi=tt.i}const z=B.render(et,_,$,M,x);if(z!=null){(I??(I=Zt(D).append("g"))).append(()=>z).datum(tt);for(const Q of["aria-label","aria-description","aria-hidden","transform"])z.hasAttribute(Q)&&(I.attr(Q,z.getAttribute(Q)),z.removeAttribute(Q))}}I==null||I.selectChildren().attr("transform",L)}}const P=K4(b,x,t),{figure:Y=r!=null||i!=null||a!=null||P.length>0}=t;Y&&(A=E.createElement("figure"),A.className=`${u}-figure`,A.style.maxWidth="initial",r!=null&&A.append(Kl(E,r,"h2")),i!=null&&A.append(Kl(E,i,"h3")),A.append(...P,D),a!=null&&A.append(u8(E,a)),"value"in D&&(A.value=D.value,delete D.value)),A.scale=f5(_.scales),A.legend=X4(b,x,t);const K=Rw();return K>0&&Zt(D).append("text").attr("x",R).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${K.toLocaleString("en-US")} warning${K===1?"":"s"}. Please check the console.`),A}function Kl(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function u8(t,e){const n=t.createElement("figcaption");return n.append(e),n}function Jl(t){return t.flat(1/0).filter(e=>e!=null).map(c8)}function c8(t){return typeof t.render=="function"?t:new l8(t)}class l8 extends ee{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Uu(t,e){for(const n in t)Wm(t[n],e);return t}function Wm(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:f=a?u=>u==null?NaN:u*100:xg(s,i)}=e[n]??{};f!=null&&(t.value=$t(t.value,f),t.transform=!1)}function d8(t){for(const e in t)Dg(e,t[e])}function $r(t,e,n,r=S3){var i,a;for(const{channels:s}of e.values())for(const f in s){const u=s[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!T5(n)){const l=((i=n.x)==null?void 0:i.domain)===void 0,h=((a=n.y)==null?void 0:a.domain)===void 0;if(l||h){const[d,g]=k5(u);l&&Es(t,"x",d),h&&Es(t,"y",g)}}}else Es(t,c,u)}return t}function Es(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function h8(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=se(t.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=fi(i,{value:n,scale:"fx"})),r!=null&&(a.fy=fi(i,{value:r,scale:"fy"})),Uu(a,e);const s=xu(i,a);return{channels:a,groups:s,data:t.data}}function Ql(t,e,n){var u;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=se(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const l={};return r!=null&&(l.fx=fi(c,{value:r,scale:"fx"})),i!=null&&(l.fy=fi(c,{value:i,scale:"fy"})),Uu(l,n),{channels:l,groups:xu(c,l)}}if(e===void 0)return;const{channels:a,groups:s,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:a,groups:s};f.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((u=se(t.data))==null?void 0:u.length)===f.length&&wn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function g8(t,e={}){return vr({...e,x:null,y:null},(n,r,i,a,s,f)=>f.getMarkState(t))}function m8(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?K5:/^y$/i.test(i)?$l:Z5,r=i(g8(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===$l?"left":"bottom");const s=r8(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,e.push(s)}}return e}function p8(t,e,n){let{projection:r,x:i={},y:a={},fx:s={},fy:f={},axis:u,grid:c,facet:l={},facet:{axis:h=u,grid:d}=l,x:{axis:g=u,grid:p=g===null?null:c}=i,y:{axis:m=u,grid:b=m===null?null:c}=a,fx:{axis:y=h,grid:_=y===null?null:d}=s,fy:{axis:v=h,grid:w=v===null?null:d}=f}=n;(r||!Ya(i)&&!td("x",t))&&(g=p=null),(r||!Ya(a)&&!td("y",t))&&(m=b=null),e.has("fx")||(y=_=null),e.has("fy")||(v=w=null),g===void 0&&(g=!Xi(t,"x")),m===void 0&&(m=!Xi(t,"y")),y===void 0&&(y=!Xi(t,"fx")),v===void 0&&(v=!Xi(t,"fy")),g===!0&&(g="bottom"),m===!0&&(m="left"),y===!0&&(y=g==="top"||g===null?"bottom":"top"),v===!0&&(v=m==="right"||m===null?"left":"right");const M=[];return Hi(M,w,B4,f),Yi(M,v,D4,"right","left",l,f),Hi(M,_,U4,s),Yi(M,y,I4,"top","bottom",l,s),Hi(M,b,R4,a),Yi(M,m,Li,"left","right",n,a),Hi(M,p,$4,i),Yi(M,g,Dr,"bottom","top",n,i),M}function Yi(t,e,n,r,i,a,s){if(!e)return;const f=b8(e);s=y8(f?r:e,a,s);const{line:u}=s;(n===Li||n===Dr)&&u&&!si(u)&&t.push(jm(_8(s))),t.push(n(s)),f&&t.push(n({...s,anchor:i,label:null}))}function Hi(t,e,n,r){!e||si(e)||t.push(n(w8(e,r)))}function b8(t){return/^\s*both\s*$/i.test(t)}function y8(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:h,label:d=e.label,labelAnchor:g,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:h,label:d,labelAnchor:g,labelArrow:p,labelOffset:m}}function _8(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function w8(t,{stroke:e=Eo(t)?t:void 0,ticks:n=v8(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function v8(t){switch(typeof t){case"number":return!0;case"string":return!Eo(t)}return Kn(t)||typeof(t==null?void 0:t.range)=="function"}function Xi(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function td(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function M8(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function S8({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:u}=Su(n),c=t&&ed(t),l=e&&ed(e);return{marginTop:e?l[0]:r,marginRight:t?f-c[1]:i,marginBottom:e?u-l[1]:a,marginLeft:t?c[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:u}}function ed(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const x8=new Map([["basis",G_],["basis-closed",Z_],["basis-open",K_],["bundle",J_],["bump-x",B_],["bump-y",$_],["cardinal",Q_],["cardinal-closed",t3],["cardinal-open",e3],["catmull-rom",n3],["catmull-rom-closed",r3],["catmull-rom-open",i3],["linear",vo],["linear-closed",a3],["monotone-x",o3],["monotone-y",s3],["natural",f3],["step",u3],["step-after",l3],["step-before",c3]]);function T8(t=vo,e){if(typeof t=="function")return t;const n=x8.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function Vm(t=xr,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?xr:T8(t,e)}function xr(t){return vo(t)}function A8(t={}){return Mg(t)?t:{...t,x:Me}}function k8(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,r=new Uint8Array(n);let i=0;for(const f of e)for(const u of f)r[u]&&++i,r[u]=1;if(i===0)return{data:t,facets:e};t=oi(t);const a=t[bg]=new Uint32Array(n+i);e=e.map(f=>oi(f,Uint32Array));let s=n;r.fill(0);for(const f of e)for(let u=0,c=f.length;u<c;++u){const l=f[u];r[l]?(f[u]=s,t[s]=t[l],a[s]=l,++s):a[l]=l,r[l]=1}return{data:t,facets:e}}function E8(t={},e={}){arguments.length===1&&([t,e]=N8(t));const{y1:n,y:r=n,x:i,...a}=e,[s,f,u,c]=I8(r,i,"y","x",t,a);return{...s,y1:n,y:f,x1:u,x2:c,x:L3(u,c)}}function C8({x:t,x1:e,x2:n,...r}={}){return r=Eu(r,"y"),e===void 0&&n===void 0?E8({x:t,...r}):([e,n]=N3(t,e,n),{...r,x1:e,x2:n})}function N8(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const D8={length:!0};function I8(t,e=M3,n,r,{offset:i,order:a,reverse:s},f){if(e===null)throw new Error(`stack requires ${r}`);const u=Sg(f),[c,l]=I3(t),[h,d]=_f(e),[g,p]=_f(e);return h.hint=g.hint=D8,i=L8(i),a=P8(a,i,r),[yu(f,(m,b,y)=>{({data:m,facets:b}=k8(m,b));const _=t==null?void 0:l(O3(ye(m,t),y==null?void 0:y[n])),v=ye(m,e,Float64Array),w=ye(m,u),M=a&&a(m,_,v,w),S=m.length,x=d(new Float64Array(S)),E=p(new Float64Array(S)),D=[];for(const A of b){const T=_?Array.from(Uf(A,k=>_[k]).values()):[A];if(M)for(const k of T)k.sort(M);for(const k of T){let L=0,R=0;s&&k.reverse();for(const C of k){const P=v[C];P<0?L=E[C]=(x[C]=L)+P:P>0?R=E[C]=(x[C]=R)+P:E[C]=x[C]=R}}D.push(T)}return i&&i(D,x,E,w),{data:m,facets:b}}),c,h,g]}function L8(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return O8;case"center":case"silhouette":return F8;case"wiggle":return Hm}throw new Error(`unknown offset: ${t}`)}}function Ym(t,e){let n=0,r=0;for(const i of t){const a=e[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function O8(t,e,n){for(const r of t)for(const i of r){const[a,s]=Ym(i,n);for(const f of i){const u=1/(s-a||1);e[f]=u*(e[f]-a),n[f]=u*(n[f]-a)}}}function F8(t,e,n){for(const r of t){for(const i of r){const[a,s]=Ym(i,n);for(const f of i){const u=(s+a)/2;e[f]-=u,n[f]-=u}}Xm(r,e,n)}Gm(t,e,n)}function Hm(t,e,n,r){for(const i of t){const a=new Un;let s=0;for(const f of i){let u=-1;const c=f.map(g=>Math.abs(n[g]-e[g])),l=f.map(g=>{u=r?r[g]:++u;const p=n[g]-e[g],m=a.has(u)?p-a.get(u):0;return a.set(u,p),m}),h=[0,...Qb(l)];for(const g of f)e[g]+=s,n[g]+=s;const d=zn(c);d&&(s-=zn(c,(g,p)=>(l[p]/2+h[p])*g)/d)}Xm(i,e,n)}Gm(t,e,n)}function Xm(t,e,n){const r=Ue(t,i=>Ue(i,a=>e[a]));for(const i of t)for(const a of i)e[a]-=r,n[a]-=r}function Gm(t,e,n){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),a=i.map(f=>(Ue(f,u=>e[u])+ae(f,u=>n[u]))/2),s=Ue(a);for(let f=0;f<r;f++){const u=s-a[f];for(const c of i[f])e[c]+=u,n[c]+=u}}function P8(t,e,n){if(t===void 0&&e===Hm)return nd(je);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Va:je;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return R8(i);case"z":return B8(i);case"sum":return $8(i);case"appearance":return U8(i);case"inside-out":return nd(i)}return rd(yg(t))}if(typeof t=="function")return(t.length===1?rd:z8)(t);if(Array.isArray(t))return j8(t);throw new Error(`invalid order: ${t}`)}}function R8(t){return(e,n,r)=>(i,a)=>t(r[i],r[a])}function B8(t){return(e,n,r,i)=>(a,s)=>t(i[a],i[s])}function $8(t){return Bo(t,(e,n,r,i)=>jf(kn(e),a=>zn(a,s=>r[s]),a=>i[a]))}function U8(t){return Bo(t,(e,n,r,i)=>jf(kn(e),a=>n[ih(a,s=>r[s])],a=>i[a]))}function nd(t){return Bo(t,(e,n,r,i)=>{const a=kn(e),s=jf(a,h=>n[ih(h,d=>r[d])],h=>i[h]),f=Hr(a,h=>zn(h,d=>r[d]),h=>i[h]),u=[],c=[];let l=0;for(const h of s)l<0?(l+=f.get(h),u.push(h)):(l-=f.get(h),c.push(h));return c.reverse().concat(u)})}function rd(t){return e=>{const n=ye(e,t);return(r,i)=>je(n[r],n[i])}}function z8(t){return e=>(n,r)=>t(e[n],e[r])}function j8(t){return Bo(je,()=>t)}function Bo(t,e){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new Un(e(n,r,i,a).map((f,u)=>[f,u]));return(f,u)=>t(s.get(a[f]),s.get(a[u]))}}const q8={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class W8 extends ee{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:s,curve:f,tension:u}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,q8),this.curve=Vm(f,u),Oo(this,n)}project(e,n,r){this.curve!==xr&&super.project(e,n,r)}render(e,n,r,i,a){const{x1:s,y1:f,x2:u=s,y2:c=f}=r,{curve:l}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,n).call(h=>h.selectAll().data(e).enter().append("path").call(De,this).attr("d",l===xr&&a.projection?V8(a.projection,s,f,u,c):d=>{const g=gn(),p=l(g);return p.lineStart(),p.point(s[d],f[d]),p.point(u[d],c[d]),p.lineEnd(),g}).call(un,this,r).call(Nu,this,r,a)).node()}}function V8(t,e,n,r,i){const a=fo(t);return e=bn(e),n=bn(n),r=bn(r),i=bn(i),s=>a({type:"LineString",coordinates:[[e[s],n[s]],[r[s],i[s]]]})}function Cf(t,{x:e,x1:n,x2:r,y:i,y1:a,y2:s,...f}={}){return[n,r]=id(e,n,r),[a,s]=id(i,a,s),new W8(t,{...f,x1:n,x2:r,y1:a,y2:s})}function id(t,e,n){if(t===void 0){if(e===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[e]}else{if(e===void 0)return n===void 0?[t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}class Y8 extends ee{constructor(e,n,r={},i){super(e,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:f=a,insetBottom:u=a,insetLeft:c=a,rx:l,ry:h}=r;this.insetTop=kt(s),this.insetRight=kt(f),this.insetBottom=kt(u),this.insetLeft=kt(c),this.rx=Ot(l,"auto"),this.ry=Ot(h,"auto")}render(e,n,r,i,a){const{rx:s,ry:f}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(this._transform,this,n).call(u=>u.selectAll().data(e).enter().append("rect").call(De,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(ot,"rx",s).call(ot,"ry",f).call(un,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:f}=this,u=n&&e?e.bandwidth():a-r-i;return Math.max(0,u-s-f)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:f}=this,u=n&&e?e.bandwidth():a-r-i;return Math.max(0,u-s-f)}}const H8={ariaLabel:"cell"};class X8 extends Y8{constructor(e,{x:n,y:r,...i}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,H8)}_transform(e,n){e.call(Ie,n,{},0,0)}}function G8(t,{x:e,y:n,...r}={}){return[e,n]=xi(e,n),new X8(t,{...r,x:e,y:n})}const Z8={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function K8(t){return t.sort===void 0&&t.reverse===void 0?ew({channel:"-r"},t):t}class J8 extends ee{constructor(e,n={}){const{x:r,y:i,r:a,rotate:s,symbol:f=ii,frameAnchor:u}=n,[c,l]=Vt(s,0),[h,d]=Q3(f),[g,p]=Vt(a,h==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:g,scale:"r",filter:xo,optional:!0},rotate:{value:c,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},K8(n),Z8),this.r=p,this.rotate=l,this.symbol=d,this.frameAnchor=Co(u);const{channels:m}=this,{symbol:b}=m;if(b){const{fill:y,stroke:_}=m;b.hint={fill:y?y.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:_?_.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,r:l,rotate:h,symbol:d}=r,{r:g,rotate:p,symbol:m}=this,[b,y]=Ii(this,i),_=m===ii,v=l?void 0:g*g*Math.PI;return uu(g)&&(e=[]),Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{x:u&&s,y:c&&f}).call(w=>w.selectAll().data(e).enter().append(_?"circle":"path").call(De,this).call(_?M=>{M.attr("cx",u?S=>u[S]:b).attr("cy",c?S=>c[S]:y).attr("r",l?S=>l[S]:g)}:M=>{M.attr("transform",Fu`translate(${u?S=>u[S]:b},${c?S=>c[S]:y})${h?S=>` rotate(${h[S]})`:p?` rotate(${p})`:""}`).attr("d",l&&d?S=>{const x=gn();return d[S].draw(x,l[S]*l[S]*Math.PI),x}:l?S=>{const x=gn();return m.draw(x,l[S]*l[S]*Math.PI),x}:d?S=>{const x=gn();return d[S].draw(x,v),x}:(()=>{const S=gn();return m.draw(S,v),S})())}).call(un,this,r)).node()}}function Q8(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=xi(e,n)),new J8(t,{...r,x:e,y:n})}function t7(t,e){return Q8(t,{...e,symbol:"circle"})}const e7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let n7=class extends ee{constructor(e,n={}){const{x:r,y:i,z:a,curve:s,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Sg(n),optional:!0}},n,e7),this.z=a,this.curve=Vm(s,f),Oo(this,n)}filter(e){return e}project(e,n,r){this.curve!==xr&&super.project(e,n,r)}render(e,n,r,i,a){const{x:s,y:f}=r,{curve:u}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,n).call(c=>c.selectAll().data(j5(e,[s,f],this,r)).enter().append("path").call(De,this).call($5,this,r).call(n4,this,r,a).attr("d",u===xr&&a.projection?r7(a.projection,s,f):R_().curve(u).defined(l=>l>=0).x(l=>s[l]).y(l=>f[l]))).node()}};function r7(t,e,n){const r=fo(t);return e=bn(e),n=bn(n),i=>{let a=[];const s=[a];for(const f of i)f===-1?(a=[],s.push(a)):a.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:s})}}function i7(t,{x:e,y:n,...r}={}){return[e,n]=xi(e,n),new n7(t,{...r,x:e,y:n})}const a7={ariaLabel:"rect"};class Zm extends ee{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:f=0,insetTop:u=f,insetRight:c=f,insetBottom:l=f,insetLeft:h=f,rx:d,ry:g}=n;super(e,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&s==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,a7),this.insetTop=kt(u),this.insetRight=kt(c),this.insetBottom=kt(l),this.insetLeft=kt(h),this.rx=Ot(d,"auto"),this.ry=Ot(g,"auto")}render(e,n,r,i,a){const{x:s,y:f}=n,{x1:u,y1:c,x2:l,y2:h}=r,{marginTop:d,marginRight:g,marginBottom:p,marginLeft:m,width:b,height:y}=i,{projection:_}=a,{insetTop:v,insetRight:w,insetBottom:M,insetLeft:S,rx:x,ry:E}=this,D=(s!=null&&s.bandwidth?s.bandwidth():0)-S-w,A=(f!=null&&f.bandwidth?f.bandwidth():0)-v-M;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{},0,0).call(T=>T.selectAll().data(e).enter().append("rect").call(De,this).attr("x",u&&(_||!yn(s))?l?k=>Math.min(u[k],l[k])+S:k=>u[k]+S:m+S).attr("y",c&&(_||!yn(f))?h?k=>Math.min(c[k],h[k])+v:k=>c[k]+v:d+v).attr("width",u&&(_||!yn(s))?l?k=>Math.max(0,Math.abs(l[k]-u[k])+D):D:b-g-m-w-S).attr("height",c&&(_||!yn(f))?h?k=>Math.max(0,Math.abs(c[k]-h[k])+A):A:y-d-p-v-M).call(ot,"rx",x).call(ot,"ry",E).call(un,this,r)).node()}}function o7(t,e){return new Zm(t,r4(lm(e)))}function zu(t,e={}){return C3(e)||(e={...e,y:_g,x2:Me,interval:1}),new Zm(t,C8(lm(A8(e))))}ee.prototype.plot=function({marks:t=[],...e}={}){return qm({...e,marks:[...t,this]})};function s7(t,e={}){if(!t||t.length===0)return[];let n=vn(t[0]),r=e.include?e.include:n;r=ca(e.include||n,e.exclude||[]);let i=ca(n,r);return console.log(r,i),Gd(a=>r.map(s=>{let f=$b(i,a);return f[e.key||"key"]=s,f[e.value||"value"]=a[s],f}),t)}class f7{add(e,n,r){let i=`${r.view.id}::${r.eventname}`;return It(this[i])?this[i]={iact:r,oldVal:e,newVal:n}:this[i].newVal=n,console.log("WriteSet.add",i,this[i]),this}forEach(e){Dn(this).forEach(e)}merge(e){if(It(e))return this;e.forEach(({iact:n,oldVal:r,newVal:i})=>{this.add(r,i,n)})}}const hn=Xt(Array),ad=()=>null;function cr(t,e,n){if(Xt(String,e))t[e]=n;else if(hn(e)){let[r,...i]=e;It(t[r])&&(t[r]={}),Gt(i)?cr(t,r,n):cr(t[r],i,n)}}function Xa(t,e,n){if(Xt(String,e))It(t[e])&&(t[e]=[]),t[e].push(n);else if(hn(e)){let[r,...i]=e;It(t[r])&&(t[r]=Gt(i)?[]:{}),Gt(i)?Xa(t,r,n):Xa(t[r],i,n)}}function ln(t,e,n){if(Xt(String,e))return t[e]||(Xt(Function,n)?n():n);if(hn(e)){let[r,...i]=e;return It(t[r])?Xt(Function,n)?n():n:Gt(i)?ln(t,r,n):ln(t[r],i,n)}}class u7{constructor(){this.defaults={},this.dependencies={},this.view2iacts={},this.states={},this.viewData={}}add(e,n,r=ad,i){if(!e.attr)return this;let a=e.view.id,s=e.eventname;return Xa(this.dependencies,[a,s],{view:n,domainfunction:r}),Xa(this.view2iacts,n.id,e),this.setDefault(n,i),this}dependentViews(e){let n=e.eventname;return ln(this.dependencies,[e.view.id,n],[])}cmp(e,n){return this.isDependentOn(e.view,n)?1:this.isDependentOn(n.view,e)?-1:0}isDependentOn(e,n){let r=this.getAncestorIacts(e);return Xd(i=>(i.store??i)==n,r)}setDefault(e,n){return It(n)||(this.defaults[e.id]=n),this}getDefault(e,n){return(ln(this.defaults,e.id)??ad)(n,this.getAncestorIacts(e))}getAncestorIacts(e){let n=[];return ln(this.view2iacts,e.id,[]).forEach(r=>{n.push(r),n=ha(n,this.getAncestorIacts(r.view))}),n}getStatesKey(e){let n=this.getAncestorIacts(e),r=ha([e.id],n.map(i=>[i.id,i.val()]));return console.debug("ancestorStates",r,JSON.stringify(r)),JSON.stringify(r)}saveState(e,n,r){let i=this.getStatesKey(n.view);!It(r)&&It(r.states[i])&&cr(r.states,[i,n.eventname],{old:ln(this.states,[i,n.eventname]),iact:n}),console.debug("saveState",i,n.eventname,ln(this.states,[i,n.eventname]),e),cr(this.states,[i,n.eventname],e)}restoreStates(e){tn((n,r)=>{tn(({iact:i,old:a},s)=>{console.debug("restoreState",r,i.eventname,a),cr(this.states,[r,i.eventname],a)},n)},e.states)}getState(e,n,r=!0){let i=this.getStatesKey(e);return It(n)?this.states[i]:ln(this.states,[i,n],()=>r?this.getDefault(e,n):void 0)}}class uv{constructor(e){this.interactions={},this.views={},this.backends={},this.i2b={},this.dependencies=new u7,this.transactions=[],this._isaborting=!1,this.backends=e,this._iactid=0,this._xid=0;const n=r=>i=>this.backends.createBackend({...i,type:r});this.backend=r=>this.backends.createBackend(r),this.backend.array=n("array"),this.backend.duckdb=n("duckdb"),this.backend.identity=n("identity"),this.backend.overlay=n("overlay"),this.backend.query=n("query"),this.backend.matching=n("matching")}view(e){if(this.views[e.id]=e,hn(e)){e.forEach(n=>this.view(n));return}this.interactions[e.id]=this.interactions[e.id]??{_attrs:{}},e.magic=this,tn((n,r)=>{if(!It(this.interactions[e.id][r]))return;let i=a=>{e.load(o,event)};Object.assign(n,{start:(...a)=>this.start(n,...a),end:()=>this.end(n),abort:()=>this.abort(n),val:()=>Uo(n)??{},load:i,id:this._iactid++,view:e,eventname:r,isActive:!1}),n.get=(a,s=null)=>{if(!It(this.interactions[e.id]._attrs[a]))return this.interactions[e.id]._attrs[a];let f={store:n,attr:a,view:e,eventname:r,load:i,default:s,id:this._iactid++,val:()=>{let u=Uo(n);return ga(a)(u)?u[a]:(Gt(u)||console.error("could not find attr:",vn(Uo(n)).length),Xt(Function,s)?s():s)},start:()=>this.start(f),end:()=>this.end(f),abort:()=>this.abort(f)};return this.interactions[e.id]._attrs[a]=f,f},this.interactions[e.id][r]=n},e.interactions)}render(e,n,r,i={}){return e=hn(e)?e:[e],n=hn(n)?n:[n],e.map(s=>{if(Xt(jp,s))return s;let f=this.backend.identity();return this.connect(f,s),f}).forEach(s=>{n.forEach(f=>s.registerView(f,r,i))}),this}saveBackends(e){console.debug("save backends invoked on: ",e),e=hn(e)?e:[e],e.forEach(n=>{n.registerView((r,i)=>{console.debug("saveBackend",this,n,r,i),tn((a,s)=>{tn((f,u)=>{f.forEach(c=>{console.debug("saveBackend.DependencyLeaf.ViewIact",c.view.id,this.i2b[c.view.id]);let l=this.dependencies.getAncestorIacts(c.view),h=ha([n.id],l.map(d=>[d.id,d.val()]));Gt(Lb(vn(this.i2b[c.view.id]),n.id))||(console.debug("saveBackend.View",n.id,c.view.id),this.dependencies.viewData[h]=r)})},a)},this.dependencies.dependencies)})})}connect(e,n,r){var s;if(hn(n)){n.forEach(f=>this.connect(e,f,r));return}let i=n,a=i.view;It(this.i2b[a.id])&&(i.subscribe(f=>{console.log("iact.subscribe.handleEvent",a.id,i.id),this.handleEvent(f,i)}),i.store?i.store.isActive=!0:i.isActive=!0,(s=a.registerInteraction)==null||s.call(a,i),this.i2b[a.id]={}),It(e)||cr(this.i2b,[a.id,e.id],this.processBindings(r))}processBindings(e){if(It(e)||Gt(e))return Ls;if(Xt(Function,e))return e;let n=oc(Sb(Xt(Array),Xt(Object)),Sn(r=>this.processBindings(r)),oc(Xt(Function),Ls,r=>()=>r))(e);return ga("*",e)?r=>qp(r,ac(n)(r)):ac(n)}saveIactState(e,n,r){this.dependencies.saveState(e,n,r),this.dependencies.dependentViews(n).forEach(({view:i,domainfunction:a})=>{if(a){let f=this.dependencies.getAncestorIacts(i);i.render(a(e,f))}let s=this.dependencies.getState(i);tn((f,u)=>{f=f??this.dependencies.getDefault(i,u),f&&(console.debug("saveIactState.load",i.id,u,f),i.load(f,u))},s),(It(s)||Gt(s))&&(console.debug("saveIactState.load.default",i.id),i.load(this.dependencies.getDefault(i)))})}handleEvent(e,n){if(!It(e))if(console.log("handleEvent",this._isaborting,n.view.id,e),this._isaborting)this.dependencies.saveState(e,n,null),this.sendEventToBackends(e,n);else if(this.transactions.length==0||qo(this.transactions).iact!=n)n.start(),this.handleEvent(e,n),n.end();else{let r=qo(this.transactions),i=this.dependencies.getState(n.view,n.eventname,!1);r.writeSet.add(i,e,n),r.visible&&this.sendEventToBackends(e,n)}}sendEventToBackends(e,n){tn((r,i)=>{let a=r(e);this.backends[i].execute(a,n)},this.i2b[n.view.id])}snapshot(){return Fb(e=>e.snapshot(),this.backends)}restoreSnapshot(e){tn((n,r)=>{It(n)||this.backends[r].restoreSnapshot(n)},e.snapshot)}start(e,n=!0){this.transactions.push({xid:this._xid++,iact:e,visible:n,snapshot:this.snapshot(),states:{},writeSet:new f7}),console.log("magic.start",this.transactions)}end(e){if(!Xd(a=>a.iact=e,this.transactions)){console.log("magic.end: can't find interaction",e);return}let n=this.transactions.pop();console.log("magic.end[",n.writeSet),n.writeSet.forEach(({newVal:a,iact:s})=>{this.saveIactState(a,s,n),n.visible||this.sendEventToBackends(a,s)});let r=Dn(n.writeSet).map(({iact:a})=>a.id),i=Gd(a=>Dn(a).map(({iact:s})=>s.id),Dn(n.states));if(Gt(qb(r,i))||console.error("writeset != statesids",r,i),this.transactions.length>0){let a=qo(this.transactions);a.snapshot=rc(a.snapshot,n.snapshot),a.states=rc(a.states,n.states),a.writeSet.merge(n.writeSet)}console.log("magic.end]",this.dependencies.states,this.transactions)}abort(e){try{this._isaborting=!0;let n=this.transactions.pop();console.log("magic.abort",n.states,n.writeSet),this.restoreSnapshot(n),console.log("magic.abort.restoredStates.before",Wp(this.dependencies.states)),this.dependencies.restoreStates(n),console.log("magic.abort.restoredStates.after",this.dependencies.states),zb((i,a)=>this.dependencies.cmp(i.iact,a.iact),Dn(n.writeSet)).forEach(({iact:i})=>{let a=this.dependencies.getState(i.view,i.eventname);a&&i.view.load&&(console.log("magic.abort.load",a,i),i.view.load(a,i.eventname))})}finally{this._isaborting=!1}}importState(e){let n=JSON.parse(e);this.dependencies.states=n,tn((r,i)=>{let a=this.views[i];this.walkViews(a)},this.dependencies.dependencies)}walkViews(e){let n=this.dependencies.getStatesKey(e),r=this.dependencies.states[n],i=Dn(r);if(i.length>1){console.error("unexpected behavior, multiple values for state");return}e.load(i[0])}exportState(){return JSON.stringify(this.dependencies.states)}exportData(){return JSON.stringify(this.dependencies.viewData)}}const Ga="_theplot_",c7={top:30,right:20,bottom:50,left:40};function $o(t,e){t.className=t.className||Ga,It(t.width);let n=qm(t),r=null;return n.tagName=="svg"&&n.classList.contains(t.className)?r=n:r=n.querySelector(`svg.${t.className}`),r.classList.add(Ga),t.width||r.setAttribute("width","100%"),t.height||r.setAttribute("height","100%"),e.innerHTML="",e.appendChild(n),n}class ju{constructor({iact:e,magic:n,plot:r=null}){this.x=null,this.y=null,this.defaultSelection,this.brush,this.el,this.iact=e,this.magic=n,this.plot=r,r&&this.init(r)}load(e){if(!(!this.el||!this.brush)&&this.iact.isActive){if(!e||Gt(e)){this.el.call(this.brush.clear);return}const{left:n,right:r}=e;this.el.call(this.brush.move,[this.x.apply(n),this.x.apply(r)])}}brushed({selection:e}){if(this.iact.isActive)if(!e)this.iact.set(this.defaultSelection);else{const[n,r]=e;this.iact.set({left:this.x.invert(n),right:this.x.invert(r)})}}brushstart({selection:e,sourceEvent:n}){this.iact.isActive&&n&&this.magic.start(this.iact)}brushended({selection:e,sourceEvent:n}){this.iact.isActive&&(e||this.iact.set({left:this.x.domain[0],right:this.x.domain[1]}),n&&this.magic.end(this.iact))}init(e){if(!this.iact.isActive)return;if(this.plot=e,this.x=e.scale("x"),this.y=e.scale("y"),this.y.range[0]<this.y.range[1]){let r=this.y.range[0];this.y.range[0]=this.y.range[1],this.y.range[1]=r}this.defaultSelection={left:this.x.domain[0],right:this.x.domain[1]};let n=e.classList.contains(Ga)?Zt(e):Zt(e.querySelector(`.${Ga}`));this.brush=Y2().extent([[this.x.range[0],this.y.range[1]],[this.x.range[1],this.y.range[0]]]).on("brush",r=>this.brushed(r)).on("start",r=>this.brushstart(r)).on("end",r=>this.brushended(r)),this.el=n.append("g").attr("class","brush").call(this.brush)}}function l7(t){let e,n;return{c(){e=st("div"),n=st("div"),this.h()},l(r){e=ft(r,"DIV",{id:!0});var i=ct(e);n=ft(i,"DIV",{}),ct(n).forEach(q),i.forEach(q),this.h()},h(){j(e,"id",t[0])},m(r,i){pt(r,e,i),rt(e,n),t[15](n)},p(r,[i]){i&1&&j(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&q(e),t[15](null)}}}function d7(t,e,n){let{id:r,name:i,magic:a,description:s,xAttr:f,yAttr:u,xDomainMin:c=null,xDomainMax:l=null,brushX:h=ie({}),interactions:d={brushX:h}}=e,g,p=null,m={},b=[],y;function _(x,E){return E==="overlay"?(m=x,!0):!1}function v(x,E){!x||x.length===0||typeof E=="object"||(_(x,E)?console.debug("overlays"):b=x,M())}let{load:w=x=>y==null?void 0:y.load(x)}=e;function M(){n(2,c=c??Ue(Sn(Os(f),b))),n(3,l=l??ae(Sn(Os(f),b)));const x=Math.max(36,Math.min(b.length,20));let E={x:{domain:[+c,+l]},height:200,marginBottom:50,color:{scheme:"Tableau10",legend:!0,style:{"font-size":10,"margin-left":"2rem"}},marks:[Dr({ticks:x,fontSize:10}),Li({fontSize:10}),Lu([c]),Ou([0]),i7(b,{x:f,y:u,marker:!0,strokeWidth:3}),zu(m,{x1:"left",x2:"right",y2:ae(Bf(u,b)),fill:"key",color:"key",opacity:.2})]};p=$o(E,g),h.isActive&&(y=y??new ju({iact:h,magic:a}),y.init(p))}function S(x){Ar[x?"unshift":"push"](()=>{g=x,n(1,g)})}return t.$$set=x=>{"id"in x&&n(4,r=x.id),"name"in x&&n(0,i=x.name),"magic"in x&&n(5,a=x.magic),"description"in x&&n(6,s=x.description),"xAttr"in x&&n(7,f=x.xAttr),"yAttr"in x&&n(8,u=x.yAttr),"xDomainMin"in x&&n(2,c=x.xDomainMin),"xDomainMax"in x&&n(3,l=x.xDomainMax),"brushX"in x&&n(9,h=x.brushX),"interactions"in x&&n(10,d=x.interactions),"load"in x&&n(13,w=x.load)},[i,g,c,l,r,a,s,f,u,h,d,_,v,w,M,S]}class cv extends We{constructor(e){super(),Ve(this,e,d7,l7,Ye,{id:4,name:0,magic:5,description:6,xAttr:7,yAttr:8,xDomainMin:2,xDomainMax:3,brushX:9,interactions:10,overlay:11,render:12,load:13,update:14})}get id(){return this.$$.ctx[4]}set id(e){this.$$set({id:e}),Z()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),Z()}get magic(){return this.$$.ctx[5]}set magic(e){this.$$set({magic:e}),Z()}get description(){return this.$$.ctx[6]}set description(e){this.$$set({description:e}),Z()}get xAttr(){return this.$$.ctx[7]}set xAttr(e){this.$$set({xAttr:e}),Z()}get yAttr(){return this.$$.ctx[8]}set yAttr(e){this.$$set({yAttr:e}),Z()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(e){this.$$set({xDomainMin:e}),Z()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(e){this.$$set({xDomainMax:e}),Z()}get brushX(){return this.$$.ctx[9]}set brushX(e){this.$$set({brushX:e}),Z()}get interactions(){return this.$$.ctx[10]}set interactions(e){this.$$set({interactions:e}),Z()}get overlay(){return this.$$.ctx[11]}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}set load(e){this.$$set({load:e}),Z()}get update(){return this.$$.ctx[14]}}function od(t){return Object.prototype.toString.call(t)==="[object Date]"}function Nf(t,e,n,r){if(typeof n=="number"||od(n)){const i=r-n,a=(n-e)/(t.dt||1/60),s=t.opts.stiffness*i,f=t.opts.damping*a,u=(s-f)*t.inv_mass,c=(a+u)*t.dt;return Math.abs(c)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,od(n)?new Date(n.getTime()+c):n+c)}else{if(Array.isArray(n))return n.map((i,a)=>Nf(t,e[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=Nf(t,e[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function h7(t,e={}){const n=ie(t),{stiffness:r=.15,damping:i=.8,precision:a=.01}=e;let s,f,u,c=t,l=t,h=1,d=0,g=!1;function p(b,y={}){l=b;const _=u={};return t==null||y.hard||m.stiffness>=1&&m.damping>=1?(g=!0,s=Yu(),c=b,n.set(t=l),Promise.resolve()):(y.soft&&(d=1/((y.soft===!0?.5:+y.soft)*60),h=0),f||(s=Yu(),g=!1,f=wp(v=>{if(g)return g=!1,f=null,!1;h=Math.min(h+d,1);const w={inv_mass:h,opts:m,settled:!0,dt:(v-s)*60/1e3},M=Nf(w,c,t,l);return s=v,c=t,n.set(t=M),w.settled&&(f=null),!w.settled})),new Promise(v=>{f.promise.then(()=>{_===u&&v()})}))}const m={set:p,update:(b,y)=>p(b(l,t),y),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return m}function sd(t,e,n){const r=t.slice();return r[37]=e[n],r[39]=n,r}function fd(t){let e,n,r,i,a=(t[6]==="label"||t[7]==="label")&&ud(t);return{c(){e=st("span"),a&&a.c(),this.h()},l(s){e=ft(s,"SPAN",{class:!0,style:!0});var f=ct(e);a&&a.l(f),f.forEach(q),this.h()},h(){j(e,"class","pip first"),j(e,"style",n=t[14]+": 0%;"),at(e,"selected",t[18](t[0])),at(e,"in-range",t[17](t[0]))},m(s,f){pt(s,e,f),a&&a.m(e,null),r||(i=[At(e,"pointerdown",t[30]),At(e,"pointerup",t[31])],r=!0)},p(s,f){s[6]==="label"||s[7]==="label"?a?a.p(s,f):(a=ud(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 0%;")&&j(e,"style",n),f[0]&262145&&at(e,"selected",s[18](s[0])),f[0]&131073&&at(e,"in-range",s[17](s[0]))},d(s){s&&q(e),a&&a.d(),r=!1,Yn(i)}}}function ud(t){let e,n,r,i=t[12](t[16](t[0]),0,0)+"",a,s=t[10]&&cd(t),f=t[11]&&ld(t);return{c(){e=st("span"),s&&s.c(),n=Dt(),r=new to(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=ft(u,"SPAN",{class:!0});var c=ct(e);s&&s.l(c),n=Dt(),r=eo(c,!1),a=Dt(),f&&f.l(c),c.forEach(q),this.h()},h(){r.a=a,j(e,"class","pipVal")},m(u,c){pt(u,e,c),s&&s.m(e,null),rt(e,n),r.m(i,e),rt(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=cd(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&69633&&i!==(i=u[12](u[16](u[0]),0,0)+"")&&r.p(i),u[11]?f?f.p(u,c):(f=ld(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&q(e),s&&s.d(),f&&f.d()}}}function cd(t){let e,n;return{c(){e=st("span"),n=Yt(t[10]),this.h()},l(r){e=ft(r,"SPAN",{class:!0});var i=ct(e);n=Ht(i,t[10]),i.forEach(q),this.h()},h(){j(e,"class","pipVal-prefix")},m(r,i){pt(r,e,i),rt(e,n)},p(r,i){i[0]&1024&&ve(n,r[10])},d(r){r&&q(e)}}}function ld(t){let e,n;return{c(){e=st("span"),n=Yt(t[11]),this.h()},l(r){e=ft(r,"SPAN",{class:!0});var i=ct(e);n=Ht(i,t[11]),i.forEach(q),this.h()},h(){j(e,"class","pipVal-suffix")},m(r,i){pt(r,e,i),rt(e,n)},p(r,i){i[0]&2048&&ve(n,r[11])},d(r){r&&q(e)}}}function dd(t){let e,n=Array(t[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=bd(sd(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Dt()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);e=Dt()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);pt(i,e,a)},p(i,a){if(a[0]&8314435){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const f=sd(i,n,s);r[s]?r[s].p(f,a):(r[s]=bd(f),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){Lf(r,i),i&&q(e)}}}function hd(t){let e,n,r,i,a,s=(t[6]==="label"||t[9]==="label")&&gd(t);function f(...u){return t[33](t[39],...u)}return{c(){e=st("span"),s&&s.c(),n=pe(),this.h()},l(u){e=ft(u,"SPAN",{class:!0,style:!0});var c=ct(e);s&&s.l(c),n=be(c),c.forEach(q),this.h()},h(){j(e,"class","pip"),j(e,"style",r=t[14]+": "+t[15](t[19](t[39]))+"%;"),at(e,"selected",t[18](t[19](t[39]))),at(e,"in-range",t[17](t[19](t[39])))},m(u,c){pt(u,e,c),s&&s.m(e,null),rt(e,n),i||(a=[At(e,"pointerdown",t[32]),At(e,"pointerup",f)],i=!0)},p(u,c){t=u,t[6]==="label"||t[9]==="label"?s?s.p(t,c):(s=gd(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&573440&&r!==(r=t[14]+": "+t[15](t[19](t[39]))+"%;")&&j(e,"style",r),c[0]&786432&&at(e,"selected",t[18](t[19](t[39]))),c[0]&655360&&at(e,"in-range",t[17](t[19](t[39])))},d(u){u&&q(e),s&&s.d(),i=!1,Yn(a)}}}function gd(t){let e,n,r,i=t[12](t[19](t[39]),t[39],t[15](t[19](t[39])))+"",a,s=t[10]&&md(t),f=t[11]&&pd(t);return{c(){e=st("span"),s&&s.c(),n=Dt(),r=new to(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=ft(u,"SPAN",{class:!0});var c=ct(e);s&&s.l(c),n=Dt(),r=eo(c,!1),a=Dt(),f&&f.l(c),c.forEach(q),this.h()},h(){r.a=a,j(e,"class","pipVal")},m(u,c){pt(u,e,c),s&&s.m(e,null),rt(e,n),r.m(i,e),rt(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=md(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&561152&&i!==(i=u[12](u[19](u[39]),u[39],u[15](u[19](u[39])))+"")&&r.p(i),u[11]?f?f.p(u,c):(f=pd(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&q(e),s&&s.d(),f&&f.d()}}}function md(t){let e,n;return{c(){e=st("span"),n=Yt(t[10]),this.h()},l(r){e=ft(r,"SPAN",{class:!0});var i=ct(e);n=Ht(i,t[10]),i.forEach(q),this.h()},h(){j(e,"class","pipVal-prefix")},m(r,i){pt(r,e,i),rt(e,n)},p(r,i){i[0]&1024&&ve(n,r[10])},d(r){r&&q(e)}}}function pd(t){let e,n;return{c(){e=st("span"),n=Yt(t[11]),this.h()},l(r){e=ft(r,"SPAN",{class:!0});var i=ct(e);n=Ht(i,t[11]),i.forEach(q),this.h()},h(){j(e,"class","pipVal-suffix")},m(r,i){pt(r,e,i),rt(e,n)},p(r,i){i[0]&2048&&ve(n,r[11])},d(r){r&&q(e)}}}function bd(t){let e=t[19](t[39])!==t[0]&&t[19](t[39])!==t[1],n,r=e&&hd(t);return{c(){r&&r.c(),n=Dt()},l(i){r&&r.l(i),n=Dt()},m(i,a){r&&r.m(i,a),pt(i,n,a)},p(i,a){a[0]&524291&&(e=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),e?r?r.p(i,a):(r=hd(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&q(n)}}}function yd(t){let e,n,r,i,a=(t[6]==="label"||t[8]==="label")&&_d(t);return{c(){e=st("span"),a&&a.c(),this.h()},l(s){e=ft(s,"SPAN",{class:!0,style:!0});var f=ct(e);a&&a.l(f),f.forEach(q),this.h()},h(){j(e,"class","pip last"),j(e,"style",n=t[14]+": 100%;"),at(e,"selected",t[18](t[1])),at(e,"in-range",t[17](t[1]))},m(s,f){pt(s,e,f),a&&a.m(e,null),r||(i=[At(e,"pointerdown",t[34]),At(e,"pointerup",t[35])],r=!0)},p(s,f){s[6]==="label"||s[8]==="label"?a?a.p(s,f):(a=_d(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 100%;")&&j(e,"style",n),f[0]&262146&&at(e,"selected",s[18](s[1])),f[0]&131074&&at(e,"in-range",s[17](s[1]))},d(s){s&&q(e),a&&a.d(),r=!1,Yn(i)}}}function _d(t){let e,n,r,i=t[12](t[16](t[1]),t[20],100)+"",a,s=t[10]&&wd(t),f=t[11]&&vd(t);return{c(){e=st("span"),s&&s.c(),n=Dt(),r=new to(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=ft(u,"SPAN",{class:!0});var c=ct(e);s&&s.l(c),n=Dt(),r=eo(c,!1),a=Dt(),f&&f.l(c),c.forEach(q),this.h()},h(){r.a=a,j(e,"class","pipVal")},m(u,c){pt(u,e,c),s&&s.m(e,null),rt(e,n),r.m(i,e),rt(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=wd(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&1118210&&i!==(i=u[12](u[16](u[1]),u[20],100)+"")&&r.p(i),u[11]?f?f.p(u,c):(f=vd(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&q(e),s&&s.d(),f&&f.d()}}}function wd(t){let e,n;return{c(){e=st("span"),n=Yt(t[10]),this.h()},l(r){e=ft(r,"SPAN",{class:!0});var i=ct(e);n=Ht(i,t[10]),i.forEach(q),this.h()},h(){j(e,"class","pipVal-prefix")},m(r,i){pt(r,e,i),rt(e,n)},p(r,i){i[0]&1024&&ve(n,r[10])},d(r){r&&q(e)}}}function vd(t){let e,n;return{c(){e=st("span"),n=Yt(t[11]),this.h()},l(r){e=ft(r,"SPAN",{class:!0});var i=ct(e);n=Ht(i,t[11]),i.forEach(q),this.h()},h(){j(e,"class","pipVal-suffix")},m(r,i){pt(r,e,i),rt(e,n)},p(r,i){i[0]&2048&&ve(n,r[11])},d(r){r&&q(e)}}}function g7(t){let e,n,r,i=(t[6]&&t[7]!==!1||t[7])&&fd(t),a=(t[6]&&t[9]!==!1||t[9])&&dd(t),s=(t[6]&&t[8]!==!1||t[8])&&yd(t);return{c(){e=st("div"),i&&i.c(),n=pe(),a&&a.c(),r=pe(),s&&s.c(),this.h()},l(f){e=ft(f,"DIV",{class:!0});var u=ct(e);i&&i.l(u),n=be(u),a&&a.l(u),r=be(u),s&&s.l(u),u.forEach(q),this.h()},h(){j(e,"class","rangePips"),at(e,"disabled",t[5]),at(e,"hoverable",t[4]),at(e,"vertical",t[2]),at(e,"reversed",t[3]),at(e,"focus",t[13])},m(f,u){pt(f,e,u),i&&i.m(e,null),rt(e,n),a&&a.m(e,null),rt(e,r),s&&s.m(e,null)},p(f,u){f[6]&&f[7]!==!1||f[7]?i?i.p(f,u):(i=fd(f),i.c(),i.m(e,n)):i&&(i.d(1),i=null),f[6]&&f[9]!==!1||f[9]?a?a.p(f,u):(a=dd(f),a.c(),a.m(e,r)):a&&(a.d(1),a=null),f[6]&&f[8]!==!1||f[8]?s?s.p(f,u):(s=yd(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null),u[0]&32&&at(e,"disabled",f[5]),u[0]&16&&at(e,"hoverable",f[4]),u[0]&4&&at(e,"vertical",f[2]),u[0]&8&&at(e,"reversed",f[3]),u[0]&8192&&at(e,"focus",f[13])},i:Lt,o:Lt,d(f){f&&q(e),i&&i.d(),a&&a.d(),s&&s.d()}}}function m7(t,e,n){let r,i,a,s,f,{range:u=!1}=e,{min:c=0}=e,{max:l=100}=e,{step:h=1}=e,{values:d=[(l+c)/2]}=e,{vertical:g=!1}=e,{reversed:p=!1}=e,{hoverable:m=!0}=e,{disabled:b=!1}=e,{pipstep:y=void 0}=e,{all:_=!0}=e,{first:v=void 0}=e,{last:w=void 0}=e,{rest:M=void 0}=e,{prefix:S=""}=e,{suffix:x=""}=e,{formatter:E=(I,tt,et)=>I}=e,{focus:D=void 0}=e,{orientationStart:A=void 0}=e,{percentOf:T=void 0}=e,{moveHandle:k=void 0}=e,{fixFloat:L=void 0}=e,{normalisedClient:R=void 0}=e,C;function P(I){I=R(I),C={x:I.clientX,y:I.clientY}}function Y(I,tt){if(tt=R(tt),!b){const et=Math.sqrt(Math.pow(C.x-tt.clientX,2)+Math.pow(C.y-tt.clientY,2));C&&et<=5&&k(void 0,I)}}const K=I=>{P(I)},H=I=>{Y(c,I)},B=I=>{P(I)},U=(I,tt)=>{Y(a(I),tt)},$=I=>{P(I)},W=I=>{Y(l,I)};return t.$$set=I=>{"range"in I&&n(23,u=I.range),"min"in I&&n(0,c=I.min),"max"in I&&n(1,l=I.max),"step"in I&&n(24,h=I.step),"values"in I&&n(25,d=I.values),"vertical"in I&&n(2,g=I.vertical),"reversed"in I&&n(3,p=I.reversed),"hoverable"in I&&n(4,m=I.hoverable),"disabled"in I&&n(5,b=I.disabled),"pipstep"in I&&n(26,y=I.pipstep),"all"in I&&n(6,_=I.all),"first"in I&&n(7,v=I.first),"last"in I&&n(8,w=I.last),"rest"in I&&n(9,M=I.rest),"prefix"in I&&n(10,S=I.prefix),"suffix"in I&&n(11,x=I.suffix),"formatter"in I&&n(12,E=I.formatter),"focus"in I&&n(13,D=I.focus),"orientationStart"in I&&n(14,A=I.orientationStart),"percentOf"in I&&n(15,T=I.percentOf),"moveHandle"in I&&n(27,k=I.moveHandle),"fixFloat"in I&&n(16,L=I.fixFloat),"normalisedClient"in I&&n(28,R=I.normalisedClient)},t.$$.update=()=>{t.$$.dirty[0]&83886087&&n(29,r=y||((l-c)/h>=(g?50:100)?(l-c)/(g?10:20):1)),t.$$.dirty[0]&553648131&&n(20,i=parseInt((l-c)/(h*r),10)),t.$$.dirty[0]&553713665&&n(19,a=function(I){return L(c+I*h*r)}),t.$$.dirty[0]&33619968&&n(18,s=function(I){return d.some(tt=>L(tt)===L(I))}),t.$$.dirty[0]&41943040&&n(17,f=function(I){if(u==="min")return d[0]>I;if(u==="max")return d[0]<I;if(u)return d[0]<I&&d[1]>I})},[c,l,g,p,m,b,_,v,w,M,S,x,E,D,A,T,L,f,s,a,i,P,Y,u,h,d,y,k,R,r,K,H,B,U,$,W]}class p7 extends We{constructor(e){super(),Ve(this,e,m7,g7,Ye,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function Md(t,e,n){const r=t.slice();return r[65]=e[n],r[67]=n,r}function Sd(t){let e,n,r,i=t[21](t[65],t[67],t[24](t[65]))+"",a,s=t[18]&&xd(t),f=t[19]&&Td(t);return{c(){e=st("span"),s&&s.c(),n=Dt(),r=new to(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=ft(u,"SPAN",{class:!0});var c=ct(e);s&&s.l(c),n=Dt(),r=eo(c,!1),a=Dt(),f&&f.l(c),c.forEach(q),this.h()},h(){r.a=a,j(e,"class","rangeFloat")},m(u,c){pt(u,e,c),s&&s.m(e,null),rt(e,n),r.m(i,e),rt(e,a),f&&f.m(e,null)},p(u,c){u[18]?s?s.p(u,c):(s=xd(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&18874369&&i!==(i=u[21](u[65],u[67],u[24](u[65]))+"")&&r.p(i),u[19]?f?f.p(u,c):(f=Td(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&q(e),s&&s.d(),f&&f.d()}}}function xd(t){let e,n;return{c(){e=st("span"),n=Yt(t[18]),this.h()},l(r){e=ft(r,"SPAN",{class:!0});var i=ct(e);n=Ht(i,t[18]),i.forEach(q),this.h()},h(){j(e,"class","rangeFloat-prefix")},m(r,i){pt(r,e,i),rt(e,n)},p(r,i){i[0]&262144&&ve(n,r[18])},d(r){r&&q(e)}}}function Td(t){let e,n;return{c(){e=st("span"),n=Yt(t[19]),this.h()},l(r){e=ft(r,"SPAN",{class:!0});var i=ct(e);n=Ht(i,t[19]),i.forEach(q),this.h()},h(){j(e,"class","rangeFloat-suffix")},m(r,i){pt(r,e,i),rt(e,n)},p(r,i){i[0]&524288&&ve(n,r[19])},d(r){r&&q(e)}}}function Ad(t){let e,n,r,i,a,s,f,u,c,l,h,d,g,p=t[7]&&Sd(t);return{c(){e=st("span"),n=st("span"),r=pe(),p&&p.c(),this.h()},l(m){e=ft(m,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var b=ct(e);n=ft(b,"SPAN",{class:!0}),ct(n).forEach(q),r=be(b),p&&p.l(b),b.forEach(q),this.h()},h(){j(n,"class","rangeNub"),j(e,"role","slider"),j(e,"class","rangeHandle"),j(e,"data-handle",t[67]),j(e,"style",i=t[29]+": "+t[30][t[67]]+"%; z-index: "+(t[27]===t[67]?3:2)+";"),j(e,"aria-label",a=t[22][t[67]]),j(e,"aria-valuemin",s=t[2]===!0&&t[67]===1?t[0][0]:t[3]),j(e,"aria-valuemax",f=t[2]===!0&&t[67]===0?t[0][1]:t[4]),j(e,"aria-valuenow",u=t[65]),j(e,"aria-valuetext",c=""+(t[18]+Nd(t[21](t[65],t[67],t[24](t[65])))+t[19])),j(e,"aria-orientation",l=t[6]?"vertical":"horizontal"),j(e,"aria-disabled",t[10]),j(e,"disabled",t[10]),j(e,"tabindex",h=t[10]?-1:0),at(e,"active",t[25]&&t[27]===t[67]),at(e,"press",t[26]&&t[27]===t[67])},m(m,b){pt(m,e,b),rt(e,n),rt(e,r),p&&p.m(e,null),d||(g=[At(e,"blur",t[35]),At(e,"focus",t[36]),At(e,"keydown",t[37])],d=!0)},p(m,b){m[7]?p?p.p(m,b):(p=Sd(m),p.c(),p.m(e,null)):p&&(p.d(1),p=null),b[0]&1744830464&&i!==(i=m[29]+": "+m[30][m[67]]+"%; z-index: "+(m[27]===m[67]?3:2)+";")&&j(e,"style",i),b[0]&4194304&&a!==(a=m[22][m[67]])&&j(e,"aria-label",a),b[0]&13&&s!==(s=m[2]===!0&&m[67]===1?m[0][0]:m[3])&&j(e,"aria-valuemin",s),b[0]&21&&f!==(f=m[2]===!0&&m[67]===0?m[0][1]:m[4])&&j(e,"aria-valuemax",f),b[0]&1&&u!==(u=m[65])&&j(e,"aria-valuenow",u),b[0]&19660801&&c!==(c=""+(m[18]+Nd(m[21](m[65],m[67],m[24](m[65])))+m[19]))&&j(e,"aria-valuetext",c),b[0]&64&&l!==(l=m[6]?"vertical":"horizontal")&&j(e,"aria-orientation",l),b[0]&1024&&j(e,"aria-disabled",m[10]),b[0]&1024&&j(e,"disabled",m[10]),b[0]&1024&&h!==(h=m[10]?-1:0)&&j(e,"tabindex",h),b[0]&167772160&&at(e,"active",m[25]&&m[27]===m[67]),b[0]&201326592&&at(e,"press",m[26]&&m[27]===m[67])},d(m){m&&q(e),p&&p.d(),d=!1,Yn(g)}}}function kd(t){let e,n;return{c(){e=st("span"),this.h()},l(r){e=ft(r,"SPAN",{class:!0,style:!0}),ct(e).forEach(q),this.h()},h(){j(e,"class","rangeBar"),j(e,"style",n=t[29]+": "+t[33](t[30])+"%; "+t[28]+": "+t[34](t[30])+"%;")},m(r,i){pt(r,e,i)},p(r,i){i[0]&1879048192&&n!==(n=r[29]+": "+r[33](r[30])+"%; "+r[28]+": "+r[34](r[30])+"%;")&&j(e,"style",n)},d(r){r&&q(e)}}}function Ed(t){let e,n;return e=new p7({props:{values:t[0],min:t[3],max:t[4],step:t[5],range:t[2],vertical:t[6],reversed:t[8],orientationStart:t[29],hoverable:t[9],disabled:t[10],all:t[13],first:t[14],last:t[15],rest:t[16],pipstep:t[12],prefix:t[18],suffix:t[19],formatter:t[20],focus:t[25],percentOf:t[24],moveHandle:t[32],fixFloat:t[31],normalisedClient:fa}}),{c(){Pd(e.$$.fragment)},l(r){Rd(e.$$.fragment,r)},m(r,i){Bd(e,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&536870912&&(a.orientationStart=r[29]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&33554432&&(a.focus=r[25]),i[0]&16777216&&(a.percentOf=r[24]),e.$set(a)},i(r){n||(Yr(e.$$.fragment,r),n=!0)},o(r){ua(e.$$.fragment,r),n=!1},d(r){$d(e,r)}}}function b7(t){let e,n,r,i,a,s,f=t[0],u=[];for(let h=0;h<f.length;h+=1)u[h]=Ad(Md(t,f,h));let c=t[2]&&kd(t),l=t[11]&&Ed(t);return{c(){e=st("div");for(let h=0;h<u.length;h+=1)u[h].c();n=pe(),c&&c.c(),r=pe(),l&&l.c(),this.h()},l(h){e=ft(h,"DIV",{id:!0,role:!0,class:!0});var d=ct(e);for(let g=0;g<u.length;g+=1)u[g].l(d);n=be(d),c&&c.l(d),r=be(d),l&&l.l(d),d.forEach(q),this.h()},h(){j(e,"id",t[17]),j(e,"role","none"),j(e,"class","rangeSlider"),at(e,"range",t[2]),at(e,"disabled",t[10]),at(e,"hoverable",t[9]),at(e,"vertical",t[6]),at(e,"reversed",t[8]),at(e,"focus",t[25]),at(e,"min",t[2]==="min"),at(e,"max",t[2]==="max"),at(e,"pips",t[11]),at(e,"pip-labels",t[13]==="label"||t[14]==="label"||t[15]==="label"||t[16]==="label")},m(h,d){pt(h,e,d);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(e,null);rt(e,n),c&&c.m(e,null),rt(e,r),l&&l.m(e,null),t[51](e),i=!0,a||(s=[At(window,"mousedown",t[40]),At(window,"touchstart",t[40]),At(window,"mousemove",t[41]),At(window,"touchmove",t[41]),At(window,"mouseup",t[42]),At(window,"touchend",t[43]),At(window,"keydown",t[44]),At(e,"mousedown",t[38]),At(e,"mouseup",t[39]),At(e,"touchstart",Hu(t[38])),At(e,"touchend",Hu(t[39]))],a=!0)},p(h,d){if(d[0]&1869350109|d[1]&112){f=h[0];let g;for(g=0;g<f.length;g+=1){const p=Md(h,f,g);u[g]?u[g].p(p,d):(u[g]=Ad(p),u[g].c(),u[g].m(e,n))}for(;g<u.length;g+=1)u[g].d(1);u.length=f.length}h[2]?c?c.p(h,d):(c=kd(h),c.c(),c.m(e,r)):c&&(c.d(1),c=null),h[11]?l?(l.p(h,d),d[0]&2048&&Yr(l,1)):(l=Ed(h),l.c(),Yr(l,1),l.m(e,null)):l&&(vp(),ua(l,1,1,()=>{l=null}),Mp()),(!i||d[0]&131072)&&j(e,"id",h[17]),(!i||d[0]&4)&&at(e,"range",h[2]),(!i||d[0]&1024)&&at(e,"disabled",h[10]),(!i||d[0]&512)&&at(e,"hoverable",h[9]),(!i||d[0]&64)&&at(e,"vertical",h[6]),(!i||d[0]&256)&&at(e,"reversed",h[8]),(!i||d[0]&33554432)&&at(e,"focus",h[25]),(!i||d[0]&4)&&at(e,"min",h[2]==="min"),(!i||d[0]&4)&&at(e,"max",h[2]==="max"),(!i||d[0]&2048)&&at(e,"pips",h[11]),(!i||d[0]&122880)&&at(e,"pip-labels",h[13]==="label"||h[14]==="label"||h[15]==="label"||h[16]==="label")},i(h){i||(Yr(l),i=!0)},o(h){ua(l),i=!1},d(h){h&&q(e),Lf(u,h),c&&c.d(),l&&l.d(),t[51](null),a=!1,Yn(s)}}}function Cd(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function fa(t){return t.type.includes("touch")?t.touches[0]||t.changedTouches[0]:t}function Nd(t){return`${t}`.replace(/<[^>]*>/g,"")}function y7(t,e,n){let r,i,a,s,f,u,c=Lt,l=()=>(c(),c=Fn(V,N=>n(30,u=N)),V);t.$$.on_destroy.push(()=>c());let{slider:h=void 0}=e,{range:d=!1}=e,{pushy:g=!1}=e,{min:p=0}=e,{max:m=100}=e,{step:b=1}=e,{values:y=[(m+p)/2]}=e,{vertical:_=!1}=e,{float:v=!1}=e,{reversed:w=!1}=e,{hoverable:M=!0}=e,{disabled:S=!1}=e,{pips:x=!1}=e,{pipstep:E=void 0}=e,{all:D=void 0}=e,{first:A=void 0}=e,{last:T=void 0}=e,{rest:k=void 0}=e,{id:L=void 0}=e,{prefix:R=""}=e,{suffix:C=""}=e,{formatter:P=(N,J,St)=>N}=e,{handleFormatter:Y=P}=e,{ariaLabels:K=[]}=e,{precision:H=2}=e,{springValues:B={stiffness:.15,damping:.4}}=e;const U=Sp();let $=0,W=!1,I=!1,tt=!1,et=!1,z=y.length-1,Q,F,V;const X=N=>parseFloat((+N).toFixed(H));function O(N){const J=h.querySelectorAll(".handle"),St=Array.prototype.includes.call(J,N),xt=Array.prototype.some.call(J,Xe=>Xe.contains(N));return St||xt}function mt(N){return d==="min"||d==="max"?N.slice(0,1):d?N.slice(0,2):N}function nt(){return h.getBoundingClientRect()}function yt(N){const J=nt();let St=0,xt=0,Xe=0;_?(St=N.clientY-J.top,xt=St/J.height*100,xt=w?xt:100-xt):(St=N.clientX-J.left,xt=St/J.width*100,xt=w?100-xt:xt),Xe=(m-p)/100*xt+p;let Vu;return d===!0&&y[0]===y[1]?Xe>y[1]?1:0:(Vu=y.indexOf([...y].sort((yp,_p)=>Math.abs(Xe-yp)-Math.abs(Xe-_p))[0]),Vu)}function Mt(N){const J=nt();let St=0,xt=0,Xe=0;_?(St=N.clientY-J.top,xt=St/J.height*100,xt=w?xt:100-xt):(St=N.clientX-J.left,xt=St/J.width*100,xt=w?100-xt:xt),Xe=(m-p)/100*xt+p,G(z,Xe)}function G(N,J){return J=a(J),typeof N>"u"&&(N=z),d&&(N===0&&J>y[1]?g?n(0,y[1]=J,y):J=y[1]:N===1&&J<y[0]&&(g?n(0,y[0]=J,y):J=y[0])),y[N]!==J&&n(0,y[N]=J,y),F!==J&&(pp(),F=J),J}function wt(N){return d==="min"?0:N[0]}function ne(N){return d==="max"?0:d==="min"?100-N[0]:100-N[1]}function Le(N){et&&(n(25,W=!1),I=!1,n(26,tt=!1))}function op(N){S||(n(27,z=Cd(N.target)),n(25,W=!0))}function sp(N){if(!S){const J=Cd(N.target);let St=N.ctrlKey||N.metaKey||N.shiftKey?b*10:b,xt=!1;switch(N.key){case"PageDown":St*=10;case"ArrowRight":case"ArrowUp":G(J,y[J]+St),xt=!0;break;case"PageUp":St*=10;case"ArrowLeft":case"ArrowDown":G(J,y[J]-St),xt=!0;break;case"Home":G(J,p),xt=!0;break;case"End":G(J,m),xt=!0;break}xt&&(N.preventDefault(),N.stopPropagation())}}function fp(N){if(!S){const J=N.target,St=fa(N);n(25,W=!0),I=!0,n(26,tt=!0),n(27,z=yt(St)),Q=F=a(y[z]),mp(),N.type==="touchstart"&&!J.matches(".pipVal")&&Mt(St)}}function up(N){N.type==="touchend"&&Wu(),n(26,tt=!1)}function cp(N){et=!1,W&&N.target!==h&&!h.contains(N.target)&&n(25,W=!1)}function lp(N){S||I&&Mt(fa(N))}function dp(N){if(!S){const J=N.target;I&&((J===h||h.contains(J))&&(n(25,W=!0),!O(J)&&!J.matches(".pipVal")&&Mt(fa(N))),Wu())}I=!1,n(26,tt=!1)}function hp(N){I=!1,n(26,tt=!1)}function gp(N){S||(N.target===h||h.contains(N.target))&&(et=!0)}function mp(){!S&&U("start",{activeHandle:z,value:Q,values:y.map(N=>a(N))})}function Wu(){!S&&U("stop",{activeHandle:z,startValue:Q,value:y[z],values:y.map(N=>a(N))})}function pp(){!S&&U("change",{activeHandle:z,startValue:Q,previousValue:typeof F>"u"?Q:F,value:y[z],values:y.map(N=>a(N))})}function bp(N){Ar[N?"unshift":"push"](()=>{h=N,n(1,h)})}return t.$$set=N=>{"slider"in N&&n(1,h=N.slider),"range"in N&&n(2,d=N.range),"pushy"in N&&n(45,g=N.pushy),"min"in N&&n(3,p=N.min),"max"in N&&n(4,m=N.max),"step"in N&&n(5,b=N.step),"values"in N&&n(0,y=N.values),"vertical"in N&&n(6,_=N.vertical),"float"in N&&n(7,v=N.float),"reversed"in N&&n(8,w=N.reversed),"hoverable"in N&&n(9,M=N.hoverable),"disabled"in N&&n(10,S=N.disabled),"pips"in N&&n(11,x=N.pips),"pipstep"in N&&n(12,E=N.pipstep),"all"in N&&n(13,D=N.all),"first"in N&&n(14,A=N.first),"last"in N&&n(15,T=N.last),"rest"in N&&n(16,k=N.rest),"id"in N&&n(17,L=N.id),"prefix"in N&&n(18,R=N.prefix),"suffix"in N&&n(19,C=N.suffix),"formatter"in N&&n(20,P=N.formatter),"handleFormatter"in N&&n(21,Y=N.handleFormatter),"ariaLabels"in N&&n(22,K=N.ariaLabels),"precision"in N&&n(46,H=N.precision),"springValues"in N&&n(47,B=N.springValues)},t.$$.update=()=>{if(t.$$.dirty[0]&24&&n(50,i=function(N){return N<=p?p:N>=m?m:N}),t.$$.dirty[0]&56|t.$$.dirty[1]&524288&&n(49,a=function(N){if(N<=p)return X(p);if(N>=m)return X(m);N=X(N);let J=(N-p)%b,St=N-J;return Math.abs(J)*2>=b&&(St+=J>0?b:-b),St=i(St),X(St)}),t.$$.dirty[0]&24&&n(24,r=function(N){let J=(N-p)/(m-p)*100;return isNaN(J)||J<=0?0:J>=100?100:X(J)}),t.$$.dirty[0]&29360153|t.$$.dirty[1]&458752){Array.isArray(y)||(n(0,y=[(m+p)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const N=mt(y.map(J=>a(J)));(y.length!==N.length||!y.every((J,St)=>X(J)===N[St]))&&n(0,y=N),$!==y.length?l(n(23,V=h7(y.map(J=>r(J)),B))):V.set(y.map(J=>r(J))),n(48,$=y.length),y.length>1&&!Array.isArray(K)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}t.$$.dirty[0]&320&&n(29,s=_?w?"top":"bottom":w?"right":"left"),t.$$.dirty[0]&320&&n(28,f=_?w?"bottom":"top":w?"left":"right")},[y,h,d,p,m,b,_,v,w,M,S,x,E,D,A,T,k,L,R,C,P,Y,K,V,r,W,tt,z,f,s,u,X,G,wt,ne,Le,op,sp,fp,up,cp,lp,dp,hp,gp,g,H,B,$,a,i,bp]}class _7 extends We{constructor(e){super(),Ve(this,e,y7,b7,Ye,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function Dd(t){let e,n,r,i=t[3]&&Id(t);return{c(){e=st("div"),n=Yt(t[2]),r=pe(),i&&i.c(),this.h()},l(a){e=ft(a,"DIV",{class:!0});var s=ct(e);n=Ht(s,t[2]),r=be(s),i&&i.l(s),s.forEach(q),this.h()},h(){j(e,"class","text-sm")},m(a,s){pt(a,e,s),rt(e,n),rt(e,r),i&&i.m(e,null)},p(a,s){s&4&&ve(n,a[2]),a[3]?i?i.p(a,s):(i=Id(a),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(a){a&&q(e),i&&i.d()}}}function Id(t){let e,n,r,i,a;return{c(){e=st("div"),n=st("i"),r=pe(),i=st("span"),a=Yt(t[3]),this.h()},l(s){e=ft(s,"DIV",{class:!0});var f=ct(e);n=ft(f,"I",{class:!0}),ct(n).forEach(q),r=be(f),i=ft(f,"SPAN",{class:!0});var u=ct(i);a=Ht(u,t[3]),u.forEach(q),f.forEach(q),this.h()},h(){j(n,"class","bi bi-info-circle"),j(i,"class","tooltiptext"),j(e,"class","tooltip")},m(s,f){pt(s,e,f),rt(e,n),rt(e,r),rt(e,i),rt(i,a)},p(s,f){f&8&&ve(a,s[3])},d(s){s&&q(e)}}}function w7(t){let e,n,r,i,a,s=t[2]&&Dd(t);function f(c){t[15](c)}let u={min:+t[0],max:+t[1],pips:!0,range:!0,float:!0,first:"label",last:"label",springValues:!0,id:"slider"};return t[7]!==void 0&&(u.values=t[7]),r=new _7({props:u}),Ar.push(()=>xp(r,"values",f)),r.$on("start",t[9]),r.$on("change",t[8]),r.$on("stop",t[10]),{c(){e=st("div"),s&&s.c(),n=pe(),Pd(r.$$.fragment),this.h()},l(c){e=ft(c,"DIV",{class:!0,id:!0});var l=ct(e);s&&s.l(l),n=be(l),Rd(r.$$.fragment,l),l.forEach(q),this.h()},h(){j(e,"class","px-[1%] py-[1%] ml-[2.1%]"),j(e,"id","slider")},m(c,l){pt(c,e,l),s&&s.m(e,null),rt(e,n),Bd(r,e,null),a=!0},p(c,[l]){c[2]?s?s.p(c,l):(s=Dd(c),s.c(),s.m(e,n)):s&&(s.d(1),s=null);const h={};l&1&&(h.min=+c[0]),l&2&&(h.max=+c[1]),!i&&l&128&&(i=!0,h.values=c[7],Tp(()=>i=!1)),r.$set(h)},i(c){a||(Yr(r.$$.fragment,c),a=!0)},o(c){ua(r.$$.fragment,c),a=!1},d(c){c&&q(e),s&&s.d(),$d(r)}}}function v7(t,e,n){let r,i=Lt,a=()=>(i(),i=Fn(v,k=>n(16,r=k)),v),s,f=Lt,u=()=>(f(),f=Fn(y,k=>n(17,s=k)),y),c,l=Lt,h=()=>(l(),l=Fn(_,k=>n(18,c=k)),_);t.$$.on_destroy.push(()=>i()),t.$$.on_destroy.push(()=>f()),t.$$.on_destroy.push(()=>l());let{min:d=0,max:g=100,id:p,description:m,tooltip:b}=e,{change:y=ie({})}=e;u();let{stop:_=ie({})}=e;h();let{drag:v=ie({})}=e;a();let{interactions:w={change:y,stop:_,drag:v}}=e;Ap("dims");let M=[d,g];[...M];function S(k){console.log("Slider.render",k),k&&Xt(Array,k)&&Gt(k.filter(L=>L===void 0))&&(n(7,M=[+k[0].min,+k[0].max]),n(0,[d,g]=M,d,n(1,g)),console.log("Slider.render.to",M)),M&&M.length>=2&&E()}function x(k,L){console.log("Slider.load",k,L),!(!ga("left")(k)||!ga("right")(k))&&(k=k??{left:d,right:g},n(7,M=[k.left??d,k.right??g]),E())}function E(){y.isActive&&le(y,s={left:M[0],right:M[1]},s),v.isActive&&le(v,r={left:M[0],right:M[1]},r)}function D(){v.isActive&&le(v,r={left:M[0],right:M[1]},r)}function A(){_.isActive&&le(_,c={left:M[0],right:M[1]},c),y.isActive&&le(y,s={left:M[0],right:M[1]},s),v.isActive&&le(v,r={left:M[0],right:M[1]},r)}function T(k){M=k,n(7,M)}return t.$$set=k=>{"min"in k&&n(0,d=k.min),"max"in k&&n(1,g=k.max),"id"in k&&n(11,p=k.id),"description"in k&&n(2,m=k.description),"tooltip"in k&&n(3,b=k.tooltip),"change"in k&&u(n(4,y=k.change)),"stop"in k&&h(n(5,_=k.stop)),"drag"in k&&a(n(6,v=k.drag)),"interactions"in k&&n(12,w=k.interactions)},[d,g,m,b,y,_,v,M,E,D,A,p,w,S,x,T]}class lv extends We{constructor(e){super(),Ve(this,e,v7,w7,Ye,{min:0,max:1,id:11,description:2,tooltip:3,change:4,stop:5,drag:6,interactions:12,render:13,load:14})}get min(){return this.$$.ctx[0]}set min(e){this.$$set({min:e}),Z()}get max(){return this.$$.ctx[1]}set max(e){this.$$set({max:e}),Z()}get id(){return this.$$.ctx[11]}set id(e){this.$$set({id:e}),Z()}get description(){return this.$$.ctx[2]}set description(e){this.$$set({description:e}),Z()}get tooltip(){return this.$$.ctx[3]}set tooltip(e){this.$$set({tooltip:e}),Z()}get change(){return this.$$.ctx[4]}set change(e){this.$$set({change:e}),Z()}get stop(){return this.$$.ctx[5]}set stop(e){this.$$set({stop:e}),Z()}get drag(){return this.$$.ctx[6]}set drag(e){this.$$set({drag:e}),Z()}get interactions(){return this.$$.ctx[12]}set interactions(e){this.$$set({interactions:e}),Z()}get render(){return this.$$.ctx[13]}get load(){return this.$$.ctx[14]}}function M7(t){let e,n;return{c(){e=st("div"),n=st("div"),this.h()},l(r){e=ft(r,"DIV",{id:!0});var i=ct(e);n=ft(i,"DIV",{}),ct(n).forEach(q),i.forEach(q),this.h()},h(){j(e,"id",t[0])},m(r,i){pt(r,e,i),rt(e,n),t[18](n)},p(r,[i]){i&1&&j(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&q(e),t[18](null)}}}function S7(t,e,n){let{id:r,name:i,groupNames:a=[],title:s="",xAttr:f,yAttr:u="val",yMax:c,magic:l,xDomainMin:h=null,xDomainMax:d=null,theplot:g=null}=e,p={},{brushX:m=ie({}),interactions:b={brushX:m}}=e,y,_=null,v=[],w=[{},{}];function M(A,T){return T!="overlay"?!1:(p=A,!0)}function S(A,T){return T!="badyear"?!1:(A.forEach((k,L)=>{k.rank=L+1,k[f]=Number(k[f])}),w=A,!0)}function x(A,T){!A||A.length===0||typeof T=="object"||(S(A,T)||M(A,T)?console.debug("overlay or badyear"):(v=s7(A,{include:a}),v.forEach(k=>k[f]=Number(k[f]))),E())}function E(){n(2,h=+h),n(3,d=+d);let A=Tf({x:{type:"linear",domain:[h-1,d]}}),T=L=>(w.length-L.rank)*(.3/w.length)+.7,k={x:A,color:{domain:a,range:C0,legend:!0,style:{"font-size":10,"margin-left":"2em"}},height:200,marginBottom:50,marks:[Dr({ticks:Vp(L=>L+h,d-h),tickRotate:-90,fontSize:10,tickFormat:L=>(L+"").slice(-2)}),Li({fontSize:10,label:"Severity"}),Ou([0]),Lu([A.domain[0]]),Cf(w,{x1:L=>L[f]-.5,x2:L=>L[f]+.5,y:T,stroke:"black",opacity:.8,strokeWidth:1}),o7(w,{x1:L=>L[f]-.5,x2:L=>L[f]+.5,y1:0,y2:T,fill:"gray",opacity:.1}),zu(p,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2}),t7(v,{filter:L=>L.key==a[3]&&L[f]>=h&&L[f]<=d&&+L[u]==0,x:L=>+L[f],y:0,stroke:"red",strokeWidth:1})]};a.forEach((L,R)=>{let C=(1+R)/a.length*.7;k.marks.push(Cf(v,{filter:P=>P.key==L&&P[f]>=h&&P[f]<=d,x:P=>+P[f]+C-.35,y1:0,y2:u,stroke:"key",strokeWidth:4}))}),n(4,g=$o(k,_)),m.isActive&&(y=y??new ju({iact:m,magic:l}),y.init(g))}function D(A){Ar[A?"unshift":"push"](()=>{_=A,n(1,_)})}return t.$$set=A=>{"id"in A&&n(5,r=A.id),"name"in A&&n(0,i=A.name),"groupNames"in A&&n(6,a=A.groupNames),"title"in A&&n(7,s=A.title),"xAttr"in A&&n(8,f=A.xAttr),"yAttr"in A&&n(9,u=A.yAttr),"yMax"in A&&n(10,c=A.yMax),"magic"in A&&n(11,l=A.magic),"xDomainMin"in A&&n(2,h=A.xDomainMin),"xDomainMax"in A&&n(3,d=A.xDomainMax),"theplot"in A&&n(4,g=A.theplot),"brushX"in A&&n(12,m=A.brushX),"interactions"in A&&n(13,b=A.interactions)},[i,_,h,d,g,r,a,s,f,u,c,l,m,b,M,S,x,E,D]}class dv extends We{constructor(e){super(),Ve(this,e,S7,M7,Ye,{id:5,name:0,groupNames:6,title:7,xAttr:8,yAttr:9,yMax:10,magic:11,xDomainMin:2,xDomainMax:3,theplot:4,brushX:12,interactions:13,overlay:14,badyear:15,render:16,update:17})}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),Z()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),Z()}get groupNames(){return this.$$.ctx[6]}set groupNames(e){this.$$set({groupNames:e}),Z()}get title(){return this.$$.ctx[7]}set title(e){this.$$set({title:e}),Z()}get xAttr(){return this.$$.ctx[8]}set xAttr(e){this.$$set({xAttr:e}),Z()}get yAttr(){return this.$$.ctx[9]}set yAttr(e){this.$$set({yAttr:e}),Z()}get yMax(){return this.$$.ctx[10]}set yMax(e){this.$$set({yMax:e}),Z()}get magic(){return this.$$.ctx[11]}set magic(e){this.$$set({magic:e}),Z()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(e){this.$$set({xDomainMin:e}),Z()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(e){this.$$set({xDomainMax:e}),Z()}get theplot(){return this.$$.ctx[4]}set theplot(e){this.$$set({theplot:e}),Z()}get brushX(){return this.$$.ctx[12]}set brushX(e){this.$$set({brushX:e}),Z()}get interactions(){return this.$$.ctx[13]}set interactions(e){this.$$set({interactions:e}),Z()}get overlay(){return this.$$.ctx[14]}get badyear(){return this.$$.ctx[15]}get render(){return this.$$.ctx[16]}get update(){return this.$$.ctx[17]}}function x7(t){let e,n;return{c(){e=st("div"),n=st("div"),this.h()},l(r){e=ft(r,"DIV",{id:!0});var i=ct(e);n=ft(i,"DIV",{}),ct(n).forEach(q),i.forEach(q),this.h()},h(){j(e,"id",t[0])},m(r,i){pt(r,e,i),rt(e,n),t[11](n)},p(r,[i]){i&1&&j(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&q(e),t[11](null)}}}function T7(t,e,n){let{id:r,name:i,xDomainMin:a,xDomainMax:s,magic:f}=e,{brushX:u=ie({})}=e,{interactions:c={brushX:u}}=e,l,h,d,g={},p=[];function m(v,w){return w!="overlay"?!1:(g=v,!0)}function b(v,w){!v||v.length===0||typeof w=="object"||(m(v,w)?console.debug("overlay"):p=v,y())}function y(){let v={x:{domain:[+a,+s],type:"linear"},y:{axis:null},marginBottom:50,height:300,fy:{label:null,tickRotate:-90,labelAnchor:"center"},color:{style:{"font-size":10,"margin-left":"2rem"},scheme:"Tableau10",legend:!0},marks:[Dr({ticks:36,fontSize:10}),jm(),Cf(p,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"crop"}),Po(p,{x:w=>{let M=(w.end_time-w.start_time)/2+w.start_time;return console.log("yy",w,M),M},y:"activity",dy:3,lineAnchor:"top",fy:"crop",fontSize:10,color:"gray",text:"activity"}),zu(g,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2})]};l=$o(v,h),u.isActive&&(d=d??new ju({iact:u,magic:f}),d.init(l))}function _(v){Ar[v?"unshift":"push"](()=>{h=v,n(1,h)})}return t.$$set=v=>{"id"in v&&n(2,r=v.id),"name"in v&&n(0,i=v.name),"xDomainMin"in v&&n(3,a=v.xDomainMin),"xDomainMax"in v&&n(4,s=v.xDomainMax),"magic"in v&&n(5,f=v.magic),"brushX"in v&&n(6,u=v.brushX),"interactions"in v&&n(7,c=v.interactions)},[i,h,r,a,s,f,u,c,m,b,y,_]}class hv extends We{constructor(e){super(),Ve(this,e,T7,x7,Ye,{id:2,name:0,xDomainMin:3,xDomainMax:4,magic:5,brushX:6,interactions:7,overlay:8,render:9,update:10})}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),Z()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),Z()}get xDomainMin(){return this.$$.ctx[3]}set xDomainMin(e){this.$$set({xDomainMin:e}),Z()}get xDomainMax(){return this.$$.ctx[4]}set xDomainMax(e){this.$$set({xDomainMax:e}),Z()}get magic(){return this.$$.ctx[5]}set magic(e){this.$$set({magic:e}),Z()}get brushX(){return this.$$.ctx[6]}set brushX(e){this.$$set({brushX:e}),Z()}get interactions(){return this.$$.ctx[7]}set interactions(e){this.$$set({interactions:e}),Z()}get overlay(){return this.$$.ctx[8]}get render(){return this.$$.ctx[9]}get update(){return this.$$.ctx[10]}}function A7(t){let e,n;return{c(){e=st("div"),n=st("div"),this.h()},l(r){e=ft(r,"DIV",{id:!0});var i=ct(e);n=ft(i,"DIV",{}),ct(n).forEach(q),i.forEach(q),this.h()},h(){j(e,"id",t[0])},m(r,i){pt(r,e,i),rt(e,n),t[6](n)},p(r,[i]){i&1&&j(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&q(e),t[6](null)}}}function k7(t,e,n){let{name:r,id:i,interactions:a={}}=e,s,f=[];function u(h,d){!h||h.length===0||(f=h,c())}function c(){let h=Tf({color:{type:"linear",scheme:"greens"}}),d=Tf({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),g=f.map(m=>d.apply(va(h.apply(+m.value)).l)),p={padding:0,marginLeft:150,height:300,color:h,marks:[Dr({fontSize:10,label:null}),Li({fontSize:10,label:null}),G8(f,{x:"x",y:"y",fill:m=>+m.value,stroke:"white"}),Po(f,{x:"x",y:"y",text:m=>m.value,fill:g,fontSize:10,fontWeight:"bold",textAnchor:"middle"})]};$o(p,s)}function l(h){Ar[h?"unshift":"push"](()=>{s=h,n(1,s)})}return t.$$set=h=>{"name"in h&&n(0,r=h.name),"id"in h&&n(2,i=h.id),"interactions"in h&&n(3,a=h.interactions)},[r,s,i,a,u,c,l]}class gv extends We{constructor(e){super(),Ve(this,e,k7,A7,Ye,{name:0,id:2,interactions:3,render:4,update:5})}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),Z()}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),Z()}get interactions(){return this.$$.ctx[3]}set interactions(e){this.$$set({interactions:e}),Z()}get render(){return this.$$.ctx[4]}get update(){return this.$$.ctx[5]}}const E7=ie({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:c7}),mv=ie([]),pv=ie({});function Ld(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function C7(t){let e,n=t[15][t[2]]+"",r;return{c(){e=st("option"),r=Yt(n),this.h()},l(i){e=ft(i,"OPTION",{});var a=ct(e);r=Ht(a,n),a.forEach(q),this.h()},h(){e.__value=t[17],e.value=e.__value},m(i,a){pt(i,e,a),rt(e,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&ve(r,n)},d(i){i&&q(e)}}}function N7(t){let e,n=t[15][t[2]]+"",r;return{c(){e=st("option"),r=Yt(n),this.h()},l(i){e=ft(i,"OPTION",{});var a=ct(e);r=Ht(a,n),a.forEach(q),this.h()},h(){e.__value=t[17],e.value=e.__value,e.selected=!0},m(i,a){pt(i,e,a),rt(e,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&ve(r,n)},d(i){i&&q(e)}}}function Od(t){let e;function n(a,s){return a[17]===a[1]?N7:C7}let r=n(t),i=r(t);return{c(){i.c(),e=Dt()},l(a){i.l(a),e=Dt()},m(a,s){i.m(a,s),pt(a,e,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){i.d(a),a&&q(e)}}}function D7(t){let e,n,r,i,a=t[5],s=[];for(let f=0;f<a.length;f+=1)s[f]=Od(Ld(t,a,f));return{c(){e=st("div"),n=st("select");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=ft(f,"DIV",{class:!0,id:!0});var u=ct(e);n=ft(u,"SELECT",{class:!0});var c=ct(n);for(let l=0;l<s.length;l+=1)s[l].l(c);c.forEach(q),u.forEach(q),this.h()},h(){j(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),t[4]===void 0&&kp(()=>t[10].call(n)),j(e,"class","px-[1%] py-[1%]"),j(e,"id",t[0])},m(f,u){pt(f,e,u),rt(e,n);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(n,null);Xu(n,t[4],!0),r||(i=[At(n,"change",t[10]),At(n,"change",t[6])],r=!0)},p(f,[u]){if(u&38){a=f[5];let c;for(c=0;c<a.length;c+=1){const l=Ld(f,a,c);s[c]?s[c].p(l,u):(s[c]=Od(l),s[c].c(),s[c].m(n,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}u&16&&Xu(n,f[4]),u&1&&j(e,"id",f[0])},i:Lt,o:Lt,d(f){f&&q(e),Lf(s,f),r=!1,Yn(i)}}}function I7(t,e,n){let r,i=Lt,a=()=>(i(),i=Fn(l,_=>n(11,r=_)),l),s;Ep(t,E7,_=>n(12,s=_)),t.$$.on_destroy.push(()=>i());let{id:f,index:u,dropdown_key:c}=e,{change:l=ie({})}=e;a();let{interactions:h={change:l}}=e,d=null,g=[];s.margin;function p(_,v){n(5,g=_??g),n(4,d=d??u),console.log("Dropdown.render",g,d,v),b()}function m(_){console.log("Dropdown.load",_),n(4,d=_.idx),p()}function b(){l.isActive&&le(l,r={...g[d],idx:d},r)}function y(){d=Cp(this),n(4,d)}return t.$$set=_=>{"id"in _&&n(0,f=_.id),"index"in _&&n(1,u=_.index),"dropdown_key"in _&&n(2,c=_.dropdown_key),"change"in _&&a(n(3,l=_.change)),"interactions"in _&&n(7,h=_.interactions)},[f,u,c,l,d,g,b,h,p,m,y]}class bv extends We{constructor(e){super(),Ve(this,e,I7,D7,Ye,{id:0,index:1,dropdown_key:2,change:3,interactions:7,render:8,load:9})}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),Z()}get index(){return this.$$.ctx[1]}set index(e){this.$$set({index:e}),Z()}get dropdown_key(){return this.$$.ctx[2]}set dropdown_key(e){this.$$set({dropdown_key:e}),Z()}get change(){return this.$$.ctx[3]}set change(e){this.$$set({change:e}),Z()}get interactions(){return this.$$.ctx[7]}set interactions(e){this.$$set({interactions:e}),Z()}get render(){return this.$$.ctx[8]}get load(){return this.$$.ctx[9]}}function L7(t){let e,n,r,i,a,s,f,u,c,l,h,d,g,p;return{c(){e=st("form"),n=st("div"),r=st("input"),i=pe(),a=st("button"),s=Yt("Login"),f=pe(),u=st("button"),c=Yt("Save"),l=pe(),h=st("button"),d=Yt("Logout"),this.h()},l(m){e=ft(m,"FORM",{class:!0});var b=ct(e);n=ft(b,"DIV",{class:!0});var y=ct(n);r=ft(y,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),i=be(y),a=ft(y,"BUTTON",{class:!0,type:!0});var _=ct(a);s=Ht(_,"Login"),_.forEach(q),f=be(y),u=ft(y,"BUTTON",{class:!0,type:!0});var v=ct(u);c=Ht(v,"Save"),v.forEach(q),l=be(y),h=ft(y,"BUTTON",{class:!0,type:!0});var w=ct(h);d=Ht(w,"Logout"),w.forEach(q),y.forEach(q),b.forEach(q),this.h()},h(){j(r,"class","appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"),j(r,"type","text"),j(r,"placeholder","Login..."),j(r,"aria-label","username"),j(a,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-700 border-slate-500 hover:border-slate-700 text-sm border-4 text-white py-1 px-2 rounded"),j(a,"type","button"),j(u,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),j(u,"type","button"),j(h,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),j(h,"type","button"),j(n,"class","flex items-center border-b border-slate-500 py-2 space-x-4"),j(e,"class","w-full max-w-sm mx-auto")},m(m,b){pt(m,e,b),rt(e,n),rt(n,r),Gu(r,t[1]),rt(n,i),rt(n,a),rt(a,s),rt(n,f),rt(n,u),rt(u,c),rt(n,l),rt(n,h),rt(h,d),g||(p=[At(r,"input",t[14]),At(a,"click",t[2]),At(u,"click",t[3]),At(h,"click",t[4])],g=!0)},p(m,[b]){b&2&&r.value!==m[1]&&Gu(r,m[1])},i:Lt,o:Lt,d(m){m&&q(e),g=!1,Yn(p)}}}function Km(t,e){console.debug("login invoked",t,e)}function O7(t,e,n){let r,i=Lt,a=()=>(i(),i=Fn(s,M=>n(16,r=M)),s);t.$$.on_destroy.push(()=>i());let{status:s=ie({}),interactions:f={status:s}}=e;a();let{id:u,magic:c,client:l,exportFunc:h,importFunc:d,dataTable:g,stateTable:p}=e,m,b;const y=async()=>{console.debug("login user: ",m),b=c.exportState();const M=await l.query(d,{table:p,user:m});if(!M){alert("there is no data for this user"),le(s,r={user:m,loggedin:!0},r);return}le(s,r={user:m,loggedin:!0},r),c.importState(M.data)},_=async()=>{let M=c.exportData();await l.mutation(h,{data:M,table:g,user:m}),M=c.exportState(),await l.mutation(h,{data:M,table:p,user:m}),alert("save function executed")},v=async()=>{c.importState(b),n(1,m=null)};function w(){m=this.value,n(1,m)}return t.$$set=M=>{"status"in M&&a(n(0,s=M.status)),"interactions"in M&&n(5,f=M.interactions),"id"in M&&n(6,u=M.id),"magic"in M&&n(7,c=M.magic),"client"in M&&n(8,l=M.client),"exportFunc"in M&&n(9,h=M.exportFunc),"importFunc"in M&&n(10,d=M.importFunc),"dataTable"in M&&n(11,g=M.dataTable),"stateTable"in M&&n(12,p=M.stateTable)},[s,m,y,_,v,f,u,c,l,h,d,g,p,Km,w]}class yv extends We{constructor(e){super(),Ve(this,e,O7,L7,Ye,{status:0,interactions:5,id:6,magic:7,client:8,exportFunc:9,importFunc:10,dataTable:11,stateTable:12,render:13})}get status(){return this.$$.ctx[0]}set status(e){this.$$set({status:e}),Z()}get interactions(){return this.$$.ctx[5]}set interactions(e){this.$$set({interactions:e}),Z()}get id(){return this.$$.ctx[6]}set id(e){this.$$set({id:e}),Z()}get magic(){return this.$$.ctx[7]}set magic(e){this.$$set({magic:e}),Z()}get client(){return this.$$.ctx[8]}set client(e){this.$$set({client:e}),Z()}get exportFunc(){return this.$$.ctx[9]}set exportFunc(e){this.$$set({exportFunc:e}),Z()}get importFunc(){return this.$$.ctx[10]}set importFunc(e){this.$$set({importFunc:e}),Z()}get dataTable(){return this.$$.ctx[11]}set dataTable(e){this.$$set({dataTable:e}),Z()}get stateTable(){return this.$$.ctx[12]}set stateTable(e){this.$$set({stateTable:e}),Z()}get render(){return Km}}function F7(t,e,n){let r,i=Lt,a=()=>(i(),i=Fn(f,m=>n(8,r=m)),f);t.$$.on_destroy.push(()=>i());let{id:s,valid:f=ie({}),interactions:u={valid:f},key:c,threshold_string:l}=e;a();let h=[],d=Number(l);function g(m,b){if(console.debug("trigger alert render"),h=m??h,Gt(h)||!Xt(Array,h))return;const _=Bf(c)(h);if(Gt(_)){alert("warning, alert tried to find data for a key that returns an empty list, alert will not be used");return}Rb(_)<d?(le(f,r={valid:!1},r),alert("warning, slider selection has too low variance in rainfall,invalid results")):le(f,r={valid:!0},r)}function p(m,b){Gt(m)||le(f,r=m,r)}return t.$$set=m=>{"id"in m&&n(1,s=m.id),"valid"in m&&a(n(0,f=m.valid)),"interactions"in m&&n(2,u=m.interactions),"key"in m&&n(3,c=m.key),"threshold_string"in m&&n(4,l=m.threshold_string)},[f,s,u,c,l,g,p]}class _v extends We{constructor(e){super(),Ve(this,e,F7,null,Ye,{id:1,valid:0,interactions:2,key:3,threshold_string:4,render:5,load:6})}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),Z()}get valid(){return this.$$.ctx[0]}set valid(e){this.$$set({valid:e}),Z()}get interactions(){return this.$$.ctx[2]}set interactions(e){this.$$set({interactions:e}),Z()}get key(){return this.$$.ctx[3]}set key(e){this.$$set({key:e}),Z()}get threshold_string(){return this.$$.ctx[4]}set threshold_string(e){this.$$set({threshold_string:e}),Z()}get render(){return this.$$.ctx[5]}get load(){return this.$$.ctx[6]}}class Za{constructor(e){this.compPos=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));r.push(a)}return r},this.getPos=function(){for(var n=[],r=0;r<this._array.length;r++)+(this._array[r]>0),n.push(+(this._array[r]>0));return n},this.getZero=function(){for(var n=[],r=0;r<this._array.length;r++)+this.isNegative(this._array[r]),n.push(+(this._array[r]===0));return n},this._array=e}get array(){return this._array}}const Jm=function(t,e,n,r){let i=e.map(Number),a=r.map(Number),s=new Za(i),f=new Za(a),u=s.compPos(f.array),c=f.getPos(),l=u.filter(g=>g>0).length,h=c.filter(g=>g>0).length;return(l/h).toFixed(2)},Qm=function(t,e,n,r){let i=e.map(Number),a=r.map(Number),s=new Za(i),f=new Za(a),u=s.compZero(f.array),c=f.getZero(),l=u.filter(g=>g>0).length,h=c.filter(g=>g>0).length;return(l/h).toFixed(2)},P7=function(t,e,n,r){return Jm(t,e,n,r)},R7=function(t,e,n,r){return Qm(t,e,n,r)},B7=function(t,e,n,r){let i=Number(Jm(t,e,n,r)),a=Number(Qm(t,e,n,r));return((i+a)/2).toFixed(2)};let wv=[{"true positive":P7,"true negative":R7,"average matching":B7}];const Gi="1.12.1";var Re=[],ce=[],$7=Uint8Array,Cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ar=0,U7=Cs.length;ar<U7;++ar)Re[ar]=Cs[ar],ce[Cs.charCodeAt(ar)]=ar;ce["-".charCodeAt(0)]=62;ce["_".charCodeAt(0)]=63;function z7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function j7(t,e,n){return(e+n)*3/4-n}function Ka(t){var e,n=z7(t),r=n[0],i=n[1],a=new $7(j7(t,r,i)),s=0,f=i>0?r-4:r,u;for(u=0;u<f;u+=4)e=ce[t.charCodeAt(u)]<<18|ce[t.charCodeAt(u+1)]<<12|ce[t.charCodeAt(u+2)]<<6|ce[t.charCodeAt(u+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=ce[t.charCodeAt(u)]<<2|ce[t.charCodeAt(u+1)]>>4,a[s++]=e&255),i===1&&(e=ce[t.charCodeAt(u)]<<10|ce[t.charCodeAt(u+1)]<<4|ce[t.charCodeAt(u+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function q7(t){return Re[t>>18&63]+Re[t>>12&63]+Re[t>>6&63]+Re[t&63]}function W7(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(q7(r));return i.join("")}function Ja(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,f=n-r;s<f;s+=a)i.push(W7(t,s,s+a>f?f:s+a));return r===1?(e=t[n-1],i.push(Re[e>>2]+Re[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Re[e>>10]+Re[e>>4&63]+Re[e<<2&63]+"=")),i.join("")}function Zi(t){if(t===void 0)return{};if(!tp(t))throw new Error(`The arguments to a Convex function must be an object. Received: ${t}`);return t}function V7(t){if(typeof t>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof t!="string")throw new Error(`Invalid deployment address: found ${t}".`);if(!(t.startsWith("http:")||t.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${t}".`);if(!(t.indexOf("127.0.0.1")!==-1||t.indexOf("localhost")!==-1)&&!t.endsWith(".convex.cloud")&&!t.includes("0.0.0.0"))throw new Error(`Invalid deployment address: Must end with ".convex.cloud". Found "${t}". If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function tp(t){var i;const e=typeof t=="object",n=Object.getPrototypeOf(t),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return e&&r}const ep=!0,Tr=BigInt("-9223372036854775808"),qu=BigInt("9223372036854775807"),Df=BigInt("0"),Y7=BigInt("8"),H7=BigInt("256");function np(t){return Number.isNaN(t)||!Number.isFinite(t)||Object.is(t,-0)}function X7(t){t<Df&&(t-=Tr+Tr);let e=t.toString(16);e.length%2===1&&(e="0"+e);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of e.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),t>>=Y7;return Ja(n)}function G7(t){const e=Ka(t);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);let n=Df,r=Df;for(const i of e)n+=BigInt(i)*H7**r,r++;return n>qu&&(n+=Tr+Tr),n}function Z7(t){if(t<Tr||qu<t)throw new Error(`BigInt ${t} does not fit into a 64-bit signed integer.`);const e=new ArrayBuffer(8);return new DataView(e).setBigInt64(0,t,!0),Ja(new Uint8Array(e))}function K7(t){const e=Ka(t);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);return new DataView(e.buffer).getBigInt64(0,!0)}const J7=DataView.prototype.setBigInt64?Z7:X7,Q7=DataView.prototype.getBigInt64?K7:G7,Fd=1024;function If(t){if(t.length>Fd)throw new Error(`Field name ${t} exceeds maximum field name length ${Fd}.`);if(t.startsWith("$"))throw new Error(`Field name ${t} starts with a '$', which is reserved.`);for(let e=0;e<t.length;e+=1){const n=t.charCodeAt(e);if(n<32||n>=127)throw new Error(`Field name ${t} has invalid character '${t[e]}': Field names can only contain non-control ASCII characters`)}}function On(t){if(t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string")return t;if(Array.isArray(t))return t.map(r=>On(r));if(typeof t!="object")throw new Error(`Unexpected type of ${t}`);const e=Object.entries(t);if(e.length===1){const r=e[0][0];if(r==="$bytes"){if(typeof t.$bytes!="string")throw new Error(`Malformed $bytes field on ${t}`);return Ka(t.$bytes).buffer}if(r==="$integer"){if(typeof t.$integer!="string")throw new Error(`Malformed $integer field on ${t}`);return Q7(t.$integer)}if(r==="$float"){if(typeof t.$float!="string")throw new Error(`Malformed $float field on ${t}`);const i=Ka(t.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,ep);if(!np(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(t))If(r),n[r]=On(i);return n}function lr(t){return JSON.stringify(t,(e,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function Qa(t,e,n,r){var s;if(t===void 0){const f=n&&` (present at path ${n} in original object ${lr(e)})`;throw new Error(`undefined is not a valid Convex value${f}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(t===null)return t;if(typeof t=="bigint"){if(t<Tr||qu<t)throw new Error(`BigInt ${t} does not fit into a 64-bit signed integer.`);return{$integer:J7(t)}}if(typeof t=="number")if(np(t)){const f=new ArrayBuffer(8);return new DataView(f).setFloat64(0,t,ep),{$float:Ja(new Uint8Array(f))}}else return t;if(typeof t=="boolean"||typeof t=="string")return t;if(t instanceof ArrayBuffer)return{$bytes:Ja(new Uint8Array(t))};if(Array.isArray(t))return t.map((f,u)=>Qa(f,e,n+`[${u}]`,!1));if(t instanceof Set)throw new Error(Ns(n,"Set",[...t],e));if(t instanceof Map)throw new Error(Ns(n,"Map",[...t],e));if(!tp(t)){const f=(s=t==null?void 0:t.constructor)==null?void 0:s.name,u=f?`${f} `:"";throw new Error(Ns(n,u,t,e))}const i={},a=Object.entries(t);a.sort(([f,u],[c,l])=>f===c?0:f<c?-1:1);for(const[f,u]of a)u!==void 0?(If(f),i[f]=Qa(u,e,n+`.${f}`,!1)):r&&(If(f),i[f]=tv(u,e,n+`.${f}`));return i}function Ns(t,e,n,r){return t?`${e}${lr(n)} is not a supported Convex type (present at path ${t} in original object ${lr(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${e}${lr(n)} is not a supported Convex type.`}function tv(t,e,n){if(t===void 0)return{$undefined:null};if(e===void 0)throw new Error(`Programming error. Current value is ${lr(t)} but original value is undefined`);return Qa(t,e,n,!1)}function Ki(t){return Qa(t,t,"",!1)}var rp;const ev=Symbol.for("ConvexError");class Ji extends Error{constructor(e){super(typeof e=="string"?e:lr(e)),this.name="ConvexError",this[rp]=!0,this.data=e}}rp=ev;const nv="color:rgb(0, 145, 255)";function rv(t){switch(t){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function Qi(t,e,n,r){const i=rv(e);if(typeof r=="object"&&(r=`ConvexError ${JSON.stringify(r.errorData,null,2)}`),t==="info"){const a=r.match(/^\[.*?\] /);if(a===null){console.error(`[CONVEX ${i}(${n})] Could not parse console.log`);return}const s=r.slice(1,a[0].length-2),f=r.slice(a[0].length);console.log(`%c[CONVEX ${i}(${n})] [${s}]`,nv,f)}else console.error(`[CONVEX ${i}(${n})] ${r}`)}const ip=Symbol.for("functionName");function ta(t){if(typeof t=="string")return t;const e=t[ip];if(!e)throw new Error(`${t} is not a functionReference`);return e}function ap(t=[]){const e={get(n,r){if(typeof r=="string"){const i=[...t,r];return ap(i)}else if(r===ip){if(t.length<2){const s=["api",...t].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${s}\``)}const i=t.slice(0,-1).join("/"),a=t[t.length-1];return a==="default"?i:i+":"+a}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},e)}ap();const ea=560;class vv{constructor(e,n){n!==!0&&V7(e),this.address=`${e}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(e){this.clearAuth(),this.auth=e}setAdminAuth(e,n){if(this.clearAuth(),n!==void 0){const r=new TextEncoder().encode(JSON.stringify(n)),i=btoa(String.fromCodePoint(...r));this.adminAuth=`${e}:${i}`}else this.adminAuth=e}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(e){this.debug=e}setFetchOptions(e){this.fetchOptions=e}async query(e,...n){const r=Zi(n[0]),i=ta(e),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ki(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${Gi}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const u=await fetch(`${this.address}/query`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!u.ok&&u.status!==ea)throw new Error(await u.text());const c=await u.json();if(this.debug)for(const l of c.logLines??[])Qi("info","query",i,l);switch(c.status){case"success":return On(c.value);case"error":throw c.errorData!==void 0?na(c.errorData,new Ji(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async mutation(e,...n){const r=Zi(n[0]),i=ta(e),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ki(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${Gi}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const u=await fetch(`${this.address}/mutation`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!u.ok&&u.status!==ea)throw new Error(await u.text());const c=await u.json();if(this.debug)for(const l of c.logLines??[])Qi("info","mutation",i,l);switch(c.status){case"success":return On(c.value);case"error":throw c.errorData!==void 0?na(c.errorData,new Ji(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async action(e,...n){const r=Zi(n[0]),i=ta(e),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ki(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${Gi}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const u=await fetch(`${this.address}/action`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!u.ok&&u.status!==ea)throw new Error(await u.text());const c=await u.json();if(this.debug)for(const l of c.logLines??[])Qi("info","action",i,l);switch(c.status){case"success":return On(c.value);case"error":throw c.errorData!==void 0?na(c.errorData,new Ji(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async function(e,...n){const r=Zi(n[0]),i=typeof e=="string"?e:ta(e),a=JSON.stringify({path:i,format:"convex_encoded_json",args:Ki(r)}),s={"Content-Type":"application/json","Convex-Client":`npm-${Gi}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const u=await fetch(`${this.address}/function`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!u.ok&&u.status!==ea)throw new Error(await u.text());const c=await u.json();if(this.debug)for(const l of c.logLines??[])Qi("info","any",i,l);switch(c.status){case"success":return On(c.value);case"error":throw c.errorData!==void 0?na(c.errorData,new Ji(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}}function na(t,e){return e.data=On(t),e}export{_v as A,dv as B,vv as C,bv as D,Xd as E,ga as F,yv as L,uv as M,lv as S,cv as a,hv as b,gv as c,hr as d,ee as e,wv as f,fo as g,Rt as h,Me as i,Ne as j,Ie as k,De as l,Vt as m,uu as n,un as o,xo as p,lf as q,pv as r,mv as s,qm as t,oc as u,Sb as v,K8 as w,Sn as x,yb as y,ha as z};
