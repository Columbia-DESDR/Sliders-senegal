import{B as Y,S as oe,i as ue,s as ce,g as f,l as m,m as w,d as r,r as p,a as c,v as I,n as C,O as pe,y as P,k as j,j as be,z as T,q as L,p as fe,P as R,w as me,Q as M,A as _e,t as ve,b as ye,x as ge,R as he,c as Q,T as ae,f as we}from"./index.b89b4bd1.js";import{v as xe,b as F,i as ke,k as Ee,f as Ie,B as je,a as le,m as Le}from"./index.0671eb1a.js";/* empty css                                              */import{d as De}from"./database.e264815d.js";import{m as G}from"./model_out.782bba5a.js";import{p as qe}from"./params.c1676b7f.js";function Se(s){return s&&s.execute}function ie(s){return s&&s.addSourceIact}class ne{constructor(t){var n,g;let a=Y(xe),l=Y(F);this.id=t.id,this.m=t.m,this.type=(n=this.m)==null?void 0:n.type,this.space=(g=this.m)==null?void 0:g.space,this.postprocess=t.postprocess??ke,this.source=ie(t.source)?t.source:a[t.source],this.target=Se(t.target)?t.target:l[t.target],ie(this.source)?this.source.addSourceIact(this):console.warn("Interaction source doesn't define addSourceIact",this.source)}trigger(t,...a){let l=this.postprocess(t);console.log("let's see iact binding: ",t),this.target.execute(l,...a)}preview(t){throw new Error("Not Implemented")}}class Ve{constructor(){this.iacts=[]}register(t){t instanceof ne?this.iacts.push(t):this.iacts.push(new ne(t))}registerInteractions(t){t.forEach(a=>this.register(a))}}function Be(s){let t,a;return{c(){t=f("table"),a=f("tbody"),this.h()},l(l){t=m(l,"TABLE",{class:!0});var n=w(t);a=m(n,"TBODY",{id:!0}),w(a).forEach(r),n.forEach(r),this.h()},h(){p(a,"id","body"),p(t,"class","table-auto")},m(l,n){c(l,t,n),I(t,a)},p:C,i:C,o:C,d(l){l&&r(t)}}}function Oe(s,t,a){let l=[];function n(g,_){l=g??l;let x=Ee(l[0]),o="";o+="<tr>",x.forEach(v=>{o+=`<th>${v}</th>`}),o+="</tr>",l.forEach(v=>{o+="<tr>",Ie((y,d)=>{o+=`<td>${y}</td>`},v),o+="</tr>"}),document.getElementById("body").innerHTML=o}return[n]}class Pe extends oe{constructor(t){super(),ue(this,t,Oe,Be,ce,{render:0})}get render(){return this.$$.ctx[0]}}function Te(s){let t,a,l,n,g=Object.keys(G)+"",_,x,o,v,y,d,D=JSON.stringify(s[0],null,2)+"",q,B,k,N,O,u,b,z,S,U,J,V,h,A,E,$,W,K;pe(s[7]);let de={};return E=new Pe({props:de}),s[10](E),{c(){t=f("div"),a=P("Models available"),l=j(),n=f("div"),_=P(g),x=j(),o=f("div"),v=P("Parameters currently"),y=j(),d=f("div"),q=P(D),B=j(),k=f("div"),N=P("Enter selected model"),O=j(),u=f("div"),b=f("input"),z=j(),S=f("div"),U=P("Enter param updates"),J=j(),V=f("div"),h=f("input"),A=j(),be(E.$$.fragment),this.h()},l(e){t=m(e,"DIV",{class:!0});var i=w(t);a=T(i,"Models available"),i.forEach(r),l=L(e),n=m(e,"DIV",{class:!0});var H=w(n);_=T(H,g),H.forEach(r),x=L(e),o=m(e,"DIV",{class:!0});var X=w(o);v=T(X,"Parameters currently"),X.forEach(r),y=L(e),d=m(e,"DIV",{class:!0});var Z=w(d);q=T(Z,D),Z.forEach(r),B=L(e),k=m(e,"DIV",{class:!0});var ee=w(k);N=T(ee,"Enter selected model"),ee.forEach(r),O=L(e),u=m(e,"DIV",{class:!0});var te=w(u);b=m(te,"INPUT",{type:!0,class:!0}),te.forEach(r),z=L(e),S=m(e,"DIV",{class:!0});var se=w(S);U=T(se,"Enter param updates"),se.forEach(r),J=L(e),V=m(e,"DIV",{class:!0});var re=w(V);h=m(re,"INPUT",{type:!0,class:!0}),re.forEach(r),A=L(e),fe(E.$$.fragment,e),this.h()},h(){p(t,"class","text-2xl text-center svelte-18gbjk8"),p(n,"class","px-5 py-2 bg-white border-solid border-2 border-black svelte-18gbjk8"),p(o,"class","text-2xl text-center svelte-18gbjk8"),p(d,"class","px-5 py-2 bg-white border-solid border-2 border-black svelte-18gbjk8"),p(k,"class","text-2xl py-2 text-center svelte-18gbjk8"),p(b,"type","text"),p(b,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),p(u,"class","px-[1%] py-[1%] ml-[5.9%] svelte-18gbjk8"),p(S,"class","text-2xl py-2 text-center svelte-18gbjk8"),p(h,"type","text"),p(h,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),p(V,"class","px-[1%] py-[1%] ml-[5.9%] svelte-18gbjk8")},m(e,i){c(e,t,i),I(t,a),c(e,l,i),c(e,n,i),I(n,_),c(e,x,i),c(e,o,i),I(o,v),c(e,y,i),c(e,d,i),I(d,q),c(e,B,i),c(e,k,i),I(k,N),c(e,O,i),c(e,u,i),I(u,b),R(b,s[2]),c(e,z,i),c(e,S,i),I(S,U),c(e,J,i),c(e,V,i),I(V,h),R(h,s[4]),c(e,A,i),me(E,e,i),$=!0,W||(K=[M(window,"resize",s[7]),M(b,"input",s[8]),M(b,"change",s[6]),M(h,"input",s[9]),M(h,"change",s[5])],W=!0)},p(e,[i]){(!$||i&1)&&D!==(D=JSON.stringify(e[0],null,2)+"")&&_e(q,D),i&4&&b.value!==e[2]&&R(b,e[2]),i&16&&h.value!==e[4]&&R(h,e[4]);const H={};E.$set(H)},i(e){$||(ve(E.$$.fragment,e),$=!0)},o(e){ye(E.$$.fragment,e),$=!1},d(e){e&&r(t),e&&r(l),e&&r(n),e&&r(x),e&&r(o),e&&r(y),e&&r(d),e&&r(B),e&&r(k),e&&r(O),e&&r(u),e&&r(z),e&&r(S),e&&r(J),e&&r(V),e&&r(A),s[10](null),ge(E,e),W=!1,he(K)}}}function Ne(s,t,a){let l,n,g;Q(s,F,u=>a(12,l=u)),Q(s,le,u=>a(13,n=u)),Q(s,qe,u=>a(14,g=u));let _=g;console.log("local params are:",_);let x=0,o=null,v=null,y=null,d=null;ae(F,l=new je,l),ae(le,n=new Ve,n);let D=function(){console.log("new param raw entry is: ",d);let u=String(d),b=JSON.parse(u);console.log("new parameters received",b),a(0,_=Le(_,b)),q()},q=function(){console.log("executing model: ",G[o].query),v=l.createBackend({id:"query_under_debug",type:"query",query:G[o].query,name:"test",params:_,backend:Y(De)}),v.registerView(y),v.execute(_)};function B(){a(1,x=window.innerWidth)}function k(){o=this.value,a(2,o)}function N(){d=this.value,a(4,d)}function O(u){we[u?"unshift":"push"](()=>{y=u,a(3,y)})}return[_,x,o,y,d,D,q,B,k,N,O]}class Re extends oe{constructor(t){super(),ue(this,t,Ne,Te,ce,{})}}export{Re as default};
