import{D as zo,S as We,i as Ve,U as J,s as Ye,e as ot,c as st,b as ut,d as W,h as q,k as pt,l as et,n as Lt,x as kr,$ as Yu,a0 as Mp,a as Xt,f as Gt,a1 as at,R as vt,T as kn,r as Dt,a2 as to,a3 as eo,t as qt,g as Wt,C as ce,J as no,a4 as Hu,v as Yr,G as Sp,w as ua,E as xp,a5 as Tp,y as Bh,z as $h,A as Uh,B as zh,Y as Pn,V as kp,W as Ap,X as Ep,o as ge,m as jh,P as Cp,a6 as Xu,a7 as Np,Q as Gu}from"./index.ff7e3b01.js";import{c as Mt,n as Zu,o as qh,_ as ci,p as $n,q as ro,r as hr,k as vn,s as Is,t as Dp,u as Wh,h as In,w as Ls,x as Ip,y as Lp,j as Op,z as Vh,l as It,A as Fp,C as Pp,D as Yh,i as Os,E as Rp,F as ca,S as Ju,G as Bp,H as Of,I as Ff,R as io,J as Pf,K as Hh,L as Ku,N as Qu,P as $p,T as Mn,U as tc,V as Kr,W as Up,X as ec,Y as te,Z as Rf,$ as zp,a0 as nc,a1 as jp,a2 as la,a3 as Xh,a4 as ha,d as Zt,f as tn,e as Jt,a5 as qp,m as Wp,g as rc,a6 as Vp,a7 as Yp}from"./index.63a773e2.js";import{w as ee}from"./paths.c88f332e.js";var Hp=Mt(function(e,n){return Number(e)+Number(n)});function Gh(t,e,n){return function(){for(var r=[],i=0,a=t,s=0;s<e.length||i<arguments.length;){var f;s<e.length&&(!Zu(e[s])||i>=arguments.length)?f=e[s]:(f=arguments[i],i+=1),r[s]=f,Zu(f)||(a-=1),s+=1}return a<=0?n.apply(this,r):qh(a,Gh(t,r,n))}}var dr=Mt(function(e,n){return e===1?ci(n):qh(e,Gh(e,[],n))});function Xp(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var Gp=Mt(function(e,n){return n>e?n:e});function ra(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}var Zp=function(){function t(e,n){this.xf=n,this.f=e}return t.prototype["@@transducer/init"]=$n.init,t.prototype["@@transducer/result"]=$n.result,t.prototype["@@transducer/step"]=function(e,n){return this.xf["@@transducer/step"](e,this.f(n))},t}(),Jp=Mt(function(e,n){return new Zp(e,n)}),Kp=Mt(ro(["fantasy-land/map","map"],Jp,function(e,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return dr(n.length,function(){return e.call(this,n.apply(this,arguments))});case"[object Object]":return hr(function(r,i){return r[i]=e(n[i]),r},{},vn(n));default:return ra(e,n)}}));const Sn=Kp,Qp=Number.isInteger||function(e){return e<<0===e};var tb=Mt(function(e,n){var r=e<0?n.length+e:e;return Is(n)?n.charAt(r):n[r]});const Zh=tb;var eb=Mt(function(e,n){if(n!=null)return Qp(e)?Zh(e,n):n[e]});const Fs=eb;var nb=Mt(function(e,n){return Sn(Fs(e),n)});const Bf=nb;var rb=function(){function t(e,n){this.xf=n,this.f=e,this.any=!1}return t.prototype["@@transducer/init"]=$n.init,t.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,n){return this.f(n)&&(this.any=!0,e=Xp(this.xf["@@transducer/step"](e,!0))),e},t}(),ib=Mt(function(e,n){return new rb(e,n)}),ab=Mt(ro(["any"],ib,function(e,n){for(var r=0;r<n.length;){if(e(n[r]))return!0;r+=1}return!1}));const Jh=ab;var ob=Mt(function(e,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(n):typeof e=="function"?function(r){return e(r)(n(r))}:hr(function(r,i){return Dp(r,Sn(i,n))},[],e)}),sb=Mt(function(e,n){return e.apply(this,n)});function ic(t,e){return Ls(e)?e.map(t):vn(e).reduce(function(n,r){return n[r]=t(e[r]),n},{})}var fb=ci(function t(e){return e=ic(function(n){return typeof n=="function"?n:t(n)},e),dr(Wh(Gp,0,Bf("length",In(e))),function(){var n=arguments;return ic(function(r){return sb(r,n)},e)})});const ac=fb;function Ps(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var ub=Mt(function(e,n){var r=dr(e,n);return dr(e,function(){return hr(ob,Sn(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),cb=ci(function(e){return ub(e.length,e)});function lb(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}var hb=function(t){return{"@@transducer/init":$n.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?lb(r):r}}},db=function(e){var n=hb(e);return{"@@transducer/init":$n.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return Ip(i)?hr(n,r,i):hr(n,r,[i])}}},gb=Mt(function(e,n){return Sn(e,db(n))}),mb=Mt(ro(["fantasy-land/chain","chain"],gb,function(e,n){return typeof n=="function"?function(r){return e(n(r))(r)}:Lp(!1)(Sn(e,n))}));const Kh=mb;function jo(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Lr=function(e){return(e<10?"0":"")+e},pb=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Lr(e.getUTCMonth()+1)+"-"+Lr(e.getUTCDate())+"T"+Lr(e.getUTCHours())+":"+Lr(e.getUTCMinutes())+":"+Lr(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function bb(t){return function(){return!t.apply(this,arguments)}}var yb=Mt(function(e,n){return Op(bb(e),n)});const _b=yb;function Qh(t,e){var n=function(s){var f=e.concat([t]);return Vh(s,f)?"<Circular>":Qh(s,f)},r=function(a,s){return ra(function(f){return jo(f)+": "+n(a[f])},s.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+ra(n,t).join(", ")+"))";case"[object Array]":return"["+ra(n,t).concat(r(t,_b(function(a){return/^\d+$/.test(a)},vn(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):jo(pb(t)))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+n(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object String]":return typeof t=="object"?"new String("+n(t.valueOf())+")":jo(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var i=t.toString();if(i!=="[object Object]")return i}return"{"+r(t,vn(t)).join(", ")+"}"}}var qo=ci(function(e){return Qh(e,[])}),wb=Mt(function(e,n){if(Ls(e)){if(Ls(n))return e.concat(n);throw new TypeError(qo(n)+" is not an array")}if(Is(e)){if(Is(n))return e+n;throw new TypeError(qo(n)+" is not a string")}if(e!=null&&Ps(e["fantasy-land/concat"]))return e["fantasy-land/concat"](n);if(e!=null&&Ps(e.concat))return e.concat(n);throw new TypeError(qo(e)+' does not have a method named "concat" or "fantasy-land/concat"')});const da=wb;var vb=Zh(-1);const Wo=vb;var Mb=Mt(function(e,n){return e||n}),Sb=Mt(function(e,n){return Ps(e)?function(){return e.apply(this,arguments)||n.apply(this,arguments)}:cb(Mb)(e,n)});const xb=Sb;var Tb=ci(function(e){return dr(e.length,function(n,r){var i=Array.prototype.slice.call(arguments,0);return i[0]=r,i[1]=n,e.apply(this,i)})}),kb=Mt(function(e,n){if(e.length===0||It(n))return!1;for(var r=n,i=0;i<e.length;)if(!It(r)&&Fp(e[i],r))r=r[e[i]],i+=1;else return!1;return!0}),Ab=Mt(function(e,n){return kb([e],n)});const ga=Ab;var Eb=Pp(function(e,n,r){return dr(Math.max(e.length,n.length,r.length),function(){return e.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})});const oc=Eb;var Cb=function(){function t(e,n){this.xf=n,this.f=e,this.set=new Yh}return t.prototype["@@transducer/init"]=$n.init,t.prototype["@@transducer/result"]=$n.result,t.prototype["@@transducer/step"]=function(e,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](e,n):e},t}(),Nb=Mt(function(e,n){return new Cb(e,n)}),Db=Mt(ro([],Nb,function(t,e){for(var n=new Yh,r=[],i=0,a,s;i<e.length;)s=e[i],a=t(s),n.add(a)&&r.push(s),i+=1;return r})),Ib=Db(Os),Lb=Mt(function(e,n){var r,i;return e.length>n.length?(r=e,i=n):(r=n,i=e),Ib(Rp(Tb(Vh)(r),i))});const Ob=Lb;var Fb=Mt(function(e,n){return hr(function(r,i){return r[i]=e(n[i],i,n),r},{},vn(n))});const Pb=Fb;var Rb=Wh(Hp,0);const Bb=Rb;var $b=Mt(function(e,n){for(var r={},i=0;i<e.length;)e[i]in n&&(r[e[i]]=n[e[i]]),i+=1;return r});const Ub=$b;var zb=Mt(function(e,n){return Array.prototype.slice.call(n,0).sort(e)});const jb=zb;var qb=Mt(function(e,n){return da(ca(e,n),ca(n,e))});const Wb=qb;function ne(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function li(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ao(t){let e,n,r;t.length!==2?(e=ne,n=(f,u)=>ne(t(f),u),r=(f,u)=>t(f)-u):(e=t===ne||t===li?t:Vb,n=t,r=t);function i(f,u,c=0,l=f.length){if(c<l){if(e(u,u)!==0)return l;do{const d=c+l>>>1;n(f[d],u)<0?c=d+1:l=d}while(c<l)}return c}function a(f,u,c=0,l=f.length){if(c<l){if(e(u,u)!==0)return l;do{const d=c+l>>>1;n(f[d],u)<=0?c=d+1:l=d}while(c<l)}return c}function s(f,u,c=0,l=f.length){const d=i(f,u,c,l-1);return d>c&&r(f[d-1],u)>-r(f[d],u)?d-1:d}return{left:i,center:s,right:a}}function Vb(){return 0}function td(t){return t===null?NaN:+t}function*Yb(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Hb=ao(ne),Xb=Hb.right;ao(td).center;const $f=Xb;function Gb(t){return t.length|0}function Zb(t){return!(t>0)}function Jb(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Kb(t){return e=>t(...e)}function Qb(...t){const e=typeof t[t.length-1]=="function"&&Kb(t.pop());t=t.map(Jb);const n=t.map(Gb),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Zb))return a;for(;;){a.push(i.map((f,u)=>t[u][f]));let s=r;for(;++i[s]===n[s];){if(s===0)return e?a.map(e):a;i[s--]=0}}}function t2(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function ed(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let s of t)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let f of t)(f=e(f,++s,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function e2(t,e){const n=ed(t,e);return n&&Math.sqrt(n)}function _n(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Un{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,f=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);f&&(n[r++]=f),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class zn extends Map{constructor(e,n=id){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Rs(this,e))}has(e){return super.has(Rs(this,e))}set(e,n){return super.set(nd(this,e),n)}delete(e){return super.delete(rd(this,e))}}class oo extends Set{constructor(e,n=id){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Rs(this,e))}add(e){return super.add(nd(this,e))}delete(e){return super.delete(rd(this,e))}}function Rs({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nd({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rd({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function id(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Bs(t){return t}function Uf(t,...e){return zf(t,Bs,Bs,e)}function Hr(t,e,...n){return zf(t,Bs,e,n)}function n2(t,e,...n){return zf(t,Array.from,e,n)}function zf(t,e,n,r){return function i(a,s){if(s>=r.length)return n(a);const f=new zn,u=r[s++];let c=-1;for(const l of a){const d=u(l,++c,a),h=f.get(d);h?h.push(l):f.set(d,[l])}for(const[l,d]of f)f.set(l,i(d,s));return e(f)}(t,0)}function r2(t,e){return Array.from(e,n=>t[n])}function $s(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const s of e){const f=ma(s[i],s[a]);if(f)return f}})):(n=t.map(n),r.sort((i,a)=>ma(n[i],n[a]))),r2(t,r)}return t.sort(ad(n))}function ad(t=ne){if(t===ne)return ma;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ma(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function jf(t,e,n){return(e.length!==2?$s(Hr(t,e,n),([r,i],[a,s])=>ne(i,s)||ne(r,a)):$s(Uf(t,n),([r,i],[a,s])=>e(i,s)||ne(r,a))).map(([r])=>r)}const i2=Math.sqrt(50),a2=Math.sqrt(10),o2=Math.sqrt(2);function pa(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=i2?10:a>=a2?5:a>=o2?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/s,f=Math.round(t*c),u=Math.round(e*c),f/c<t&&++f,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,f=Math.round(t/c),u=Math.round(e/c),f*c<t&&++f,u*c>e&&--u),u<f&&.5<=n&&n<2?pa(t,e,n*2):[f,u,c]}function ba(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?pa(e,t,n):pa(t,e,n);if(!(a>=i))return[];const f=a-i+1,u=new Array(f);if(r)if(s<0)for(let c=0;c<f;++c)u[c]=(a-c)/-s;else for(let c=0;c<f;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<f;++c)u[c]=(i+c)/-s;else for(let c=0;c<f;++c)u[c]=(i+c)*s;return u}function Us(t,e,n){return e=+e,t=+t,n=+n,pa(t,e,n)[2]}function zs(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Us(e,t,n):Us(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function se(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function s2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Ue(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function f2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function od(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ma:ad(i);r>n;){if(r-n>600){const u=r-n+1,c=e-n+1,l=Math.log(u),d=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*d*(u-d)/u)*(c-u/2<0?-1:1),g=Math.max(n,Math.floor(e-c*d/u+h)),p=Math.min(r,Math.floor(e+(u-c)*d/u+h));od(t,e,g,p,i)}const a=t[e];let s=n,f=r;for(Or(t,n,e),i(t[r],a)>0&&Or(t,n,r);s<f;){for(Or(t,s,f),++s,--f;i(t[s],a)<0;)++s;for(;i(t[f],a)>0;)--f}i(t[n],a)===0?Or(t,n,f):(++f,Or(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function Or(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sd(t,e=ne){let n,r=!1;if(e.length===1){let i;for(const a of t){const s=e(a);(r?ne(s,i)>0:ne(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function ya(t,e,n){if(t=Float64Array.from(Yb(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ue(t);if(e>=1)return se(t);var r,i=(r-1)*e,a=Math.floor(i),s=se(od(t,a).subarray(0,a+1)),f=Ue(t.subarray(a+1));return s+(f-s)*(i-a)}}function u2(t,e,n=td){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),f=+n(t[a+1],a+1,t);return s+(f-s)*(i-a)}}function c2(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function js(t,e){return ya(t,.5,e)}function*l2(t){for(const e of t)yield*e}function fd(t){return Array.from(l2(t))}function h2(t,e){const n=new zn;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of t)(s=e(s,++a,t))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function d2(t,e=g2){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function g2(t,e){return[t,e]}function qs(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function jn(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function _a(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function m2(t){return t}var Vo=1,Yo=2,Ws=3,Oi=4,sc=1e-6;function p2(t){return"translate("+t+",0)"}function b2(t){return"translate(0,"+t+")"}function y2(t){return e=>+t(e)}function _2(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function w2(){return!this.__axis}function v2(t,e){var n=[],r=null,i=null,a=6,s=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===Vo||t===Oi?-1:1,l=t===Oi||t===Yo?"x":"y",d=t===Vo||t===Ws?p2:b2;function h(g){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):m2),b=Math.max(a,0)+f,y=e.range(),_=+y[0]+u,M=+y[y.length-1]+u,w=(e.bandwidth?_2:y2)(e.copy(),u),v=g.selection?g.selection():g,S=v.selectAll(".domain").data([null]),k=v.selectAll(".tick").data(p,e).order(),T=k.exit(),N=k.enter().append("g").attr("class","tick"),I=k.select("line"),A=k.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(N),I=I.merge(N.append("line").attr("stroke","currentColor").attr(l+"2",c*a)),A=A.merge(N.append("text").attr("fill","currentColor").attr(l,c*b).attr("dy",t===Vo?"0em":t===Ws?"0.71em":"0.32em")),g!==v&&(S=S.transition(g),k=k.transition(g),I=I.transition(g),A=A.transition(g),T=T.transition(g).attr("opacity",sc).attr("transform",function(E){return isFinite(E=w(E))?d(E+u):this.getAttribute("transform")}),N.attr("opacity",sc).attr("transform",function(E){var P=this.parentNode.__axis;return d((P&&isFinite(P=P(E))?P:w(E))+u)})),T.remove(),S.attr("d",t===Oi||t===Yo?s?"M"+c*s+","+_+"H"+u+"V"+M+"H"+c*s:"M"+u+","+_+"V"+M:s?"M"+_+","+c*s+"V"+u+"H"+M+"V"+c*s:"M"+_+","+u+"H"+M),k.attr("opacity",1).attr("transform",function(E){return d(w(E)+u)}),I.attr(l+"2",c*a),A.attr(l,c*b).text(m),v.filter(w2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Yo?"start":t===Oi?"end":"middle"),v.each(function(){this.__axis=w})}return h.scale=function(g){return arguments.length?(e=g,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),h):n.slice()},h.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),h):r&&r.slice()},h.tickFormat=function(g){return arguments.length?(i=g,h):i},h.tickSize=function(g){return arguments.length?(a=s=+g,h):a},h.tickSizeInner=function(g){return arguments.length?(a=+g,h):a},h.tickSizeOuter=function(g){return arguments.length?(s=+g,h):s},h.tickPadding=function(g){return arguments.length?(f=+g,h):f},h.offset=function(g){return arguments.length?(u=+g,h):u},h}function M2(t){return v2(Ws,t)}function Kt(t){return typeof t=="string"?new Ju([[document.querySelector(t)]],[document.documentElement]):new Ju([[t]],Bp)}function S2(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Vs(t,e){if(t=S2(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Ys={capture:!0,passive:!1};function Hs(t){t.preventDefault(),t.stopImmediatePropagation()}function x2(t){var e=t.document.documentElement,n=Kt(t).on("dragstart.drag",Hs,Ys);"onselectstart"in e?n.on("selectstart.drag",Hs,Ys):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function T2(t,e){var n=t.document.documentElement,r=Kt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Hs,Ys),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ud=Math.PI/180,cd=180/Math.PI,wa=18,ld=.96422,hd=1,dd=.82521,gd=4/29,fr=6/29,md=3*fr*fr,k2=fr*fr*fr;function pd(t){if(t instanceof $e)return new $e(t.l,t.a,t.b,t.opacity);if(t instanceof nn)return bd(t);t instanceof io||(t=Hh(t));var e=Zo(t.r),n=Zo(t.g),r=Zo(t.b),i=Ho((.2225045*e+.7168786*n+.0606169*r)/hd),a,s;return e===n&&n===r?a=s=i:(a=Ho((.4360747*e+.3850649*n+.1430804*r)/ld),s=Ho((.0139322*e+.0971045*n+.7141733*r)/dd)),new $e(116*i-16,500*(a-i),200*(i-s),t.opacity)}function Xs(t,e,n,r){return arguments.length===1?pd(t):new $e(t,e,n,r??1)}function $e(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Of($e,Xs,Ff(Pf,{brighter(t){return new $e(this.l+wa*(t??1),this.a,this.b,this.opacity)},darker(t){return new $e(this.l-wa*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=ld*Xo(e),t=hd*Xo(t),n=dd*Xo(n),new io(Go(3.1338561*e-1.6168667*t-.4906146*n),Go(-.9787684*e+1.9161415*t+.033454*n),Go(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ho(t){return t>k2?Math.pow(t,1/3):t/md+gd}function Xo(t){return t>fr?t*t*t:md*(t-gd)}function Go(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Zo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function A2(t){if(t instanceof nn)return new nn(t.h,t.c,t.l,t.opacity);if(t instanceof $e||(t=pd(t)),t.a===0&&t.b===0)return new nn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*cd;return new nn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function va(t,e,n,r){return arguments.length===1?A2(t):new nn(t,e,n,r??1)}function nn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function bd(t){if(isNaN(t.h))return new $e(t.l,0,0,t.opacity);var e=t.h*ud;return new $e(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Of(nn,va,Ff(Pf,{brighter(t){return new nn(this.h,this.c,this.l+wa*(t??1),this.opacity)},darker(t){return new nn(this.h,this.c,this.l-wa*(t??1),this.opacity)},rgb(){return bd(this).rgb()}}));var yd=-.14861,qf=1.78277,Wf=-.29227,so=-.90649,Qr=1.97294,fc=Qr*so,uc=Qr*qf,cc=qf*Wf-so*yd;function E2(t){if(t instanceof Rn)return new Rn(t.h,t.s,t.l,t.opacity);t instanceof io||(t=Hh(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(cc*r+fc*e-uc*n)/(cc+fc-uc),a=r-i,s=(Qr*(n-i)-Wf*a)/so,f=Math.sqrt(s*s+a*a)/(Qr*i*(1-i)),u=f?Math.atan2(s,a)*cd-120:NaN;return new Rn(u<0?u+360:u,f,i,t.opacity)}function ze(t,e,n,r){return arguments.length===1?E2(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Of(Rn,ze,Ff(Pf,{brighter(t){return t=t==null?Ku:Math.pow(Ku,t),new Rn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qu:Math.pow(Qu,t),new Rn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ud,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new io(255*(e+n*(yd*r+qf*i)),255*(e+n*(Wf*r+so*i)),255*(e+n*(Qr*r)),this.opacity)}}));function C2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function N2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function D2(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ar(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(f){for(s=0;s<r;++s)a[s]=i[s](f);return a}}function I2(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function L2(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ar(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function Ar(t,e){var n=typeof e,r;return e==null||n==="boolean"?$p(e):(n==="number"?Mn:n==="string"?(r=tc(e))?(e=r,Kr):Up:e instanceof tc?Kr:e instanceof Date?I2:N2(e)?C2:Array.isArray(e)?D2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?L2:Mn)(t,e)}function Vf(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function O2(t){return function(e,n){var r=t((e=ec(e)).h,(n=ec(n)).h),i=te(e.s,n.s),a=te(e.l,n.l),s=te(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=a(f),e.opacity=s(f),e+""}}}const F2=O2(Rf);function P2(t,e){var n=te((t=Xs(t)).l,(e=Xs(e)).l),r=te(t.a,e.a),i=te(t.b,e.b),a=te(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=a(s),t+""}}function R2(t){return function(e,n){var r=t((e=va(e)).h,(n=va(n)).h),i=te(e.c,n.c),a=te(e.l,n.l),s=te(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=a(f),e.opacity=s(f),e+""}}}const B2=R2(Rf);function _d(t){return function e(n){n=+n;function r(i,a){var s=t((i=ze(i)).h,(a=ze(a)).h),f=te(i.s,a.s),u=te(i.l,a.l),c=te(i.opacity,a.opacity);return function(l){return i.h=s(l),i.s=f(l),i.l=u(Math.pow(l,n)),i.opacity=c(l),i+""}}return r.gamma=e,r}(1)}_d(Rf);var Yf=_d(te);function fo(t,e){e===void 0&&(e=t,t=Ar);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var f=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[f](s-f)}}function ke(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const Jo=t=>()=>t;function $2(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function U2(t){t.stopImmediatePropagation()}function Ko(t){t.preventDefault(),t.stopImmediatePropagation()}var lc={name:"drag"},Qo={name:"space"},Qn={name:"handle"},tr={name:"center"};const{abs:hc,max:zt,min:jt}=Math;function dc(t){return[+t[0],+t[1]]}function gc(t){return[dc(t[0]),dc(t[1])]}var ia={name:"x",handles:["w","e"].map(Ma),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ts={name:"y",handles:["n","s"].map(Ma),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ge={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},pc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},z2={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},j2={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ma(t){return{type:t}}function q2(t){return!t.ctrlKey&&!t.button}function W2(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function V2(){return navigator.maxTouchPoints||"ontouchstart"in this}function es(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Y2(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function H2(){return X2(ia)}function X2(t){var e=W2,n=q2,r=V2,i=!0,a=zp("start","brush","end"),s=6,f;function u(b){var y=b.property("__brush",m).selectAll(".overlay").data([Ma("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ge.overlay).merge(y).each(function(){var M=es(this).extent;Kt(this).attr("x",M[0][0]).attr("y",M[0][1]).attr("width",M[1][0]-M[0][0]).attr("height",M[1][1]-M[0][1])}),b.selectAll(".selection").data([Ma("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ge.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=b.selectAll(".handle").data(t.handles,function(M){return M.type});_.exit().remove(),_.enter().append("rect").attr("class",function(M){return"handle handle--"+M.type}).attr("cursor",function(M){return Ge[M.type]}),b.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(b,y,_){b.tween?b.on("start.brush",function(M){l(this,arguments).beforestart().start(M)}).on("interrupt.brush end.brush",function(M){l(this,arguments).end(M)}).tween("brush",function(){var M=this,w=M.__brush,v=l(M,arguments),S=w.selection,k=t.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),T=Ar(S,k);function N(I){w.selection=I===1&&k===null?null:T(I),c.call(M),v.brush()}return S!==null&&k!==null?N:N(1)}):b.each(function(){var M=this,w=arguments,v=M.__brush,S=t.input(typeof y=="function"?y.apply(M,w):y,v.extent),k=l(M,w).beforestart();nc(M),v.selection=S===null?null:S,c.call(M),k.start(_).brush(_).end(_)})},u.clear=function(b,y){u.move(b,null,y)};function c(){var b=Kt(this),y=es(this).selection;y?(b.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?y[1][0]-s/2:y[0][0]-s/2}).attr("y",function(_){return _.type[0]==="s"?y[1][1]-s/2:y[0][1]-s/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?y[1][0]-y[0][0]+s:s}).attr("height",function(_){return _.type==="e"||_.type==="w"?y[1][1]-y[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(b,y,_){var M=b.__brush.emitter;return M&&(!_||!M.clean)?M:new d(b,y,_)}function d(b,y,_){this.that=b,this.args=y,this.state=b.__brush,this.active=0,this.clean=_}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,y){return this.starting?(this.starting=!1,this.emit("start",b,y)):this.emit("brush",b),this},brush:function(b,y){return this.emit("brush",b,y),this},end:function(b,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,y)),this},emit:function(b,y,_){var M=Kt(this.that).datum();a.call(b,this.that,new $2(b,{sourceEvent:y,target:u,selection:t.output(this.state.selection),mode:_,dispatch:a}),M)}};function h(b){if(f&&!b.touches||!n.apply(this,arguments))return;var y=this,_=b.target.__data__.type,M=(i&&b.metaKey?_="overlay":_)==="selection"?lc:i&&b.altKey?tr:Qn,w=t===ts?null:z2[_],v=t===ia?null:j2[_],S=es(y),k=S.extent,T=S.selection,N=k[0][0],I,A,E=k[0][1],P,R,x=k[1][0],O,V,z=k[1][1],X,B,$=0,U=0,Y,D=w&&v&&i&&b.shiftKey,tt,nt,j=Array.from(b.touches||[b],Z=>{const wt=Z.identifier;return Z=Vs(Z,y),Z.point0=Z.slice(),Z.identifier=wt,Z});nc(y);var Q=l(y,arguments,!0).beforestart();if(_==="overlay"){T&&(Y=!0);const Z=[j[0],j[1]||j[0]];S.selection=T=[[I=t===ts?N:jt(Z[0][0],Z[1][0]),P=t===ia?E:jt(Z[0][1],Z[1][1])],[O=t===ts?x:zt(Z[0][0],Z[1][0]),X=t===ia?z:zt(Z[0][1],Z[1][1])]],j.length>1&&mt(b)}else I=T[0][0],P=T[0][1],O=T[1][0],X=T[1][1];A=I,R=P,V=O,B=X;var F=Kt(y).attr("pointer-events","none"),H=F.selectAll(".overlay").attr("cursor",Ge[_]);if(b.touches)Q.moved=L,Q.ended=rt;else{var G=Kt(b.view).on("mousemove.brush",L,!0).on("mouseup.brush",rt,!0);i&&G.on("keydown.brush",yt,!0).on("keyup.brush",St,!0),x2(b.view)}c.call(y),Q.start(b,M.name);function L(Z){for(const wt of Z.changedTouches||[Z])for(const ae of j)ae.identifier===wt.identifier&&(ae.cur=Vs(wt,y));if(D&&!tt&&!nt&&j.length===1){const wt=j[0];hc(wt.cur[0]-wt[0])>hc(wt.cur[1]-wt[1])?nt=!0:tt=!0}for(const wt of j)wt.cur&&(wt[0]=wt.cur[0],wt[1]=wt.cur[1]);Y=!0,Ko(Z),mt(Z)}function mt(Z){const wt=j[0],ae=wt.point0;var Le;switch($=wt[0]-ae[0],U=wt[1]-ae[1],M){case Qo:case lc:{w&&($=zt(N-I,jt(x-O,$)),A=I+$,V=O+$),v&&(U=zt(E-P,jt(z-X,U)),R=P+U,B=X+U);break}case Qn:{j[1]?(w&&(A=zt(N,jt(x,j[0][0])),V=zt(N,jt(x,j[1][0])),w=1),v&&(R=zt(E,jt(z,j[0][1])),B=zt(E,jt(z,j[1][1])),v=1)):(w<0?($=zt(N-I,jt(x-I,$)),A=I+$,V=O):w>0&&($=zt(N-O,jt(x-O,$)),A=I,V=O+$),v<0?(U=zt(E-P,jt(z-P,U)),R=P+U,B=X):v>0&&(U=zt(E-X,jt(z-X,U)),R=P,B=X+U));break}case tr:{w&&(A=zt(N,jt(x,I-$*w)),V=zt(N,jt(x,O+$*w))),v&&(R=zt(E,jt(z,P-U*v)),B=zt(E,jt(z,X+U*v)));break}}V<A&&(w*=-1,Le=I,I=O,O=Le,Le=A,A=V,V=Le,_ in mc&&H.attr("cursor",Ge[_=mc[_]])),B<R&&(v*=-1,Le=P,P=X,X=Le,Le=R,R=B,B=Le,_ in pc&&H.attr("cursor",Ge[_=pc[_]])),S.selection&&(T=S.selection),tt&&(A=T[0][0],V=T[1][0]),nt&&(R=T[0][1],B=T[1][1]),(T[0][0]!==A||T[0][1]!==R||T[1][0]!==V||T[1][1]!==B)&&(S.selection=[[A,R],[V,B]],c.call(y),Q.brush(Z,M.name))}function rt(Z){if(U2(Z),Z.touches){if(Z.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else T2(Z.view,Y),G.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);F.attr("pointer-events","all"),H.attr("cursor",Ge.overlay),S.selection&&(T=S.selection),Y2(T)&&(S.selection=null,c.call(y)),Q.end(Z,M.name)}function yt(Z){switch(Z.keyCode){case 16:{D=w&&v;break}case 18:{M===Qn&&(w&&(O=V-$*w,I=A+$*w),v&&(X=B-U*v,P=R+U*v),M=tr,mt(Z));break}case 32:{(M===Qn||M===tr)&&(w<0?O=V-$:w>0&&(I=A-$),v<0?X=B-U:v>0&&(P=R-U),M=Qo,H.attr("cursor",Ge.selection),mt(Z));break}default:return}Ko(Z)}function St(Z){switch(Z.keyCode){case 16:{D&&(tt=nt=D=!1,mt(Z));break}case 18:{M===tr&&(w<0?O=V:w>0&&(I=A),v<0?X=B:v>0&&(P=R),M=Qn,mt(Z));break}case 32:{M===Qo&&(Z.altKey?(w&&(O=V-$*w,I=A+$*w),v&&(X=B-U*v,P=R+U*v),M=tr):(w<0?O=V:w>0&&(I=A),v<0?X=B:v>0&&(P=R),M=Qn),H.attr("cursor",Ge[_]),mt(Z));break}default:return}Ko(Z)}}function g(b){l(this,arguments).moved(b)}function p(b){l(this,arguments).ended(b)}function m(){var b=this.__brush||{selection:null};return b.extent=gc(e.apply(this,arguments)),b.dim=t,b}return u.extent=function(b){return arguments.length?(e=typeof b=="function"?b:Jo(gc(b)),u):e},u.filter=function(b){return arguments.length?(n=typeof b=="function"?b:Jo(!!b),u):n},u.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Jo(!!b),u):r},u.handleSize=function(b){return arguments.length?(s=+b,u):s},u.keyModifiers=function(b){return arguments.length?(i=!!b,u):i},u.on=function(){var b=a.on.apply(a,arguments);return b===a?u:b},u}const Gs=Math.PI,Zs=2*Gs,Dn=1e-6,G2=Zs-Dn;function wd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Z2(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wd;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wd:Z2(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,f=this._y1,u=r-e,c=i-n,l=s-e,d=f-n,h=l*l+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Dn)if(!(Math.abs(d*u-c*l)>Dn)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,p=i-f,m=u*u+c*c,b=g*g+p*p,y=Math.sqrt(m),_=Math.sqrt(h),M=a*Math.tan((Gs-Math.acos((m+h-b)/(2*y*_)))/2),w=M/_,v=M/y;Math.abs(w-1)>Dn&&this._append`L${e+w*l},${n+w*d}`,this._append`A${a},${a},0,0,${+(d*g>l*p)},${this._x1=e+v*u},${this._y1=n+v*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=e+f,l=n+u,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Dn||Math.abs(this._y1-l)>Dn)&&this._append`L${c},${l}`,r&&(h<0&&(h=h%Zs+Zs),h>G2?this._append`A${r},${r},0,1,${d},${e-f},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=l}`:h>Dn&&this._append`A${r},${r},0,${+(h>=Gs)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gn(t=3){return new vd(+t)}function J2(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gr(t){return t=Sa(Math.abs(t)),t?t[1]:NaN}function K2(t,e){return function(n,r){for(var i=n.length,a=[],s=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(n.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Q2(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ty=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ti(t){if(!(e=ty.exec(t)))throw new Error("invalid format: "+t);var e;return new Hf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ti.prototype=Hf.prototype;function Hf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Hf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ey(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Md;function ny(t,e){var n=Sa(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Md=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Sa(t,Math.max(0,e+a-1))[0]}function bc(t,e){var n=Sa(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:J2,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bc(t*100,e),r:bc,s:ny,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _c(t){return t}var wc=Array.prototype.map,vc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ry(t){var e=t.grouping===void 0||t.thousands===void 0?_c:K2(wc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_c:Q2(wc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(d){d=ti(d);var h=d.fill,g=d.align,p=d.sign,m=d.symbol,b=d.zero,y=d.width,_=d.comma,M=d.precision,w=d.trim,v=d.type;v==="n"?(_=!0,v="g"):yc[v]||(M===void 0&&(M=12),w=!0,v="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k=m==="$"?r:/[%p]/.test(v)?s:"",T=yc[v],N=/[defgprs%]/.test(v);M=M===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function I(A){var E=S,P=k,R,x,O;if(v==="c")P=T(A)+P,A="";else{A=+A;var V=A<0||1/A<0;if(A=isNaN(A)?u:T(Math.abs(A),M),w&&(A=ey(A)),V&&+A==0&&p!=="+"&&(V=!1),E=(V?p==="("?p:f:p==="-"||p==="("?"":p)+E,P=(v==="s"?vc[8+Md/3]:"")+P+(V&&p==="("?")":""),N){for(R=-1,x=A.length;++R<x;)if(O=A.charCodeAt(R),48>O||O>57){P=(O===46?i+A.slice(R+1):A.slice(R))+P,A=A.slice(0,R);break}}}_&&!b&&(A=e(A,1/0));var z=E.length+A.length+P.length,X=z<y?new Array(y-z+1).join(h):"";switch(_&&b&&(A=e(X+A,X.length?y-P.length:1/0),X=""),g){case"<":A=E+A+P+X;break;case"=":A=E+X+A+P;break;case"^":A=X.slice(0,z=X.length>>1)+E+A+P+X.slice(z);break;default:A=X+E+A+P;break}return a(A)}return I.toString=function(){return d+""},I}function l(d,h){var g=c((d=ti(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(gr(h)/3)))*3,m=Math.pow(10,-p),b=vc[8+p/3];return function(y){return g(m*y)+b}}return{format:c,formatPrefix:l}}var Fi,Er,Sd;iy({thousands:",",grouping:[3],currency:["$",""]});function iy(t){return Fi=ry(t),Er=Fi.format,Sd=Fi.formatPrefix,Fi}function ay(t){return Math.max(0,-gr(Math.abs(t)))}function oy(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gr(e)/3)))*3-gr(Math.abs(t)))}function sy(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gr(e)-gr(t))+1}var ht=1e-6,xd=1e-12,gt=Math.PI,Nt=gt/2,Mc=gt/4,fe=gt*2,Vt=180/gt,Ct=gt/180,_t=Math.abs,Cr=Math.atan,on=Math.atan2,dt=Math.cos,Td=Math.exp,xa=Math.log,ns=Math.pow,ct=Math.sin,me=Math.sign||function(t){return t>0?1:t<0?-1:0},re=Math.sqrt,Xf=Math.tan;function kd(t){return t>1?0:t<-1?gt:Math.acos(t)}function we(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function pe(){}function Ta(t,e){t&&xc.hasOwnProperty(t.type)&&xc[t.type](t,e)}var Sc={Feature:function(t,e){Ta(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ta(n[r].geometry,e)}},xc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Js(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Js(n[r],e,0)},Polygon:function(t,e){Tc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Tc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ta(n[r],e)}};function Js(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function Tc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Js(t[n],e,1);e.polygonEnd()}function Ln(t,e){t&&Sc.hasOwnProperty(t.type)?Sc[t.type](t,e):Ta(t,e)}function Ks(t){return[on(t[1],t[0]),we(t[2])]}function mr(t){var e=t[0],n=t[1],r=dt(n);return[r*dt(e),r*ct(e),ct(n)]}function Pi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ka(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function rs(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ri(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Qs(t){var e=re(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function tf(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function ef(t,e){return _t(t)>gt&&(t-=Math.round(t/fe)*fe),[t,e]}ef.invert=ef;function Ad(t,e,n){return(t%=fe)?e||n?tf(Ac(t),Ec(e,n)):Ac(t):e||n?Ec(e,n):ef}function kc(t){return function(e,n){return e+=t,_t(e)>gt&&(e-=Math.round(e/fe)*fe),[e,n]}}function Ac(t){var e=kc(t);return e.invert=kc(-t),e}function Ec(t,e){var n=dt(t),r=ct(t),i=dt(e),a=ct(e);function s(f,u){var c=dt(u),l=dt(f)*c,d=ct(f)*c,h=ct(u),g=h*n+l*r;return[on(d*i-g*a,l*n-h*r),we(g*i+d*a)]}return s.invert=function(f,u){var c=dt(u),l=dt(f)*c,d=ct(f)*c,h=ct(u),g=h*i-d*a;return[on(d*i+h*a,l*n+g*r),we(g*n-l*r)]},s}function fy(t){t=Ad(t[0]*Ct,t[1]*Ct,t.length>2?t[2]*Ct:0);function e(n){return n=t(n[0]*Ct,n[1]*Ct),n[0]*=Vt,n[1]*=Vt,n}return e.invert=function(n){return n=t.invert(n[0]*Ct,n[1]*Ct),n[0]*=Vt,n[1]*=Vt,n},e}function uy(t,e,n,r,i,a){if(n){var s=dt(e),f=ct(e),u=r*n;i==null?(i=e+r*fe,a=e-u/2):(i=Cc(s,i),a=Cc(s,a),(r>0?i<a:i>a)&&(i+=r*fe));for(var c,l=i;r>0?l>a:l<a;l-=u)c=Ks([s,-f*dt(l),-f*ct(l)]),t.point(c[0],c[1])}}function Cc(t,e){e=mr(e),e[0]-=t,Qs(e);var n=kd(-e[1]);return((-e[2]<0?-n:n)+fe-ht)%fe}function Ed(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:pe,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function aa(t,e){return _t(t[0]-e[0])<ht&&_t(t[1]-e[1])<ht}function Bi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Cd(t,e,n,r,i){var a=[],s=[],f,u;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,b=p[0],y=p[m],_;if(aa(b,y)){if(!b[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((b=p[f])[0],b[1]);i.lineEnd();return}y[0]+=2*ht}a.push(_=new Bi(b,p,null,!0)),s.push(_.o=new Bi(b,null,_,!1)),a.push(_=new Bi(y,p,null,!1)),s.push(_.o=new Bi(y,null,_,!0))}}),!!a.length){for(s.sort(e),Nc(a),Nc(s),f=0,u=s.length;f<u;++f)s[f].e=n=!n;for(var c=a[0],l,d;;){for(var h=c,g=!0;h.v;)if((h=h.n)===c)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(f=0,u=l.length;f<u;++f)i.point((d=l[f])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(g)for(l=h.p.z,f=l.length-1;f>=0;--f)i.point((d=l[f])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,l=h.z,g=!g}while(!h.v);i.lineEnd()}}}function Nc(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function is(t){return _t(t[0])<=gt?t[0]:me(t[0])*((_t(t[0])+gt)%fe-gt)}function cy(t,e){var n=is(e),r=e[1],i=ct(r),a=[ct(n),-dt(n),0],s=0,f=0,u=new Un;i===1?r=Nt+ht:i===-1&&(r=-Nt-ht);for(var c=0,l=t.length;c<l;++c)if(h=(d=t[c]).length)for(var d,h,g=d[h-1],p=is(g),m=g[1]/2+Mc,b=ct(m),y=dt(m),_=0;_<h;++_,p=w,b=S,y=k,g=M){var M=d[_],w=is(M),v=M[1]/2+Mc,S=ct(v),k=dt(v),T=w-p,N=T>=0?1:-1,I=N*T,A=I>gt,E=b*S;if(u.add(on(E*N*ct(I),y*k+E*dt(I))),s+=A?T+N*fe:T,A^p>=n^w>=n){var P=ka(mr(g),mr(M));Qs(P);var R=ka(a,P);Qs(R);var x=(A^T>=0?-1:1)*we(R[2]);(r>x||r===x&&(P[0]||P[1]))&&(f+=A^T>=0?1:-1)}}return(s<-ht||s<ht&&u<-xd)^f&1}function Nd(t,e,n,r){return function(i){var a=e(i),s=Ed(),f=e(s),u=!1,c,l,d,h={point:g,lineStart:m,lineEnd:b,polygonStart:function(){h.point=y,h.lineStart=_,h.lineEnd=M,l=[],c=[]},polygonEnd:function(){h.point=g,h.lineStart=m,h.lineEnd=b,l=fd(l);var w=cy(c,r);l.length?(u||(i.polygonStart(),u=!0),Cd(l,hy,w,n,i)):w&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(w,v){t(w,v)&&i.point(w,v)}function p(w,v){a.point(w,v)}function m(){h.point=p,a.lineStart()}function b(){h.point=g,a.lineEnd()}function y(w,v){d.push([w,v]),f.point(w,v)}function _(){f.lineStart(),d=[]}function M(){y(d[0][0],d[0][1]),f.lineEnd();var w=f.clean(),v=s.result(),S,k=v.length,T,N,I;if(d.pop(),c.push(d),d=null,!!k){if(w&1){if(N=v[0],(T=N.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),S=0;S<T;++S)i.point((I=N[S])[0],I[1]);i.lineEnd()}return}k>1&&w&2&&v.push(v.pop().concat(v.shift())),l.push(v.filter(ly))}}return h}}function ly(t){return t.length>1}function hy(t,e){return((t=t.x)[0]<0?t[1]-Nt-ht:Nt-t[1])-((e=e.x)[0]<0?e[1]-Nt-ht:Nt-e[1])}const Dc=Nd(function(){return!0},dy,my,[-gt,-Nt]);function dy(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var f=a>0?gt:-gt,u=_t(a-e);_t(u-gt)<ht?(t.point(e,n=(n+s)/2>0?Nt:-Nt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(a,n),i=0):r!==f&&u>=gt&&(_t(e-r)<ht&&(e-=r*ht),_t(a-f)<ht&&(a-=f*ht),n=gy(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=a,n=s),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function gy(t,e,n,r){var i,a,s=ct(t-n);return _t(s)>ht?Cr((ct(e)*(a=dt(r))*ct(n)-ct(r)*(i=dt(e))*ct(t))/(i*a*s)):(e+r)/2}function my(t,e,n,r){var i;if(t==null)i=n*Nt,r.point(-gt,i),r.point(0,i),r.point(gt,i),r.point(gt,0),r.point(gt,-i),r.point(0,-i),r.point(-gt,-i),r.point(-gt,0),r.point(-gt,i);else if(_t(t[0]-e[0])>ht){var a=t[0]<e[0]?gt:-gt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function py(t){var e=dt(t),n=2*Ct,r=e>0,i=_t(e)>ht;function a(l,d,h,g){uy(g,t,n,h,l,d)}function s(l,d){return dt(l)*dt(d)>e}function f(l){var d,h,g,p,m;return{lineStart:function(){p=g=!1,m=1},point:function(b,y){var _=[b,y],M,w=s(b,y),v=r?w?0:c(b,y):w?c(b+(b<0?gt:-gt),y):0;if(!d&&(p=g=w)&&l.lineStart(),w!==g&&(M=u(d,_),(!M||aa(d,M)||aa(_,M))&&(_[2]=1)),w!==g)m=0,w?(l.lineStart(),M=u(_,d),l.point(M[0],M[1])):(M=u(d,_),l.point(M[0],M[1],2),l.lineEnd()),d=M;else if(i&&d&&r^w){var S;!(v&h)&&(S=u(_,d,!0))&&(m=0,r?(l.lineStart(),l.point(S[0][0],S[0][1]),l.point(S[1][0],S[1][1]),l.lineEnd()):(l.point(S[1][0],S[1][1]),l.lineEnd(),l.lineStart(),l.point(S[0][0],S[0][1],3)))}w&&(!d||!aa(d,_))&&l.point(_[0],_[1]),d=_,g=w,h=v},lineEnd:function(){g&&l.lineEnd(),d=null},clean:function(){return m|(p&&g)<<1}}}function u(l,d,h){var g=mr(l),p=mr(d),m=[1,0,0],b=ka(g,p),y=Pi(b,b),_=b[0],M=y-_*_;if(!M)return!h&&l;var w=e*y/M,v=-e*_/M,S=ka(m,b),k=Ri(m,w),T=Ri(b,v);rs(k,T);var N=S,I=Pi(k,N),A=Pi(N,N),E=I*I-A*(Pi(k,k)-1);if(!(E<0)){var P=re(E),R=Ri(N,(-I-P)/A);if(rs(R,k),R=Ks(R),!h)return R;var x=l[0],O=d[0],V=l[1],z=d[1],X;O<x&&(X=x,x=O,O=X);var B=O-x,$=_t(B-gt)<ht,U=$||B<ht;if(!$&&z<V&&(X=V,V=z,z=X),U?$?V+z>0^R[1]<(_t(R[0]-x)<ht?V:z):V<=R[1]&&R[1]<=z:B>gt^(x<=R[0]&&R[0]<=O)){var Y=Ri(N,(-I+P)/A);return rs(Y,k),[R,Ks(Y)]}}}function c(l,d){var h=r?t:gt-t,g=0;return l<-h?g|=1:l>h&&(g|=2),d<-h?g|=4:d>h&&(g|=8),g}return Nd(s,f,a,r?[0,-t]:[-gt,t-gt])}function by(t,e,n,r,i,a){var s=t[0],f=t[1],u=e[0],c=e[1],l=0,d=1,h=u-s,g=c-f,p;if(p=n-s,!(!h&&p>0)){if(p/=h,h<0){if(p<l)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>l&&(l=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>l&&(l=p)}else if(h>0){if(p<l)return;p<d&&(d=p)}if(p=r-f,!(!g&&p>0)){if(p/=g,g<0){if(p<l)return;p<d&&(d=p)}else if(g>0){if(p>d)return;p>l&&(l=p)}if(p=a-f,!(!g&&p<0)){if(p/=g,g<0){if(p>d)return;p>l&&(l=p)}else if(g>0){if(p<l)return;p<d&&(d=p)}return l>0&&(t[0]=s+l*h,t[1]=f+l*g),d<1&&(e[0]=s+d*h,e[1]=f+d*g),!0}}}}}var Ur=1e9,$i=-Ur;function Dd(t,e,n,r){function i(c,l){return t<=c&&c<=n&&e<=l&&l<=r}function a(c,l,d,h){var g=0,p=0;if(c==null||(g=s(c,d))!==(p=s(l,d))||u(c,l)<0^d>0)do h.point(g===0||g===3?t:n,g>1?r:e);while((g=(g+d+4)%4)!==p);else h.point(l[0],l[1])}function s(c,l){return _t(c[0]-t)<ht?l>0?0:3:_t(c[0]-n)<ht?l>0?2:1:_t(c[1]-e)<ht?l>0?1:0:l>0?3:2}function f(c,l){return u(c.x,l.x)}function u(c,l){var d=s(c,1),h=s(l,1);return d!==h?d-h:d===0?l[1]-c[1]:d===1?c[0]-l[0]:d===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,d=Ed(),h,g,p,m,b,y,_,M,w,v,S,k={point:T,lineStart:E,lineEnd:P,polygonStart:I,polygonEnd:A};function T(x,O){i(x,O)&&l.point(x,O)}function N(){for(var x=0,O=0,V=g.length;O<V;++O)for(var z=g[O],X=1,B=z.length,$=z[0],U,Y,D=$[0],tt=$[1];X<B;++X)U=D,Y=tt,$=z[X],D=$[0],tt=$[1],Y<=r?tt>r&&(D-U)*(r-Y)>(tt-Y)*(t-U)&&++x:tt<=r&&(D-U)*(r-Y)<(tt-Y)*(t-U)&&--x;return x}function I(){l=d,h=[],g=[],S=!0}function A(){var x=N(),O=S&&x,V=(h=fd(h)).length;(O||V)&&(c.polygonStart(),O&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),V&&Cd(h,f,x,a,c),c.polygonEnd()),l=c,h=g=p=null}function E(){k.point=R,g&&g.push(p=[]),v=!0,w=!1,_=M=NaN}function P(){h&&(R(m,b),y&&w&&d.rejoin(),h.push(d.result())),k.point=T,w&&l.lineEnd()}function R(x,O){var V=i(x,O);if(g&&p.push([x,O]),v)m=x,b=O,y=V,v=!1,V&&(l.lineStart(),l.point(x,O));else if(V&&w)l.point(x,O);else{var z=[_=Math.max($i,Math.min(Ur,_)),M=Math.max($i,Math.min(Ur,M))],X=[x=Math.max($i,Math.min(Ur,x)),O=Math.max($i,Math.min(Ur,O))];by(z,X,t,e,n,r)?(w||(l.lineStart(),l.point(z[0],z[1])),l.point(X[0],X[1]),V||l.lineEnd(),S=!1):V&&(l.lineStart(),l.point(x,O),S=!1)}_=x,M=O,w=V}return k}}const nf=t=>t;var as=new Un,rf=new Un,Id,Ld,af,of,hn={point:pe,lineStart:pe,lineEnd:pe,polygonStart:function(){hn.lineStart=yy,hn.lineEnd=wy},polygonEnd:function(){hn.lineStart=hn.lineEnd=hn.point=pe,as.add(_t(rf)),rf=new Un},result:function(){var t=as/2;return as=new Un,t}};function yy(){hn.point=_y}function _y(t,e){hn.point=Od,Id=af=t,Ld=of=e}function Od(t,e){rf.add(of*t-af*e),af=t,of=e}function wy(){Od(Id,Ld)}const Ic=hn;var pr=1/0,Aa=pr,ei=-pr,Ea=ei,vy={point:My,lineStart:pe,lineEnd:pe,polygonStart:pe,polygonEnd:pe,result:function(){var t=[[pr,Aa],[ei,Ea]];return ei=Ea=-(Aa=pr=1/0),t}};function My(t,e){t<pr&&(pr=t),t>ei&&(ei=t),e<Aa&&(Aa=e),e>Ea&&(Ea=e)}const Ca=vy;var sf=0,ff=0,zr=0,Na=0,Da=0,or=0,uf=0,cf=0,jr=0,Fd,Pd,Fe,Pe,xe={point:qn,lineStart:Lc,lineEnd:Oc,polygonStart:function(){xe.lineStart=Ty,xe.lineEnd=ky},polygonEnd:function(){xe.point=qn,xe.lineStart=Lc,xe.lineEnd=Oc},result:function(){var t=jr?[uf/jr,cf/jr]:or?[Na/or,Da/or]:zr?[sf/zr,ff/zr]:[NaN,NaN];return sf=ff=zr=Na=Da=or=uf=cf=jr=0,t}};function qn(t,e){sf+=t,ff+=e,++zr}function Lc(){xe.point=Sy}function Sy(t,e){xe.point=xy,qn(Fe=t,Pe=e)}function xy(t,e){var n=t-Fe,r=e-Pe,i=re(n*n+r*r);Na+=i*(Fe+t)/2,Da+=i*(Pe+e)/2,or+=i,qn(Fe=t,Pe=e)}function Oc(){xe.point=qn}function Ty(){xe.point=Ay}function ky(){Rd(Fd,Pd)}function Ay(t,e){xe.point=Rd,qn(Fd=Fe=t,Pd=Pe=e)}function Rd(t,e){var n=t-Fe,r=e-Pe,i=re(n*n+r*r);Na+=i*(Fe+t)/2,Da+=i*(Pe+e)/2,or+=i,i=Pe*t-Fe*e,uf+=i*(Fe+t),cf+=i*(Pe+e),jr+=i*3,qn(Fe=t,Pe=e)}const Fc=xe;function Bd(t){this._context=t}Bd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,fe);break}}},result:pe};var lf=new Un,os,$d,Ud,qr,Wr,Ia={point:pe,lineStart:function(){Ia.point=Ey},lineEnd:function(){os&&zd($d,Ud),Ia.point=pe},polygonStart:function(){os=!0},polygonEnd:function(){os=null},result:function(){var t=+lf;return lf=new Un,t}};function Ey(t,e){Ia.point=zd,$d=qr=t,Ud=Wr=e}function zd(t,e){qr-=t,Wr-=e,lf.add(re(qr*qr+Wr*Wr)),qr=t,Wr=e}const Pc=Ia;let Rc,La,Bc,$c;class Uc{constructor(e){this._append=e==null?jd:Cy(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Bc||this._append!==La){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Bc=r,La=this._append,$c=this._,this._=i}this._+=$c;break}}}result(){const e=this._;return this._="",e.length?e:null}}function jd(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Cy(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return jd;if(e!==Rc){const n=10**e;Rc=e,La=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return La}function uo(t,e){let n=3,r=4.5,i,a;function s(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Ln(f,i(a))),a.result()}return s.area=function(f){return Ln(f,i(Ic)),Ic.result()},s.measure=function(f){return Ln(f,i(Pc)),Pc.result()},s.bounds=function(f){return Ln(f,i(Ca)),Ca.result()},s.centroid=function(f){return Ln(f,i(Fc)),Fc.result()},s.projection=function(f){return arguments.length?(i=f==null?(t=null,nf):(t=f).stream,s):t},s.context=function(f){return arguments.length?(a=f==null?(e=null,new Uc(n)):new Bd(e=f),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),s):r},s.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);n=u}return e===null&&(a=new Uc(n)),s},s.projection(t).digits(n).context(e)}function hf(t){return{stream:co(t)}}function co(t){return function(e){var n=new df;for(var r in t)n[r]=t[r];return n.stream=e,n}}function df(){}df.prototype={constructor:df,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ln(n,t.stream(Ca)),e(Ca.result()),r!=null&&t.clipExtent(r),t}function Zf(t,e,n){return Gf(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([f,u])},n)}function qd(t,e,n){return Zf(t,[[0,0],e],n)}function Wd(t,e,n){return Gf(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([s,f])},n)}function Vd(t,e,n){return Gf(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,f])},n)}var zc=16,Ny=dt(30*Ct);function jc(t,e){return+e?Iy(t,e):Dy(t)}function Dy(t){return co({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Iy(t,e){function n(r,i,a,s,f,u,c,l,d,h,g,p,m,b){var y=c-r,_=l-i,M=y*y+_*_;if(M>4*e&&m--){var w=s+h,v=f+g,S=u+p,k=re(w*w+v*v+S*S),T=we(S/=k),N=_t(_t(S)-1)<ht||_t(a-d)<ht?(a+d)/2:on(v,w),I=t(N,T),A=I[0],E=I[1],P=A-r,R=E-i,x=_*P-y*R;(x*x/M>e||_t((y*P+_*R)/M-.5)>.3||s*h+f*g+u*p<Ny)&&(n(r,i,a,s,f,u,A,E,N,w/=k,v/=k,S,m,b),b.point(A,E),n(A,E,N,w,v,S,c,l,d,h,g,p,m,b))}}return function(r){var i,a,s,f,u,c,l,d,h,g,p,m,b={point:y,lineStart:_,lineEnd:w,polygonStart:function(){r.polygonStart(),b.lineStart=v},polygonEnd:function(){r.polygonEnd(),b.lineStart=_}};function y(T,N){T=t(T,N),r.point(T[0],T[1])}function _(){d=NaN,b.point=M,r.lineStart()}function M(T,N){var I=mr([T,N]),A=t(T,N);n(d,h,l,g,p,m,d=A[0],h=A[1],l=T,g=I[0],p=I[1],m=I[2],zc,r),r.point(d,h)}function w(){b.point=y,r.lineEnd()}function v(){_(),b.point=S,b.lineEnd=k}function S(T,N){M(i=T,N),a=d,s=h,f=g,u=p,c=m,b.point=M}function k(){n(d,h,l,g,p,m,a,s,i,f,u,c,zc,r),b.lineEnd=w,w()}return b}}var Ly=co({point:function(t,e){this.stream.point(t*Ct,e*Ct)}});function Oy(t){return co({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Fy(t,e,n,r,i){function a(s,f){return s*=r,f*=i,[e+t*s,n-t*f]}return a.invert=function(s,f){return[(s-e)/t*r,(n-f)/t*i]},a}function qc(t,e,n,r,i,a){if(!a)return Fy(t,e,n,r,i);var s=dt(a),f=ct(a),u=s*t,c=f*t,l=s/t,d=f/t,h=(f*n-s*e)/t,g=(f*e+s*n)/t;function p(m,b){return m*=r,b*=i,[u*m-c*b+e,n-c*m-u*b]}return p.invert=function(m,b){return[r*(l*m-d*b+h),i*(g-d*m-l*b)]},p}function An(t){return Yd(function(){return t})()}function Yd(t){var e,n=150,r=480,i=250,a=0,s=0,f=0,u=0,c=0,l,d=0,h=1,g=1,p=null,m=Dc,b=null,y,_,M,w=nf,v=.5,S,k,T,N,I;function A(x){return T(x[0]*Ct,x[1]*Ct)}function E(x){return x=T.invert(x[0],x[1]),x&&[x[0]*Vt,x[1]*Vt]}A.stream=function(x){return N&&I===x?N:N=Ly(Oy(l)(m(S(w(I=x)))))},A.preclip=function(x){return arguments.length?(m=x,p=void 0,R()):m},A.postclip=function(x){return arguments.length?(w=x,b=y=_=M=null,R()):w},A.clipAngle=function(x){return arguments.length?(m=+x?py(p=x*Ct):(p=null,Dc),R()):p*Vt},A.clipExtent=function(x){return arguments.length?(w=x==null?(b=y=_=M=null,nf):Dd(b=+x[0][0],y=+x[0][1],_=+x[1][0],M=+x[1][1]),R()):b==null?null:[[b,y],[_,M]]},A.scale=function(x){return arguments.length?(n=+x,P()):n},A.translate=function(x){return arguments.length?(r=+x[0],i=+x[1],P()):[r,i]},A.center=function(x){return arguments.length?(a=x[0]%360*Ct,s=x[1]%360*Ct,P()):[a*Vt,s*Vt]},A.rotate=function(x){return arguments.length?(f=x[0]%360*Ct,u=x[1]%360*Ct,c=x.length>2?x[2]%360*Ct:0,P()):[f*Vt,u*Vt,c*Vt]},A.angle=function(x){return arguments.length?(d=x%360*Ct,P()):d*Vt},A.reflectX=function(x){return arguments.length?(h=x?-1:1,P()):h<0},A.reflectY=function(x){return arguments.length?(g=x?-1:1,P()):g<0},A.precision=function(x){return arguments.length?(S=jc(k,v=x*x),R()):re(v)},A.fitExtent=function(x,O){return Zf(A,x,O)},A.fitSize=function(x,O){return qd(A,x,O)},A.fitWidth=function(x,O){return Wd(A,x,O)},A.fitHeight=function(x,O){return Vd(A,x,O)};function P(){var x=qc(n,0,0,h,g,d).apply(null,e(a,s)),O=qc(n,r-x[0],i-x[1],h,g,d);return l=Ad(f,u,c),k=tf(e,O),T=tf(l,k),S=jc(k,v),R()}function R(){return N=I=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&E,P()}}function Jf(t){var e=0,n=gt/3,r=Yd(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ct,n=a[1]*Ct):[e*Vt,n*Vt]},i}function Py(t){var e=dt(t);function n(r,i){return[r*e,ct(i)/e]}return n.invert=function(r,i){return[r/e,we(i*e)]},n}function Ry(t,e){var n=ct(t),r=(n+ct(e))/2;if(_t(r)<ht)return Py(t);var i=1+n*(2*r-n),a=re(i)/r;function s(f,u){var c=re(i-2*r*ct(u))/r;return[c*ct(f*=r),a-c*dt(f)]}return s.invert=function(f,u){var c=a-u,l=on(f,_t(c))*me(c);return c*r<0&&(l-=gt*me(f)*me(c)),[l/r,we((i-(f*f+c*c)*r*r)/(2*r))]},s}function Oa(){return Jf(Ry).scale(155.424).center([0,33.6442])}function Hd(){return Oa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function By(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function $y(){var t,e,n=Hd(),r,i=Oa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Oa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(h,g){u=[h,g]}};function l(h){var g=h[0],p=h[1];return u=null,r.point(g,p),u||(a.point(g,p),u)||(f.point(g,p),u)}l.invert=function(h){var g=n.scale(),p=n.translate(),m=(h[0]-p[0])/g,b=(h[1]-p[1])/g;return(b>=.12&&b<.234&&m>=-.425&&m<-.214?i:b>=.166&&b<.234&&m>=-.214&&m<-.115?s:n).invert(h)},l.stream=function(h){return t&&e===h?t:t=By([n.stream(e=h),i.stream(h),s.stream(h)])},l.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},l.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),l.translate(n.translate())):n.scale()},l.translate=function(h){if(!arguments.length)return n.translate();var g=n.scale(),p=+h[0],m=+h[1];return r=n.translate(h).clipExtent([[p-.455*g,m-.238*g],[p+.455*g,m+.238*g]]).stream(c),a=i.translate([p-.307*g,m+.201*g]).clipExtent([[p-.425*g+ht,m+.12*g+ht],[p-.214*g-ht,m+.234*g-ht]]).stream(c),f=s.translate([p-.205*g,m+.212*g]).clipExtent([[p-.214*g+ht,m+.166*g+ht],[p-.115*g-ht,m+.234*g-ht]]).stream(c),d()},l.fitExtent=function(h,g){return Zf(l,h,g)},l.fitSize=function(h,g){return qd(l,h,g)},l.fitWidth=function(h,g){return Wd(l,h,g)},l.fitHeight=function(h,g){return Vd(l,h,g)};function d(){return t=e=null,l}return l.scale(1070)}function Xd(t){return function(e,n){var r=dt(e),i=dt(n),a=t(r*i);return a===1/0?[2,0]:[a*i*ct(e),a*ct(n)]}}function hi(t){return function(e,n){var r=re(e*e+n*n),i=t(r),a=ct(i),s=dt(i);return[on(e*a,r*s),we(r&&n*a/r)]}}var Gd=Xd(function(t){return re(2/(1+t))});Gd.invert=hi(function(t){return 2*we(t/2)});function Uy(){return An(Gd).scale(124.75).clipAngle(180-.001)}var Zd=Xd(function(t){return(t=kd(t))&&t/ct(t)});Zd.invert=hi(function(t){return t});function zy(){return An(Zd).scale(79.4188).clipAngle(180-.001)}function lo(t,e){return[t,xa(Xf((Nt+e)/2))]}lo.invert=function(t,e){return[t,2*Cr(Td(e))-Nt]};function jy(){return Jd(lo).scale(961/fe)}function Jd(t){var e=An(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,f,u,c;e.scale=function(d){return arguments.length?(r(d),l()):r()},e.translate=function(d){return arguments.length?(i(d),l()):i()},e.center=function(d){return arguments.length?(n(d),l()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=f=u=c=null:(s=+d[0][0],f=+d[0][1],u=+d[1][0],c=+d[1][1]),l()):s==null?null:[[s,f],[u,c]]};function l(){var d=gt*r(),h=e(fy(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===lo?[[Math.max(h[0]-d,s),f],[Math.min(h[0]+d,u),c]]:[[s,Math.max(h[1]-d,f)],[u,Math.min(h[1]+d,c)]])}return l()}function Ui(t){return Xf((Nt+t)/2)}function qy(t,e){var n=dt(t),r=t===e?ct(t):xa(n/dt(e))/xa(Ui(e)/Ui(t)),i=n*ns(Ui(t),r)/r;if(!r)return lo;function a(s,f){i>0?f<-Nt+ht&&(f=-Nt+ht):f>Nt-ht&&(f=Nt-ht);var u=i/ns(Ui(f),r);return[u*ct(r*s),i-u*dt(r*s)]}return a.invert=function(s,f){var u=i-f,c=me(r)*re(s*s+u*u),l=on(s,_t(u))*me(u);return u*r<0&&(l-=gt*me(s)*me(u)),[l/r,2*Cr(ns(i/c,1/r))-Nt]},a}function Wy(){return Jf(qy).scale(109.5).parallels([30,30])}function Fa(t,e){return[t,e]}Fa.invert=Fa;function Vy(){return An(Fa).scale(152.63)}function Yy(t,e){var n=dt(t),r=t===e?ct(t):(n-dt(e))/(e-t),i=n/r+t;if(_t(r)<ht)return Fa;function a(s,f){var u=i-f,c=r*s;return[u*ct(c),i-u*dt(c)]}return a.invert=function(s,f){var u=i-f,c=on(s,_t(u))*me(u);return u*r<0&&(c-=gt*me(s)*me(u)),[c/r,i-me(r)*re(s*s+u*u)]},a}function Hy(){return Jf(Yy).scale(131.154).center([0,13.9389])}var Xr=1.340264,Gr=-.081106,Zr=893e-6,Jr=.003796,Pa=re(3)/2,Xy=12;function Kd(t,e){var n=we(Pa*ct(e)),r=n*n,i=r*r*r;return[t*dt(n)/(Pa*(Xr+3*Gr*r+i*(7*Zr+9*Jr*r))),n*(Xr+Gr*r+i*(Zr+Jr*r))]}Kd.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,f,u;a<Xy&&(f=n*(Xr+Gr*r+i*(Zr+Jr*r))-e,u=Xr+3*Gr*r+i*(7*Zr+9*Jr*r),n-=s=f/u,r=n*n,i=r*r*r,!(_t(s)<xd));++a);return[Pa*t*(Xr+3*Gr*r+i*(7*Zr+9*Jr*r))/dt(n),we(ct(n)/Pa)]};function Gy(){return An(Kd).scale(177.158)}function Qd(t,e){var n=dt(e),r=dt(t)*n;return[n*ct(t)/r,ct(e)/r]}Qd.invert=hi(Cr);function Zy(){return An(Qd).scale(144.049).clipAngle(60)}function t0(t,e){return[dt(e)*ct(t),ct(e)]}t0.invert=hi(we);function Jy(){return An(t0).scale(249.5).clipAngle(90+ht)}function e0(t,e){var n=dt(e),r=1+dt(t)*n;return[n*ct(t)/r,ct(e)/r]}e0.invert=hi(function(t){return 2*Cr(t)});function Ky(){return An(e0).scale(250).clipAngle(142)}function n0(t,e){return[xa(Xf((Nt+e)/2)),-t]}n0.invert=function(t,e){return[-e,2*Cr(Td(t))-Nt]};function Qy(){var t=Jd(n0),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function He(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ho(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gf=Symbol("implicit");function Kf(){var t=new zn,e=[],n=[],r=gf;function i(a){let s=t.get(a);if(s===void 0){if(r!==gf)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new zn;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Kf(e,n).unknown(r)},He.apply(i,arguments),i}function go(){var t=Kf().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,f=!1,u=0,c=0,l=.5;delete t.unknown;function d(){var h=e().length,g=i<r,p=g?i:r,m=g?r:i;a=(m-p)/Math.max(1,h-u+c*2),f&&(a=Math.floor(a)),p+=(m-p-a*(h-u))*l,s=a*(1-u),f&&(p=Math.round(p),s=Math.round(s));var b=qs(h).map(function(y){return p+a*y});return n(g?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(f=!!h,d()):f},t.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),d()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(l=Math.max(0,Math.min(1,h)),d()):l},t.copy=function(){return go(e(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(l)},He.apply(d(),arguments)}function r0(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return r0(e())},t}function t_(){return r0(go.apply(null,arguments).paddingInner(1))}function e_(t){return function(){return t}}function mf(t){return+t}var Wc=[0,1];function be(t){return t}function pf(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:e_(isNaN(e)?NaN:.5)}function n_(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function r_(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=pf(i,r),a=n(s,a)):(r=pf(r,i),a=n(a,s)),function(f){return a(r(f))}}function i_(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=pf(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(f){var u=$f(t,f,1,r)-1;return a[u](i[u](f))}}function di(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mo(){var t=Wc,e=Wc,n=Ar,r,i,a,s=be,f,u,c;function l(){var h=Math.min(t.length,e.length);return s!==be&&(s=n_(t[0],t[h-1])),f=h>2?i_:r_,u=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(u||(u=f(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=f(e,t.map(r),Mn)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,mf),l()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=Vf,l()},d.clamp=function(h){return arguments.length?(s=h?!0:be,l()):s!==be},d.interpolate=function(h){return arguments.length?(n=h,l()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,g){return r=h,i=g,l()}}function i0(){return mo()(be,be)}function a_(t,e,n,r){var i=zs(t,e,n),a;switch(r=ti(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=oy(i,s))&&(r.precision=a),Sd(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=sy(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ay(i))&&(r.precision=a-(r.type==="%")*2);break}}return Er(r)}function gi(t){var e=t.domain;return t.ticks=function(n){var r=e();return ba(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return a_(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],f=r[a],u,c,l=10;for(f<s&&(c=s,s=f,f=c,c=i,i=a,a=c);l-- >0;){if(c=Us(s,f,n),c===u)return r[i]=s,r[a]=f,e(r);if(c>0)s=Math.floor(s/c)*c,f=Math.ceil(f/c)*c;else if(c<0)s=Math.ceil(s*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function Qf(){var t=i0();return t.copy=function(){return di(t,Qf())},He.apply(t,arguments),gi(t)}function a0(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,mf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return a0(t).unknown(e)},t=arguments.length?Array.from(t,mf):[0,1],gi(n)}function o0(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Vc(t){return Math.log(t)}function Yc(t){return Math.exp(t)}function o_(t){return-Math.log(-t)}function s_(t){return-Math.exp(-t)}function f_(t){return isFinite(t)?+("1e"+t):t<0?0:t}function u_(t){return t===10?f_:t===Math.E?Math.exp:e=>Math.pow(t,e)}function c_(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Hc(t){return(e,n)=>-t(-e,n)}function s0(t){const e=t(Vc,Yc),n=e.domain;let r=10,i,a;function s(){return i=c_(r),a=u_(r),n()[0]<0?(i=Hc(i),a=Hc(a),t(o_,s_)):t(Vc,Yc),e}return e.base=function(f){return arguments.length?(r=+f,s()):r},e.domain=function(f){return arguments.length?(n(f),s()):n()},e.ticks=f=>{const u=n();let c=u[0],l=u[u.length-1];const d=l<c;d&&([c,l]=[l,c]);let h=i(c),g=i(l),p,m;const b=f==null?10:+f;let y=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(p=1;p<r;++p)if(m=h<0?p/a(-h):p*a(h),!(m<c)){if(m>l)break;y.push(m)}}else for(;h<=g;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/a(-h):p*a(h),!(m<c)){if(m>l)break;y.push(m)}y.length*2<b&&(y=ba(c,l,b))}else y=ba(h,g,Math.min(g-h,b)).map(a);return d?y.reverse():y},e.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ti(u)).precision==null&&(u.trim=!0),u=Er(u)),f===1/0)return u;const c=Math.max(1,r*f/e.ticks().length);return l=>{let d=l/a(Math.round(i(l)));return d*r<r-.5&&(d*=r),d<=c?u(l):""}},e.nice=()=>n(o0(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),e}function f0(){const t=s0(mo()).domain([1,10]);return t.copy=()=>di(t,f0()).base(t.base()),He.apply(t,arguments),t}function Xc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Gc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function u0(t){var e=1,n=t(Xc(e),Gc(e));return n.constant=function(r){return arguments.length?t(Xc(e=+r),Gc(e)):e},gi(n)}function c0(){var t=u0(mo());return t.copy=function(){return di(t,c0()).constant(t.constant())},He.apply(t,arguments)}function Zc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function l_(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function h_(t){return t<0?-t*t:t*t}function l0(t){var e=t(be,be),n=1;function r(){return n===1?t(be,be):n===.5?t(l_,h_):t(Zc(n),Zc(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gi(e)}function h0(){var t=l0(mo());return t.copy=function(){return di(t,h0()).exponent(t.exponent())},He.apply(t,arguments),t}function d0(){var t=[],e=[],n=[],r;function i(){var s=0,f=Math.max(1,e.length);for(n=new Array(f-1);++s<f;)n[s-1]=u2(t,s/f);return a}function a(s){return s==null||isNaN(s=+s)?r:e[$f(n,s)]}return a.invertExtent=function(s){var f=e.indexOf(s);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let f of s)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(ne),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return d0().domain(t).range(e).unknown(r)},He.apply(a,arguments)}function g0(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[$f(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return g0().domain(t).range(e).unknown(n)},He.apply(i,arguments)}const ss=new Date,fs=new Date;function Ft(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),f=i.ceil(a);return a-s<f-a?s:f},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,f)=>{const u=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<s)||!(f>0))return u;let c;do u.push(c=new Date(+a)),e(a,f),t(a);while(c<a&&a<s);return u},i.filter=a=>Ft(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,f)=>{if(s>=s)if(f<0)for(;++f<=0;)for(;e(s,-1),!a(s););else for(;--f>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(ss.setTime(+a),fs.setTime(+s),t(ss),t(fs),Math.floor(n(ss,fs))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ra=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ra.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ra);Ra.range;const rn=1e3,ye=rn*60,an=ye*60,sn=an*24,tu=sn*7,Jc=sn*30,us=sn*365,Te=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*rn)},(t,e)=>(e-t)/rn,t=>t.getUTCSeconds());Te.range;const mi=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rn)},(t,e)=>{t.setTime(+t+e*ye)},(t,e)=>(e-t)/ye,t=>t.getMinutes());mi.range;const pi=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ye)},(t,e)=>(e-t)/ye,t=>t.getUTCMinutes());pi.range;const bi=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rn-t.getMinutes()*ye)},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getHours());bi.range;const yi=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getUTCHours());yi.range;const Hn=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ye)/sn,t=>t.getDate()-1);Hn.range;const po=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sn,t=>t.getUTCDate()-1);po.range;const bo=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sn,t=>Math.floor(t/sn));bo.range;function Xn(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ye)/tu)}const br=Xn(0),ni=Xn(1),m0=Xn(2),p0=Xn(3),Wn=Xn(4),b0=Xn(5),y0=Xn(6);br.range;ni.range;m0.range;p0.range;Wn.range;b0.range;y0.range;function Gn(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tu)}const yr=Gn(0),ri=Gn(1),_0=Gn(2),w0=Gn(3),Vn=Gn(4),v0=Gn(5),M0=Gn(6);yr.range;ri.range;_0.range;w0.range;Vn.range;v0.range;M0.range;const _i=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_i.range;const wi=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wi.range;const Ae=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ae.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ae.range;const Ee=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ee.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ee.range;function S0(t,e,n,r,i,a){const s=[[Te,1,rn],[Te,5,5*rn],[Te,15,15*rn],[Te,30,30*rn],[a,1,ye],[a,5,5*ye],[a,15,15*ye],[a,30,30*ye],[i,1,an],[i,3,3*an],[i,6,6*an],[i,12,12*an],[r,1,sn],[r,2,2*sn],[n,1,tu],[e,1,Jc],[e,3,3*Jc],[t,1,us]];function f(c,l,d){const h=l<c;h&&([c,l]=[l,c]);const g=d&&typeof d.range=="function"?d:u(c,l,d),p=g?g.range(c,+l+1):[];return h?p.reverse():p}function u(c,l,d){const h=Math.abs(l-c)/d,g=ao(([,,b])=>b).right(s,h);if(g===s.length)return t.every(zs(c/us,l/us,d));if(g===0)return Ra.every(Math.max(zs(c,l,d),1));const[p,m]=s[h/s[g-1][2]<s[g][2]/h?g-1:g];return p.every(m)}return[f,u]}const[d_,g_]=S0(Ee,wi,yr,bo,yi,pi),[m_,p_]=S0(Ae,_i,br,Hn,bi,mi);function cs(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ls(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function b_(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,f=t.months,u=t.shortMonths,c=Pr(i),l=Rr(i),d=Pr(a),h=Rr(a),g=Pr(s),p=Rr(s),m=Pr(f),b=Rr(f),y=Pr(u),_=Rr(u),M={a:V,A:z,b:X,B,c:null,d:rl,e:rl,f:U_,g:Z_,G:K_,H:R_,I:B_,j:$_,L:x0,m:z_,M:j_,p:$,q:U,Q:ol,s:sl,S:q_,u:W_,U:V_,V:Y_,w:H_,W:X_,x:null,X:null,y:G_,Y:J_,Z:Q_,"%":al},w={a:Y,A:D,b:tt,B:nt,c:null,d:il,e:il,f:r6,g:d6,G:m6,H:t6,I:e6,j:n6,L:k0,m:i6,M:a6,p:j,q:Q,Q:ol,s:sl,S:o6,u:s6,U:f6,V:u6,w:c6,W:l6,x:null,X:null,y:h6,Y:g6,Z:p6,"%":al},v={a:I,A,b:E,B:P,c:R,d:el,e:el,f:L_,g:tl,G:Qc,H:nl,I:nl,j:C_,L:I_,m:E_,M:N_,p:N,q:A_,Q:F_,s:P_,S:D_,u:M_,U:S_,V:x_,w:v_,W:T_,x,X:O,y:tl,Y:Qc,Z:k_,"%":O_};M.x=S(n,M),M.X=S(r,M),M.c=S(e,M),w.x=S(n,w),w.X=S(r,w),w.c=S(e,w);function S(F,H){return function(G){var L=[],mt=-1,rt=0,yt=F.length,St,Z,wt;for(G instanceof Date||(G=new Date(+G));++mt<yt;)F.charCodeAt(mt)===37&&(L.push(F.slice(rt,mt)),(Z=Kc[St=F.charAt(++mt)])!=null?St=F.charAt(++mt):Z=St==="e"?" ":"0",(wt=H[St])&&(St=wt(G,Z)),L.push(St),rt=mt+1);return L.push(F.slice(rt,mt)),L.join("")}}function k(F,H){return function(G){var L=Fr(1900,void 0,1),mt=T(L,F,G+="",0),rt,yt;if(mt!=G.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(H&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(rt=ls(Fr(L.y,0,1)),yt=rt.getUTCDay(),rt=yt>4||yt===0?ri.ceil(rt):ri(rt),rt=po.offset(rt,(L.V-1)*7),L.y=rt.getUTCFullYear(),L.m=rt.getUTCMonth(),L.d=rt.getUTCDate()+(L.w+6)%7):(rt=cs(Fr(L.y,0,1)),yt=rt.getDay(),rt=yt>4||yt===0?ni.ceil(rt):ni(rt),rt=Hn.offset(rt,(L.V-1)*7),L.y=rt.getFullYear(),L.m=rt.getMonth(),L.d=rt.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),yt="Z"in L?ls(Fr(L.y,0,1)).getUTCDay():cs(Fr(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(yt+5)%7:L.w+L.U*7-(yt+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,ls(L)):cs(L)}}function T(F,H,G,L){for(var mt=0,rt=H.length,yt=G.length,St,Z;mt<rt;){if(L>=yt)return-1;if(St=H.charCodeAt(mt++),St===37){if(St=H.charAt(mt++),Z=v[St in Kc?H.charAt(mt++):St],!Z||(L=Z(F,G,L))<0)return-1}else if(St!=G.charCodeAt(L++))return-1}return L}function N(F,H,G){var L=c.exec(H.slice(G));return L?(F.p=l.get(L[0].toLowerCase()),G+L[0].length):-1}function I(F,H,G){var L=g.exec(H.slice(G));return L?(F.w=p.get(L[0].toLowerCase()),G+L[0].length):-1}function A(F,H,G){var L=d.exec(H.slice(G));return L?(F.w=h.get(L[0].toLowerCase()),G+L[0].length):-1}function E(F,H,G){var L=y.exec(H.slice(G));return L?(F.m=_.get(L[0].toLowerCase()),G+L[0].length):-1}function P(F,H,G){var L=m.exec(H.slice(G));return L?(F.m=b.get(L[0].toLowerCase()),G+L[0].length):-1}function R(F,H,G){return T(F,e,H,G)}function x(F,H,G){return T(F,n,H,G)}function O(F,H,G){return T(F,r,H,G)}function V(F){return s[F.getDay()]}function z(F){return a[F.getDay()]}function X(F){return u[F.getMonth()]}function B(F){return f[F.getMonth()]}function $(F){return i[+(F.getHours()>=12)]}function U(F){return 1+~~(F.getMonth()/3)}function Y(F){return s[F.getUTCDay()]}function D(F){return a[F.getUTCDay()]}function tt(F){return u[F.getUTCMonth()]}function nt(F){return f[F.getUTCMonth()]}function j(F){return i[+(F.getUTCHours()>=12)]}function Q(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var H=S(F+="",M);return H.toString=function(){return F},H},parse:function(F){var H=k(F+="",!1);return H.toString=function(){return F},H},utcFormat:function(F){var H=S(F+="",w);return H.toString=function(){return F},H},utcParse:function(F){var H=k(F+="",!0);return H.toString=function(){return F},H}}}var Kc={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,y_=/^%/,__=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function w_(t){return t.replace(__,"\\$&")}function Pr(t){return new RegExp("^(?:"+t.map(w_).join("|")+")","i")}function Rr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function v_(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function M_(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function S_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function x_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function T_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Qc(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tl(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function k_(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A_(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function E_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function el(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function C_(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nl(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function N_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function D_(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function I_(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function L_(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function O_(t,e,n){var r=y_.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function F_(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function P_(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rl(t,e){return bt(t.getDate(),e,2)}function R_(t,e){return bt(t.getHours(),e,2)}function B_(t,e){return bt(t.getHours()%12||12,e,2)}function $_(t,e){return bt(1+Hn.count(Ae(t),t),e,3)}function x0(t,e){return bt(t.getMilliseconds(),e,3)}function U_(t,e){return x0(t,e)+"000"}function z_(t,e){return bt(t.getMonth()+1,e,2)}function j_(t,e){return bt(t.getMinutes(),e,2)}function q_(t,e){return bt(t.getSeconds(),e,2)}function W_(t){var e=t.getDay();return e===0?7:e}function V_(t,e){return bt(br.count(Ae(t)-1,t),e,2)}function T0(t){var e=t.getDay();return e>=4||e===0?Wn(t):Wn.ceil(t)}function Y_(t,e){return t=T0(t),bt(Wn.count(Ae(t),t)+(Ae(t).getDay()===4),e,2)}function H_(t){return t.getDay()}function X_(t,e){return bt(ni.count(Ae(t)-1,t),e,2)}function G_(t,e){return bt(t.getFullYear()%100,e,2)}function Z_(t,e){return t=T0(t),bt(t.getFullYear()%100,e,2)}function J_(t,e){return bt(t.getFullYear()%1e4,e,4)}function K_(t,e){var n=t.getDay();return t=n>=4||n===0?Wn(t):Wn.ceil(t),bt(t.getFullYear()%1e4,e,4)}function Q_(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function il(t,e){return bt(t.getUTCDate(),e,2)}function t6(t,e){return bt(t.getUTCHours(),e,2)}function e6(t,e){return bt(t.getUTCHours()%12||12,e,2)}function n6(t,e){return bt(1+po.count(Ee(t),t),e,3)}function k0(t,e){return bt(t.getUTCMilliseconds(),e,3)}function r6(t,e){return k0(t,e)+"000"}function i6(t,e){return bt(t.getUTCMonth()+1,e,2)}function a6(t,e){return bt(t.getUTCMinutes(),e,2)}function o6(t,e){return bt(t.getUTCSeconds(),e,2)}function s6(t){var e=t.getUTCDay();return e===0?7:e}function f6(t,e){return bt(yr.count(Ee(t)-1,t),e,2)}function A0(t){var e=t.getUTCDay();return e>=4||e===0?Vn(t):Vn.ceil(t)}function u6(t,e){return t=A0(t),bt(Vn.count(Ee(t),t)+(Ee(t).getUTCDay()===4),e,2)}function c6(t){return t.getUTCDay()}function l6(t,e){return bt(ri.count(Ee(t)-1,t),e,2)}function h6(t,e){return bt(t.getUTCFullYear()%100,e,2)}function d6(t,e){return t=A0(t),bt(t.getUTCFullYear()%100,e,2)}function g6(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function m6(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Vn(t):Vn.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function p6(){return"+0000"}function al(){return"%"}function ol(t){return+t}function sl(t){return Math.floor(+t/1e3)}var er,eu,vi;b6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b6(t){return er=b_(t),eu=er.format,er.parse,vi=er.utcFormat,er.utcParse,er}function y6(t){return new Date(t)}function _6(t){return t instanceof Date?+t:+new Date(+t)}function nu(t,e,n,r,i,a,s,f,u,c){var l=i0(),d=l.invert,h=l.domain,g=c(".%L"),p=c(":%S"),m=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),_=c("%b %d"),M=c("%B"),w=c("%Y");function v(S){return(u(S)<S?g:f(S)<S?p:s(S)<S?m:a(S)<S?b:r(S)<S?i(S)<S?y:_:n(S)<S?M:w)(S)}return l.invert=function(S){return new Date(d(S))},l.domain=function(S){return arguments.length?h(Array.from(S,_6)):h().map(y6)},l.ticks=function(S){var k=h();return t(k[0],k[k.length-1],S??10)},l.tickFormat=function(S,k){return k==null?v:c(k)},l.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=e(k[0],k[k.length-1],S??10)),S?h(o0(k,S)):l},l.copy=function(){return di(l,nu(t,e,n,r,i,a,s,f,u,c))},l}function w6(){return He.apply(nu(m_,p_,Ae,_i,br,Hn,bi,mi,Te,eu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function v6(){return He.apply(nu(d_,g_,Ee,wi,yr,po,yi,pi,Te,vi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _o(){var t=0,e=.5,n=1,r=1,i,a,s,f,u,c=be,l,d=!1,h;function g(m){return isNaN(m=+m)?h:(m=.5+((m=+l(m))-a)*(r*m<r*a?f:u),c(d?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([t,e,n]=m,i=l(t=+t),a=l(e=+e),s=l(n=+n),f=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(m){return arguments.length?(d=!!m,g):d},g.interpolator=function(m){return arguments.length?(c=m,g):c};function p(m){return function(b){var y,_,M;return arguments.length?([y,_,M]=b,c=fo(m,[y,_,M]),g):[c(0),c(.5),c(1)]}}return g.range=p(Ar),g.rangeRound=p(Vf),g.unknown=function(m){return arguments.length?(h=m,g):h},function(m){return l=m,i=m(t),a=m(e),s=m(n),f=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g}}function E0(){var t=gi(_o()(be));return t.copy=function(){return yo(t,E0())},ho.apply(t,arguments)}function C0(){var t=s0(_o()).domain([.1,1,10]);return t.copy=function(){return yo(t,C0()).base(t.base())},ho.apply(t,arguments)}function N0(){var t=u0(_o());return t.copy=function(){return yo(t,N0()).constant(t.constant())},ho.apply(t,arguments)}function D0(){var t=l0(_o());return t.copy=function(){return yo(t,D0()).exponent(t.exponent())},ho.apply(t,arguments)}function lt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const M6=lt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),S6=lt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),x6=lt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),T6=lt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),k6=lt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),A6=lt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),E6=lt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),C6=lt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),N6=lt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),D6=lt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),I6=lt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),kt=t=>jp(t[t.length-1]);var I0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(lt);const L0=kt(I0);var O0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(lt);const F0=kt(O0);var P0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(lt);const R0=kt(P0);var B0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(lt);const $0=kt(B0);var bf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(lt);const Ba=kt(bf);var U0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(lt);const z0=kt(U0);var yf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(lt);const $a=kt(yf);var j0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(lt);const q0=kt(j0);var W0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(lt);const V0=kt(W0);var Y0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(lt);const H0=kt(Y0);var X0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(lt);const G0=kt(X0);var Z0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(lt);const J0=kt(Z0);var K0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(lt);const Q0=kt(K0);var t1=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(lt);const e1=kt(t1);var n1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(lt);const r1=kt(n1);var i1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(lt);const a1=kt(i1);var o1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(lt);const s1=kt(o1);var f1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(lt);const u1=kt(f1);var c1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(lt);const l1=kt(c1);var h1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(lt);const d1=kt(h1);var g1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(lt);const m1=kt(g1);var p1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(lt);const b1=kt(p1);var y1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(lt);const _1=kt(y1);var w1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(lt);const v1=kt(w1);var M1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(lt);const S1=kt(M1);var x1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(lt);const T1=kt(x1);var k1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(lt);const A1=kt(k1);function E1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const C1=Yf(ze(300,.5,0),ze(-240,.5,1));var N1=Yf(ze(-100,.75,.35),ze(80,1.5,.8)),D1=Yf(ze(260,.75,.35),ze(80,1.5,.8)),zi=ze();function I1(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return zi.h=360*t-100,zi.s=1.5-1.5*e,zi.l=.8-.9*e,zi+""}var ji=la(),L6=Math.PI/3,O6=Math.PI*2/3;function L1(t){var e;return t=(.5-t)*Math.PI,ji.r=255*(e=Math.sin(t))*e,ji.g=255*(e=Math.sin(t+L6))*e,ji.b=255*(e=Math.sin(t+O6))*e,ji+""}function O1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function wo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const F1=wo(lt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var P1=wo(lt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),R1=wo(lt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),B1=wo(lt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function nr(t){return function(){return t}}const $1=Math.cos,ru=Math.min,Ua=Math.sin,Pt=Math.sqrt,fl=1e-12,za=Math.PI,vo=2*za;function F6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vd(e)}function P6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U1(t){this._context=t}U1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Mo(t){return new U1(t)}function R6(t){return t[0]}function B6(t){return t[1]}function $6(t,e){var n=nr(!0),r=null,i=Mo,a=null,s=F6(f);t=typeof t=="function"?t:t===void 0?R6:nr(t),e=typeof e=="function"?e:e===void 0?B6:nr(e);function f(u){var c,l=(u=P6(u)).length,d,h=!1,g;for(r==null&&(a=i(g=s())),c=0;c<=l;++c)!(c<l&&n(d=u[c],c,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,u),+e(d,c,u));if(g)return a=null,g+""||null}return f.x=function(u){return arguments.length?(t=typeof u=="function"?u:nr(+u),f):t},f.y=function(u){return arguments.length?(e=typeof u=="function"?u:nr(+u),f):e},f.defined=function(u){return arguments.length?(n=typeof u=="function"?u:nr(!!u),f):n},f.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),f):r},f}class z1{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function U6(t){return new z1(t,!0)}function z6(t){return new z1(t,!1)}const j6=Pt(3),j1={draw(t,e){const n=Pt(e+ru(e/28,.75))*.59436,r=n/2,i=r*j6;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},ii={draw(t,e){const n=Pt(e/za);t.moveTo(n,0),t.arc(0,0,n,0,vo)}},q1={draw(t,e){const n=Pt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},W1=Pt(1/3),q6=W1*2,V1={draw(t,e){const n=Pt(e/q6),r=n*W1;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Y1={draw(t,e){const n=Pt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},H1={draw(t,e){const n=Pt(e-ru(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},X1={draw(t,e){const n=Pt(e),r=-n/2;t.rect(r,r,n,n)}},G1={draw(t,e){const n=Pt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},W6=.8908130915292852,Z1=Ua(za/10)/Ua(7*za/10),V6=Ua(vo/10)*Z1,Y6=-$1(vo/10)*Z1,J1={draw(t,e){const n=Pt(e*W6),r=V6*n,i=Y6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=vo*a/5,f=$1(s),u=Ua(s);t.lineTo(u*n,-f*n),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},hs=Pt(3),K1={draw(t,e){const n=-Pt(e/(hs*3));t.moveTo(0,n*2),t.lineTo(-hs*n,-n),t.lineTo(hs*n,-n),t.closePath()}},H6=Pt(3),Q1={draw(t,e){const n=Pt(e)*.6824,r=n/2,i=n*H6/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},le=-.5,he=Pt(3)/2,_f=1/Pt(12),X6=(_f/2+1)*3,tg={draw(t,e){const n=Pt(e/X6),r=n/2,i=n*_f,a=r,s=n*_f+n,f=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(f,u),t.lineTo(le*r-he*i,he*r+le*i),t.lineTo(le*a-he*s,he*a+le*s),t.lineTo(le*f-he*u,he*f+le*u),t.lineTo(le*r+he*i,le*i-he*r),t.lineTo(le*a+he*s,le*s-he*a),t.lineTo(le*f+he*u,le*u-he*f),t.closePath()}},eg={draw(t,e){const n=Pt(e-ru(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},G6=[ii,q1,V1,X1,J1,K1,tg],Z6=[ii,H1,eg,Q1,j1,G1,Y1];function xn(){}function ja(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function So(t){this._context=t}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ja(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ja(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J6(t){return new So(t)}function ng(t){this._context=t}ng.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ja(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K6(t){return new ng(t)}function rg(t){this._context=t}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ja(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q6(t){return new rg(t)}function ig(t,e){this._basis=new So(t),this._beta=e}ig.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,s=e[n]-i,f=-1,u;++f<=n;)u=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+u*a),this._beta*e[f]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const t3=function t(e){function n(r){return e===1?new So(r):new ig(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function qa(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function iu(t,e){this._context=t,this._k=(1-e)/6}iu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const e3=function t(e){function n(r){return new iu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function au(t,e){this._context=t,this._k=(1-e)/6}au.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const n3=function t(e){function n(r){return new au(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ou(t,e){this._context=t,this._k=(1-e)/6}ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const r3=function t(e){function n(r){return new ou(r,e)}return n.tension=function(r){return t(+r)},n}(0);function su(t,e,n){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>fl){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>fl){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function ag(t,e){this._context=t,this._alpha=e}ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const i3=function t(e){function n(r){return e?new ag(r,e):new iu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function og(t,e){this._context=t,this._alpha=e}og.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const a3=function t(e){function n(r){return e?new og(r,e):new au(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function sg(t,e){this._context=t,this._alpha=e}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const o3=function t(e){function n(r){return e?new sg(r,e):new ou(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function fg(t){this._context=t}fg.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function s3(t){return new fg(t)}function ul(t){return t<0?-1:1}function cl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),f=(a*i+s*r)/(r+i);return(ul(a)+ul(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(f))||0}function ll(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ds(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,f=(a-r)/3;t._context.bezierCurveTo(r+f,i+f*e,a-f,s-f*n,a,s)}function Wa(t){this._context=t}Wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ds(this,this._t0,ll(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ds(this,ll(this,n=cl(this,t,e)),n);break;default:ds(this,this._t0,n=cl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ug(t){this._context=new cg(t)}(ug.prototype=Object.create(Wa.prototype)).point=function(t,e){Wa.prototype.point.call(this,e,t)};function cg(t){this._context=t}cg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function f3(t){return new Wa(t)}function u3(t){return new ug(t)}function lg(t){this._context=t}lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hl(t),i=hl(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hl(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function c3(t){return new lg(t)}function xo(t,e){this._context=t,this._t=e}xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function l3(t){return new xo(t,.5)}function h3(t){return new xo(t,0)}function d3(t){return new xo(t,1)}function Tn(t){return t!=null&&!Number.isNaN(t)}function je(t,e){return+Tn(e)-+Tn(t)||ne(t,e)}function Va(t,e){return+Tn(e)-+Tn(t)||li(t,e)}function fu(t){return t!=null&&`${t}`!=""}function hg(t){return isFinite(t)?t:NaN}function To(t){return t>0&&isFinite(t)?t:NaN}function uu(t){return t<0&&isFinite(t)?t:NaN}function g3(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${m3(t.getUTCFullYear())}-${en(t.getUTCMonth()+1,2)}-${en(t.getUTCDate(),2)}${n||r||i||a?`T${en(n,2)}:${en(r,2)}${i||a?`:${en(i,2)}${a?`.${en(a,3)}`:""}`:""}Z`:""}`}function m3(t){return t<0?`-${en(-t,6)}`:t>9999?`+${en(t,6)}`:en(t,4)}function en(t,e){return`${t}`.padStart(e,"0")}const p3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function dg(t,e){return p3.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function _r(t){if(t==null)return;const e=t[0],n=t[t.length-1];return li(e,n)}const sr=1e3,mn=sr*60,pn=mn*60,qe=pn*24,Oe=qe*7,Bn=qe*30,cn=qe*365,gs=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",sr],["5 seconds",5*sr],["15 seconds",15*sr],["30 seconds",30*sr],["minute",mn],["5 minutes",5*mn],["15 minutes",15*mn],["30 minutes",30*mn],["hour",pn],["3 hours",3*pn],["6 hours",6*pn],["12 hours",12*pn],["day",qe],["2 days",2*qe],["week",Oe],["2 weeks",2*Oe],["month",Bn],["3 months",3*Bn],["6 months",6*Bn],["year",cn],["2 years",2*cn],["5 years",5*cn],["10 years",10*cn],["20 years",20*cn],["50 years",50*cn],["100 years",100*cn]],cu=new Map([["second",sr],["minute",mn],["hour",pn],["day",qe],["monday",Oe],["tuesday",Oe],["wednesday",Oe],["thursday",Oe],["friday",Oe],["saturday",Oe],["sunday",Oe],["week",Oe],["month",Bn],["year",cn]]),gg=new Map([["second",Te],["minute",mi],["hour",bi],["day",Hn],["monday",ni],["tuesday",m0],["wednesday",p0],["thursday",Wn],["friday",b0],["saturday",y0],["sunday",br],["week",br],["month",_i],["year",Ae]]),lu=new Map([["second",Te],["minute",pi],["hour",yi],["day",bo],["monday",ri],["tuesday",_0],["wednesday",w0],["thursday",Vn],["friday",v0],["saturday",M0],["sunday",yr],["week",yr],["month",wi],["year",Ee]]),Mi=Symbol("intervalDuration"),ko=Symbol("intervalType");for(const[t,e]of gg)e[Mi]=cu.get(t),e[ko]="time";for(const[t,e]of lu)e[Mi]=cu.get(t),e[ko]="utc";const Vr=[["year",Ee,"utc"],["month",wi,"utc"],["day",bo,"utc",6*Bn],["hour",yi,"utc",3*qe],["minute",pi,"utc",6*pn],["second",Te,"utc",30*mn]],oa=[["year",Ae,"time"],["month",_i,"time"],["day",Hn,"time",6*Bn],["hour",bi,"time",3*qe],["minute",mi,"time",6*pn],["second",Te,"time",30*mn]],b3=[Vr[0],oa[0],Vr[1],oa[1],Vr[2],oa[2],...Vr.slice(3)];function mg(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=lu.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function pg(t){return yg(mg(t),"time")}function bg(t){return yg(mg(t),"utc")}function yg([t,e],n){let r=(n==="time"?gg:lu).get(t);return e>1&&(r=r.every(e),r[Mi]=cu.get(t)*e,r[ko]=n),r}function dl(t,e){if(!(e>1))return;const n=t[Mi];if(!gs.some(([,i])=>i===n)||n%qe===0&&qe<n&&n<Bn)return;const[r]=gs[ao(([,i])=>Math.log(i)).center(gs,Math.log(n*e))];return(t[ko]==="time"?pg:bg)(r)}function gl(t,e,n){const r=e==="time"?eu:vi;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=y3(n);switch(t){case"millisecond":return rr(r(".%L"),r(":%M:%S"),i);case"second":return rr(r(":%S"),r("%-I:%M"),i);case"minute":return rr(r("%-I:%M"),r("%p"),i);case"hour":return rr(r("%-I %p"),r("%b %-d"),i);case"day":return rr(r("%-d"),r("%b"),i);case"month":return rr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function y3(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function _3(t){return t==="time"?oa:t==="utc"?Vr:b3}function w3(t,e,n){const r=se(d2(e,(i,a)=>Math.abs(a-i)));if(r<1e3)return gl("millisecond","utc",n);for(const[i,a,s,f]of _3(t)){if(r>f||i==="hour"&&!r)break;if(e.every(u=>a.floor(u)>=u))return gl(i,s,n)}}function rr(t,e,n){return(r,i,a)=>{const s=t(r,i),f=e(r,i),u=i-_r(a);return i!==u&&a[u]!==void 0&&f===e(a[u],u)?s:n(s,f)}}const ai=Object.getPrototypeOf(Uint8Array),v3=Object.prototype.toString,_g=Symbol("reindex");function _e(t,e,n){const r=typeof e;return r==="string"?ml(t,wg(e),n):r==="function"?ml(t,e,n):r==="number"||e instanceof Date||r==="boolean"?$t(t,Si(e),n):typeof(e==null?void 0:e.transform)=="function"?pl(e.transform(t),n):M3(pl(e,n),t==null?void 0:t[_g])}function M3(t,e){return t!=null&&e?du(t,e):t}function ml(t,e,n){return $t(t,(n==null?void 0:n.prototype)instanceof ai?S3(e):e,n)}function pl(t,e){return e===void 0?ue(t):t instanceof e?t:e.prototype instanceof ai&&!(t instanceof ai)?e.from(t,hu):e.from(t)}function S3(t){return(e,n)=>hu(t(e,n))}const sa=[null],wg=t=>e=>e[t],vg={transform:En},Me={transform:t=>t},x3=()=>1,T3=()=>!0,Yt=t=>t==null?t:`${t}`,At=t=>t==null?t:+t,Mg=t=>t?t[0]:void 0,k3=t=>t?t[1]:void 0,Si=t=>()=>t;function A3(t){const e=+`${t}`.slice(1)/100;return(n,r)=>ya(n,e,r)}function bn(t){return t instanceof ai?t:$t(t,hu,Float64Array)}function hu(t){return t==null?NaN:Number(t)}function E3(t){return $t(t,C3)}function C3(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?dg(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Yn(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Co(t)?[void 0,t]:[t,void 0]}function Ht(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function Sg(t,e,n){if(t!=null)return Ce(t,e,n)}function Ce(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function ue(t){return t==null||t instanceof Array||t instanceof ai?t:Array.from(t)}function $t(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function oi(t,e=Array){return t instanceof e?t.slice():e.from(t)}function xg({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function N3({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function D3(t){return xg(t)||N3(t)||t.interval!==void 0}function Zn(t){return(t==null?void 0:t.toString)===v3}function Ya(t){return Zn(t)&&(t.type!==void 0||t.domain!==void 0)}function Ao(t){return Zn(t)&&typeof t.transform!="function"}function wr(t){return Ao(t)&&t.value===void 0&&t.channel===void 0}function I3(t,e,n,r=Me){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function xi(t,e){return t===void 0&&e===void 0?[Mg,k3]:[t,e]}function Tg({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Yn(e)),t===void 0&&([t]=Yn(n)),t}function En(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function du(t,e){return $t(e,n=>t[n],t.constructor)}function L3(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function On(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wf(t){let e;return[{transform:()=>e,label:Ti(t)},n=>e=n]}function O3(t){return t==null?[t]:wf(t)}function Ti(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function F3(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return ve(r)||ve(i)?$t(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):$t(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:t.label}}function P3(t,e){const n=kg(e==null?void 0:e.interval,e==null?void 0:e.type);return n?$t(t,n):t}function kg(t,e){const n=gu(t,e);return n&&(r=>Tn(r)?n.floor(r):r)}function gu(t,e){if(t!=null){if(typeof t=="number")return R3(t);if(typeof t=="string")return(e==="time"?pg:bg)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function R3(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>qs(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>qs(Math.ceil(n/e),r/e).map(i=>i*e)}}function ki(t,e){if(t=gu(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function B3(t,e){if(t=ki(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function $3(t){return typeof(t==null?void 0:t.range)=="function"}function Eo(t){return t===void 0||Ao(t)?t:{value:t}}function U3(t){return t==null?null:{transform:e=>_e(e,t,Float64Array),label:Ti(t)}}function Jn(t){return t&&typeof t[Symbol.iterator]=="function"}function Ag(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function bl(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function ve(t){for(const e of t)if(e!=null)return e instanceof Date}function z3(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&dg(e)}function j3(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function q3(t){for(const e of t)if(e!=null)return typeof e=="number"}function ms(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const W3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Co(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||W3.has(t))}function V3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Qt(t){return t==null||si(t)}function si(t){return/^\s*none\s*$/i.test(t)}function Y3(t){return/^\s*round\s*$/i.test(t)}function vf(t,e){return Sg(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function No(t="middle"){return vf(t,"frameAnchor")}function H3(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const a=r[i];n===t?n={...n,[i]:a}:n[i]=a}return n}function X3(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function Eg(t){return Jn(t)?X3(t):t}function Cg(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=Ce(t,"clip",["frame","sphere"])),t}const Be=Symbol("position"),fn=Symbol("color"),Ai=Symbol("radius"),Ei=Symbol("length"),Ci=Symbol("opacity"),Do=Symbol("symbol"),Ng=Symbol("projection"),Et=new Map([["x",Be],["y",Be],["fx",Be],["fy",Be],["r",Ai],["color",fn],["opacity",Ci],["symbol",Do],["length",Ei],["projection",Ng]]);function G3(t){return t===Be||t===Ng}function Z3(t){return t===Be||t===Ai||t===Ei||t===Ci}const J3=Math.sqrt(3),K3=2/J3,Q3={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*K3,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},mu=new Map([["asterisk",j1],["circle",ii],["cross",q1],["diamond",V1],["diamond2",Y1],["hexagon",Q3],["plus",H1],["square",X1],["square2",G1],["star",J1],["times",eg],["triangle",K1],["triangle2",Q1],["wye",tg]]);function pu(t){return t&&typeof t.draw=="function"}function tw(t){return pu(t)?!0:typeof t!="string"?!1:mu.has(t.toLowerCase())}function bu(t){if(t==null||pu(t))return t;const e=mu.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function ew(t){if(t==null||pu(t))return[void 0,t];if(typeof t=="string"){const e=mu.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function yu({filter:t,sort:e,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(t!=null&&(r=Dg(t)),e!=null&&!wr(e)&&(r=ps(r,_u(e))),n&&(r=ps(r,Ig))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||wr(e))&&{sort:e},transform:ps(r,s)}}function vr({filter:t,sort:e,reverse:n,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=Dg(t)),e!=null&&!wr(e)&&(r=bs(r,_u(e))),n&&(r=bs(r,Ig))),{...i,...(e===null||wr(e))&&{sort:e},initializer:bs(r,a)}}function ps(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,ue(n),r,i)}}function bs(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...a){let s,f,u,c,l,d;return{data:f=n,facets:u=r,channels:s}=t.call(this,n,r,i,...a),{data:l=f,facets:d=u,channels:c}=e.call(this,f,u,{...i,...s},...a),{data:l,facets:d,channels:{...s,...c}}}}function nw(t,e){return(t.initializer!=null?vr:yu)(t,e)}function Dg(t){return(e,n)=>{const r=_e(e,t);return{data:e,facets:n.map(i=>i.filter(a=>r[a]))}}}function Ig(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function rw(t,{sort:e,...n}={}){return{...(Ao(t)&&t.channel!==void 0?vr:nw)(n,_u(t)),sort:wr(e)?e:null}}function _u(t){return(typeof t=="function"&&t.length!==1?iw:aw)(t)}function iw(t){return(e,n)=>{const r=(i,a)=>t(e[i],e[a]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function aw(t){let e,n;({channel:e,value:t,order:n}={...Eo(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Va:je),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=je;break;case"descending":n=Va;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let f;if(e===void 0)f=_e(i,t);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(f=s[e],!f)return{};f=f.value}const u=(c,l)=>n(f[c],f[l]);return{data:i,facets:a.map(c=>c.slice().sort(u))}}}function ow(t,e,n=sw){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Zn(t))return fw(t);if(typeof t=="function")return uw(t);if(/^p\d{2}$/i.test(t))return Qe(A3(t));switch(`${t}`.toLowerCase()){case"first":return lw;case"last":return hw;case"identity":return cw;case"count":return _l;case"distinct":return dw;case"sum":return e==null?_l:gw;case"proportion":return wl(e,"data");case"proportion-facet":return wl(e,"facet");case"deviation":return Qe(e2);case"min":return Qe(Ue);case"min-index":return Qe(f2);case"max":return Qe(se);case"max-index":return Qe(s2);case"mean":return yl(c2);case"median":return yl(js);case"variance":return Qe(ed);case"mode":return Qe(h2)}return n(t)}function sw(t){throw new Error(`invalid reduce: ${t}`)}function fw(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function uw(t){return{reduceIndex(e,n,r){return t(du(n,e),r)}}}function Qe(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function yl(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return ve(n)?new Date(r):r}}}const cw={reduceIndex(t,e){return du(e,t)}},lw={reduceIndex(t,e){return e[t[0]]}},hw={reduceIndex(t,e){return e[t[t.length-1]]}},_l={label:"Frequency",reduceIndex(t){return t.length}},dw={label:"Distinct",reduceIndex(t,e){const n=new oo;for(const r of t)n.add(e[r]);return n.size}},gw=Qe(jn);function wl(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>jn(n,a=>r[a])/i}}function fi(t,{scale:e,type:n,value:r,filter:i,hint:a,label:s=Ti(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Lg(f,{scale:e,type:n,value:_e(t,r),label:s,filter:i,hint:a})}function mw(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,fi(e,r,n)]))}function pw(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const s=i==null?null:e[i];return[r,s==null?a:$t(a,s)]}));return n.channels=t,n}function Lg(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&ms(r,Co)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&ms(r,V3)?null:"opacity";break;case"symbol":n!==!0&&ms(r,tw)?(e.scale=null,e.value=$t(r,bu)):e.scale="symbol";break;default:e.scale=Et.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Et.has(n))throw new Error(`unknown scale: ${n}`);return e}function bw(t,e,n,r,i){const{order:a,reverse:s,reduce:f=!0,limit:u}=i;for(const c in i){if(!Et.has(c))continue;let{value:l,order:d=a,reverse:h=s,reduce:g=f,limit:p=u}=Eo(i[c]);const m=l==null?void 0:l.startsWith("-");if(m&&(l=l.slice(1)),d=d===void 0?m!==(l==="width"||l==="height")?Fg:Og:ww(d),g==null||g===!1)continue;const b=c==="fx"||c==="fy"?_w(e,r[c]):yw(n,c);if(!b)throw new Error(`missing channel for scale: ${c}`);const y=b.value,[_=0,M=1/0]=Jn(p)?p:p<0?[p]:[0,p];if(l==null)b.domain=()=>{let w=Array.from(new oo(y));return h&&(w=w.reverse()),(_!==0||M!==1/0)&&(w=w.slice(_,M)),w};else{const w=l==="data"?t:l==="height"?vl(n,"y1","y2"):l==="width"?vl(n,"x1","x2"):Mf(n,l,l==="y"?"y2":l==="x"?"x2":void 0),v=ow(g===!0?"max":g,w);b.domain=()=>{let S=n2(En(y),k=>v.reduceIndex(k,w),k=>y[k]);return d&&S.sort(d),h&&S.reverse(),(_!==0||M!==1/0)&&(S=S.slice(_,M)),S.map(Mg)}}}}function yw(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function _w(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const f of t[a])i[f]=s}return e}function vl(t,e,n){const r=Mf(t,e),i=Mf(t,n);return $t(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function Mf(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function ww(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Og;case"descending":return Fg}throw new Error(`invalid order: ${t}`)}function Og([t,e],[n,r]){return je(e,r)||je(t,n)}function Fg([t,e],[n,r]){return Va(e,r)||je(t,n)}function Ml(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const Pg=new Map([["accent",S6],["category10",M6],["dark2",x6],["observable10",T6],["paired",k6],["pastel1",A6],["pastel2",E6],["set1",C6],["set2",N6],["set3",D6],["tableau10",I6]]);function vw(t){return t!=null&&Pg.has(`${t}`.toLowerCase())}const Sl=new Map([...Pg,["brbg",Ze(I0,L0)],["prgn",Ze(O0,F0)],["piyg",Ze(P0,R0)],["puor",Ze(B0,$0)],["rdbu",Ze(bf,Ba)],["rdgy",Ze(U0,z0)],["rdylbu",Ze(yf,$a)],["rdylgn",Ze(j0,q0)],["spectral",Ze(W0,V0)],["burd",xl(bf,Ba)],["buylrd",xl(yf,$a)],["blues",Bt(p1,b1)],["greens",Bt(y1,_1)],["greys",Bt(w1,v1)],["oranges",Bt(k1,A1)],["purples",Bt(M1,S1)],["reds",Bt(x1,T1)],["turbo",Je(O1)],["viridis",Je(F1)],["magma",Je(P1)],["inferno",Je(R1)],["plasma",Je(B1)],["cividis",Je(E1)],["cubehelix",Je(C1)],["warm",Je(N1)],["cool",Je(D1)],["bugn",Bt(Y0,H0)],["bupu",Bt(X0,G0)],["gnbu",Bt(Z0,J0)],["orrd",Bt(K0,Q0)],["pubu",Bt(n1,r1)],["pubugn",Bt(t1,e1)],["purd",Bt(i1,a1)],["rdpu",Bt(o1,s1)],["ylgn",Bt(c1,l1)],["ylgnbu",Bt(f1,u1)],["ylorbr",Bt(h1,d1)],["ylorrd",Bt(g1,m1)],["rainbow",Tl(I1)],["sinebow",Tl(L1)]]);function Bt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?ke(e,n):t[n])}function Ze(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?ke(e,n):t[n])}function xl(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?ke(r=>e(1-r),n):t[n].slice().reverse())}function Je(t){return({length:e})=>ke(t,Math.max(2,Math.floor(e)))}function Tl(t){return({length:e})=>ke(t,Math.floor(e)+1).slice(0,-1)}function Rg(t){const e=`${t}`.toLowerCase();if(!Sl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Sl.get(e)}function Io(t,e){const n=Rg(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function Mw(t,e="greys"){const n=new Set,[r,i]=Io(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const kl=new Map([["brbg",L0],["prgn",F0],["piyg",R0],["puor",$0],["rdbu",Ba],["rdgy",z0],["rdylbu",$a],["rdylgn",q0],["spectral",V0],["burd",t=>Ba(1-t)],["buylrd",t=>$a(1-t)],["blues",b1],["greens",_1],["greys",v1],["purples",S1],["reds",T1],["oranges",A1],["turbo",O1],["viridis",F1],["magma",P1],["inferno",R1],["plasma",B1],["cividis",E1],["cubehelix",C1],["warm",N1],["cool",D1],["bugn",H0],["bupu",G0],["gnbu",J0],["orrd",Q0],["pubugn",e1],["pubu",r1],["purd",a1],["rdpu",s1],["ylgnbu",u1],["ylgn",l1],["ylorbr",d1],["ylorrd",m1],["rainbow",I1],["sinebow",L1]]);function wu(t){const e=`${t}`.toLowerCase();if(!kl.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return kl.get(e)}const Sw=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function xw(t){return t!=null&&Sw.has(`${t}`.toLowerCase())}const Bg=t=>e=>t(1-e),ys=[0,1],Al=new Map([["number",Mn],["rgb",Kr],["hsl",F2],["hcl",B2],["lab",P2]]);function $g(t){const e=`${t}`.toLowerCase();if(!Al.has(e))throw new Error(`unknown interpolator: ${e}`);return Al.get(e)}function Ni(t,e,n,{type:r,nice:i,clamp:a,zero:s,domain:f=zg(t,n),unknown:u,round:c,scheme:l,interval:d,range:h=Et.get(t)===Ai?Fw(n,f):Et.get(t)===Ei?Pw(n,f):Et.get(t)===Ci?ys:void 0,interpolate:g=Et.get(t)===fn?l==null&&h!==void 0?Kr:wu(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):c?Vf:Mn,reverse:p}){if(d=ki(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof g!="function"&&(g=$g(g)),p=!!p,h!==void 0){const m=(f=ue(f)).length,b=(h=ue(h)).length;if(m!==b){if(g.length===1)throw new Error("invalid piecewise interpolator");g=fo(g,h),h=void 0}}if(g.length===1?(p&&(g=Bg(g),p=!1),h===void 0&&(h=Float64Array.from(f,(m,b)=>b/(f.length-1)),h.length===2&&(h=ys)),e.interpolate((h===ys?Si:Mu)(g))):e.interpolate(g),s){const[m,b]=_n(f);(m>0||b<0)&&(f=oi(f),(_r(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=_a(f)),e.domain(f).unknown(u),i&&(e.nice(Tw(i,r)),f=e.domain()),h!==void 0&&e.range(h),a&&e.clamp(a),{type:r,domain:f,range:h,scale:e,interpolate:g,interval:d}}function Tw(t,e){return t===!0?void 0:typeof t=="number"?t:B3(t,e)}function kw(t,e,n){return Ni(t,Qf(),e,n)}function Aw(t,e,n){return Ug(t,e,{...n,exponent:.5})}function Ug(t,e,{exponent:n=1,...r}){return Ni(t,h0().exponent(n),e,{...r,type:"pow"})}function Ew(t,e,{base:n=10,domain:r=Rw(e),...i}){return Ni(t,f0().base(n),e,{...i,domain:r})}function Cw(t,e,{constant:n=1,...r}){return Ni(t,c0().constant(n),e,r)}function Nw(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=Bw(e),unknown:f,interpolate:u,reverse:c}){return n===void 0&&(n=u!==void 0?ke(u,i):Et.get(t)===fn?Io(a,i):void 0),s.length>0&&(s=d0(s,n===void 0?{length:i}:n).quantiles()),vu(t,e,{domain:s,range:n,reverse:c,unknown:f})}function Dw(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=zg(t,e),unknown:s,interpolate:f,reverse:u}){const[c,l]=_n(a);let d;return n===void 0?(d=ba(c,l,r),d[0]<=c&&d.splice(0,1),d[d.length-1]>=l&&d.pop(),r=d.length+1,n=f!==void 0?ke(f,r):Et.get(t)===fn?Io(i,r):void 0):(d=ke(Mn(c,l),r+1).slice(1,-1),c instanceof Date&&(d=d.map(h=>new Date(h)))),_r(ue(a))<0&&d.reverse(),vu(t,e,{domain:d,range:n,reverse:u,unknown:s})}function vu(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?ke(a,n.length+1):Et.get(t)===fn?Io(i,n.length+1):void 0,reverse:f}){n=ue(n);const u=_r(n);if(!isNaN(u)&&!Iw(n,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(s=_a(s)),{type:"threshold",scale:g0(u<0?_a(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function Iw(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const a=li(i,i=t[n]);if(a!==0&&a!==e)return!1}return!0}function Lw(t){return{type:"identity",scale:Z3(Et.get(t))?a0():e=>e}}function ui(t,e=hg){return t.length?[Ue(t,({value:n})=>n===void 0?n:Ue(n,e)),se(t,({value:n})=>n===void 0?n:se(n,e))]:[0,1]}function zg(t,e){const n=Et.get(t);return(n===Ai||n===Ci||n===Ei?Ow:ui)(e)}function Ow(t){return[0,t.length?se(t,({value:e})=>e===void 0?e:se(e,hg)):1]}function Fw(t,e){const n=t.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=ya(t,.5,({value:s})=>s===void 0?NaN:ya(s,.25,To)),i=e.map(s=>3*Math.sqrt(s/r)),a=30/se(i);return a<1?i.map(s=>s*a):i}function Pw(t,e){const n=js(t,({value:a})=>a===void 0?NaN:js(a,Math.abs)),r=e.map(a=>12*a/n),i=60/se(r);return i<1?r.map(a=>a*i):r}function Rw(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return ui(t,To);if(n<0)return ui(t,uu)}return[1,10]}function Bw(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function Mu(t){return(e,n)=>r=>t(e+r*(n-e))}let Sf=0,xf;function $w(){const t=Sf;return Sf=0,xf=void 0,t}function wn(t){t!==xf&&(xf=t,console.warn(t),++Sf)}function Lo(t,e,n,r,{type:i,nice:a,clamp:s,domain:f=ui(r),unknown:u,pivot:c=0,scheme:l,range:d,symmetric:h=!0,interpolate:g=Et.get(t)===fn?l==null&&d!==void 0?Kr:wu(l!==void 0?l:"rdbu"):Mn,reverse:p}){c=+c,f=ue(f);let[m,b]=f;if(f.length>2&&wn(`Warning: the diverging ${t} scale domain contains extra elements.`),li(m,b)<0&&([m,b]=[b,m],p=!p),m=Math.min(m,c),b=Math.max(b,c),typeof g!="function"&&(g=$g(g)),d!==void 0&&(g=g.length===1?Mu(g)(...d):fo(g,d)),p&&(g=Bg(g)),h){const y=n.apply(c),_=y-n.apply(m),M=n.apply(b)-y;_<M?m=n.invert(y-M):_>M&&(b=n.invert(y+_))}return e.domain([m,c,b]).unknown(u).interpolator(g),s&&e.clamp(s),a&&e.nice(a),{type:i,domain:[m,b],pivot:c,interpolate:g,scale:e}}function Uw(t,e,n){return Lo(t,E0(),Ww,e,n)}function zw(t,e,n){return jg(t,e,{...n,exponent:.5})}function jg(t,e,{exponent:n=1,...r}){return Lo(t,D0().exponent(n=+n),Hw(n),e,{...r,type:"diverging-pow"})}function jw(t,e,{base:n=10,pivot:r=1,domain:i=ui(e,r<0?uu:To),...a}){return Lo(t,C0().base(n=+n),Vw,e,{domain:i,pivot:r,...a})}function qw(t,e,{constant:n=1,...r}){return Lo(t,N0().constant(n=+n),Xw(n),e,r)}const Ww={apply(t){return t},invert(t){return t}},Vw={apply:Math.log,invert:Math.exp},Yw={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Hw(t){return t===.5?Yw:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function Xw(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function qg(t,e,n,r){return Ni(t,e,n,r)}function Gw(t,e,n){return qg(t,w6(),e,n)}function Zw(t,e,n){return qg(t,v6(),e,n)}const Di=Symbol("ordinal");function Wg(t,e,n,{type:r,interval:i,domain:a,range:s,reverse:f,hint:u}){return i=ki(i,r),a===void 0&&(a=Yg(n,i,t)),(r==="categorical"||r===Di)&&(r="ordinal"),f&&(a=_a(a)),a=e.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),e.range(s)),{type:r,domain:a,range:s,scale:e,hint:u,interval:i}}function Jw(t,e,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:f,...u}){r=ki(r,n),i===void 0&&(i=Yg(e,r,t));let c;if(Et.get(t)===Do)c=t5(e),a=a===void 0?e5(c):$t(a,bu);else if(Et.get(t)===fn&&(a===void 0&&(n==="ordinal"||n===Di)&&(a=Mw(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"observable10"),s!==void 0))if(a!==void 0){const l=wu(s),d=a[0],h=a[1]-a[0];a=({length:g})=>ke(p=>l(d+h*p),g)}else a=Rg(s);if(f===gf)throw new Error(`implicit unknown on ${t} scale is not supported`);return Wg(t,Kf().unknown(f),e,{...u,type:n,domain:i,range:a,hint:c})}function Kw(t,e,{align:n=.5,padding:r=.5,...i}){return Vg(t_().align(n).padding(r),e,i,t)}function Qw(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...s}){return Vg(go().align(n).paddingInner(i).paddingOuter(a),e,s,t)}function Vg(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=Wg(r,t,e,n),t.round=i,t}function Yg(t,e,n){const r=new oo;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(e!==void 0){const[i,a]=_n(r).map(e.floor,e);return e.range(i,e.offset(a))}if(r.size>1e4&&Et.get(n)===Be)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return $s(r,je)}function El(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function t5(t){return{fill:El(t,"fill"),stroke:El(t,"stroke")}}function e5(t){return Qt(t.fill)?Z6:G6}function Tf(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:f,nice:u,clamp:c,zero:l,align:d,padding:h,projection:g,facet:{label:p=e}={},...m}={}){const b={};for(const[y,_]of t){const M=m[y],w=Zg(y,_,{round:Et.get(y)===Be?f:void 0,nice:u,clamp:c,zero:l,align:d,padding:h,projection:g,...M});if(w){let{label:v=y==="fx"||y==="fy"?p:e,percent:S,transform:k,inset:T,insetTop:N=T!==void 0?T:y==="y"?r:0,insetRight:I=T!==void 0?T:y==="x"?i:0,insetBottom:A=T!==void 0?T:y==="y"?a:0,insetLeft:E=T!==void 0?T:y==="x"?s:0}=M||{};if(k==null)k=void 0;else if(typeof k!="function")throw new Error("invalid scale transform; not a function");w.percent=!!S,w.label=v===void 0?r5(_,w):v,w.transform=k,y==="x"||y==="fx"?(w.insetLeft=+E,w.insetRight=+I):(y==="y"||y==="fy")&&(w.insetTop=+N,w.insetBottom=+A),b[y]=w}}return b}function Cl(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:a,type:s,interval:f,label:u}=i;e[r]=Kg(i),n[r]=a,a.type=s,f!=null&&(a.interval=f),u!=null&&(a.label=u)}return n}function n5(t,e){const{x:n,y:r,fx:i,fy:a}=t,s=i||a?Su(e):e;i&&Nl(i,s),a&&Dl(a,s);const f=i||a?Hg(t,e):e;n&&Nl(n,f),r&&Dl(r,f)}function r5(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Kn(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function i5(t){return Math.sign(_r(t.domain()))*Math.sign(_r(t.range()))}function Su(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:l}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,l),width:a,height:s}}function Hg({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:u}=Su(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:t?t.scale.bandwidth()+s+i:f,height:e?e.scale.bandwidth()+r+a:u,facet:{width:f,height:u}}}function Nl(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:s=0}=e,f=a+n,u=i-s-r;t.range=[f,Math.max(f,u)],Kn(t)||(t.range=Gg(t)),t.scale.range(t.range)}Xg(t)}function Dl(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:s=0}=e,f=a+n,u=i-s-r;t.range=[Math.max(f,u),f],Kn(t)?t.range.reverse():t.range=Gg(t),t.scale.range(t.range)}Xg(t)}function Xg(t){t.round===void 0&&f5(t)&&a5(t)<=30&&t.scale.round(!0)}function a5({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),s=e-i,f=Math.abs(r-n)/Math.max(1,s+a*2);return(f-Math.floor(f))*s}function Gg(t){const e=t.scale.domain().length+Jg(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,a)=>n+a/(e-1)*(r-n))}function o5(t,e,n){return Zg(t,n===void 0?void 0:[{hint:n}],{...e})}function Zg(t,e=[],n={}){const r=s5(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Kn({type:r})){const i=e.map(({value:a})=>a).filter(a=>a!==void 0);i.some(ve)?wn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ir(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`):i.some(z3)?wn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ir(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`):i.some(j3)&&wn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ir(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=qi(e,n,bn);break;case"identity":switch(Et.get(t)){case Be:n=qi(e,n,bn);break;case Do:n=qi(e,n,u5);break}break;case"utc":case"time":n=qi(e,n,E3);break}switch(r){case"diverging":return Uw(t,e,n);case"diverging-sqrt":return zw(t,e,n);case"diverging-pow":return jg(t,e,n);case"diverging-log":return jw(t,e,n);case"diverging-symlog":return qw(t,e,n);case"categorical":case"ordinal":case Di:return Jw(t,e,n);case"cyclical":case"sequential":case"linear":return kw(t,e,n);case"sqrt":return Aw(t,e,n);case"threshold":return vu(t,e,n);case"quantile":return Nw(t,e,n);case"quantize":return Dw(t,e,n);case"pow":return Ug(t,e,n);case"log":return Ew(t,e,n);case"symlog":return Cw(t,e,n);case"utc":return Zw(t,e,n);case"time":return Gw(t,e,n);case"point":return Kw(t,e,n);case"band":return Qw(t,e,n);case"identity":return Lw(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ir(t){return typeof t=="symbol"?t.description:t}function Il(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Ll={toString:()=>"projection"};function s5(t,e,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:f}){if(n=Il(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=Ll);for(const c of e){const l=Il(c.type);if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}}if(n===Ll)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:c})=>c!==void 0))return;const u=Et.get(t);if(u===Ai)return"sqrt";if(u===Ci||u===Ei)return"linear";if(u===Do)return"ordinal";if((r||i||[]).length>2)return _s(u);if(r!==void 0){if(bl(r))return _s(u);if(ve(r))return"utc"}else{const c=e.map(({value:l})=>l).filter(l=>l!==void 0);if(c.some(bl))return _s(u);if(c.some(ve))return"utc"}if(u===fn){if(s!=null||xw(a))return"diverging";if(vw(a))return"categorical"}return"linear"}function _s(t){switch(t){case Be:return"point";case fn:return Di;default:return"ordinal"}}function Kn({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Di}function Jg({type:t}){return t==="threshold"}function f5({type:t}){return t==="point"||t==="band"}function yn(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function qi(t,{domain:e,...n},r){var i;for(const a of t)a.value!==void 0&&(e===void 0&&(e=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:e===void 0?e:r(e),...n}}function u5(t){return $t(t,bu)}function kf(t={}){let e;for(const n in t)if(Et.has(n)&&Ya(t[n])){if(e!==void 0)throw new Error("ambiguous scale definition; multiple scales found");e=Kg(o5(n,t[n]))}if(e===void 0)throw new Error("invalid scale definition; no scale found");return e}function c5(t){return e=>{if(!Et.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function Kg({scale:t,type:e,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:f,pivot:u}){if(e==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const c=t.unknown?t.unknown():void 0;return{type:e,domain:oi(n),...r!==void 0&&{range:oi(r)},...s!==void 0&&{transform:s},...f&&{percent:f},...c!==void 0&&{unknown:c},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:l=>t(l),...t.invert&&{invert:l=>t.invert(l)}}}function l5(t,e){const{fx:n,fy:r}=Tf(t,e),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?Qb(i,a).map(([s,f],u)=>({x:s,y:f,i:u})):i?i.map((s,f)=>({x:s,i:f})):a?a.map((s,f)=>({y:s,i:f})):void 0}function h5(t,{x:e,y:n}){return e&&(e=Af(e)),n&&(n=Af(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function xu(t,{fx:e,fy:n}){const r=En(t),i=e==null?void 0:e.value,a=n==null?void 0:n.value;return e&&n?Hr(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):e?Hr(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Hr(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function d5(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:a})=>`translate(${t(i)-r},${e(a)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function g5(t){const e=[],n=new Uint32Array(jn(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(n.set(a,i),i+=a.length);e.push(n.slice(0,i))}return e}const m5=new Map([["top",ws],["right",Ss],["bottom",vs],["left",Ms],["top-left",Wi(ws,Ms)],["top-right",Wi(ws,Ss)],["bottom-left",Wi(vs,Ms)],["bottom-right",Wi(vs,Ss)],["top-empty",y5],["right-empty",v5],["bottom-empty",_5],["left-empty",w5],["empty",M5]]);function p5(t){if(t==null)return null;const e=m5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Ol=new WeakMap;function Af(t){let e=Ol.get(t);return e||Ol.set(t,e=new zn($t(t,(n,r)=>[n,r]))),e}function Cn(t,e){return Af(t).get(e)}function b5(t,e,n){return e=On(e),n=On(n),t.find(r=>Object.is(On(r.x),e)&&Object.is(On(r.y),n))}function Oo(t,e,n){var r;return(r=b5(t,e,n))==null?void 0:r.empty}function ws(t,{y:e},{y:n}){return e?Cn(e,n)===0:!0}function vs(t,{y:e},{y:n}){return e?Cn(e,n)===e.length-1:!0}function Ms(t,{x:e},{x:n}){return e?Cn(e,n)===0:!0}function Ss(t,{x:e},{x:n}){return e?Cn(e,n)===e.length-1:!0}function y5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Cn(e,r);if(a>0)return Oo(t,n,e[a-1])}function _5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Cn(e,r);if(a<e.length-1)return Oo(t,n,e[a+1])}function w5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Cn(e,n);if(a>0)return Oo(t,e[a-1],r)}function v5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Cn(e,n);if(a<e.length-1)return Oo(t,e[a+1],r)}function M5(t,e,{empty:n}){return n}function Wi(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function xs(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Qg=Math.PI,Ke=2*Qg,Fl=.618;function S5({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={},s){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(Zn(t)){let v;if({type:t,domain:u,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:a=v!==void 0?v:a,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=tm(t));const{width:l,height:d,marginLeft:h,marginRight:g,marginTop:p,marginBottom:m}=s,b=l-h-g-a-r,y=d-p-m-n-i;if(t=t==null?void 0:t({width:b,height:y,clip:c,...f}),t==null)return;c=x5(c,h,p,l-g,d-m);let _=h+a,M=p+n,w;if(u!=null){const[[v,S],[k,T]]=uo(t).bounds(u),N=Math.min(b/(k-v),y/(T-S));N>0?(_-=(N*(v+k)-b)/2,M-=(N*(S+T)-y)/2,w=hf({point(I,A){this.stream.point(I*N+_,A*N+M)}})):wn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=_===0&&M===0?em():hf({point(v,S){this.stream.point(v+_,S+M)}})),{stream:v=>t.stream(w.stream(c(v)))}}function tm(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Se($y,.7463,.4673);case"albers":return Vi(Hd,.7463,.4673);case"azimuthal-equal-area":return Se(Uy,4,4);case"azimuthal-equidistant":return Se(zy,Ke,Ke);case"conic-conformal":return Vi(Wy,Ke,Ke);case"conic-equal-area":return Vi(Oa,6.1702,2.9781);case"conic-equidistant":return Vi(Hy,7.312,3.6282);case"equal-earth":return Se(Gy,5.4133,2.6347);case"equirectangular":return Se(Vy,Ke,Qg);case"gnomonic":return Se(Zy,3.4641,3.4641);case"identity":return{type:em};case"reflect-y":return{type:T5};case"mercator":return Se(jy,Ke,Ke);case"orthographic":return Se(Jy,2,2);case"stereographic":return Se(Ky,2,2);case"transverse-mercator":return Se(Qy,Ke,Ke);default:throw new Error(`unknown projection type: ${t}`)}}function x5(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Dd(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Se(t,e,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:f})=>{var c,l,d;const u=t();return s!=null&&((c=u.precision)==null||c.call(u,s)),a!=null&&((l=u.rotate)==null||l.call(u,a)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),u.scale(Math.min(r/e,i/n)),u.translate([r/2,i/2]),u},aspectRatio:n/e}}function Vi(t,e,n){const{type:r,aspectRatio:i}=Se(t,e,n);return{type:a=>{const{parallels:s,domain:f,width:u,height:c}=a,l=r(a);return s!=null&&(l.parallels(s),f===void 0&&l.fitSize([u,c],{type:"Sphere"})),l},aspectRatio:i}}const em=Si({stream:t=>t}),T5=Si(hf({point(t,e){this.stream.point(t,-e)}}));function k5(t,e,n,r){const i=n[t],a=n[e],s=i.length,f=n[t]=new Float64Array(s).fill(NaN),u=n[e]=new Float64Array(s).fill(NaN);let c;const l=r.stream({point(d,h){f[c]=d,u[c]=h}});for(c=0;c<s;++c)l.point(i[c],a[c])}function A5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Zn(t)&&(t=t.type),t!=null)}function E5(t){if(typeof(t==null?void 0:t.stream)=="function")return Fl;if(Zn(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=tm(t);if(e)return e}return Fl}}function C5(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},a={point(s,f){e.push(s),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of t.value)Ln(s,a);return[r,i]}function Tu(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:Cg(n)}}function Rt(t,{document:e}){return Kt(Xh(t).call(e.documentElement))}function N5(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,e=t(...r)),e)}const D5=N5(t=>new Intl.NumberFormat(t));function I5(t="en-US"){const e=D5(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function L5(t){return g3(t,"Invalid Date")}function O5(t="en-US"){const e=I5(t);return n=>(n instanceof Date?L5:typeof n=="number"?e:Yt)(n)}const Mr=O5(),oe=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let F5=0;function Pl(){return`plot-clip-${++F5}`}function P5(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:f,fillOpacity:u,stroke:c,strokeWidth:l,strokeOpacity:d,strokeLinejoin:h,strokeLinecap:g,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:b,opacity:y,mixBlendMode:_,imageFilter:M,paintOrder:w,pointerEvents:v,shapeRendering:S,channels:k},{ariaLabel:T,fill:N="currentColor",fillOpacity:I,stroke:A="none",strokeOpacity:E,strokeWidth:P,strokeLinecap:R,strokeLinejoin:x,strokeMiterlimit:O,paintOrder:V}){N===null&&(f=null,u=null),A===null&&(c=null,d=null),Qt(N)?!Qt(A)&&(!Qt(f)||k!=null&&k.fill)&&(A="none"):Qt(A)&&(!Qt(c)||k!=null&&k.stroke)&&(N="none");const[z,X]=Yn(f,N),[B,$]=Ht(u,I),[U,Y]=Yn(c,A),[D,tt]=Ht(d,E),[nt,j]=Ht(y);si(Y)||(l===void 0&&(l=P),g===void 0&&(g=R),h===void 0&&(h=x),p===void 0&&!Y3(h)&&(p=O),!si(X)&&w===void 0&&(w=V));const[Q,F]=Ht(l);return N!==null&&(t.fill=Ot(X,"currentColor"),t.fillOpacity=Br($,1)),A!==null&&(t.stroke=Ot(Y,"none"),t.strokeWidth=Br(F,1),t.strokeOpacity=Br(tt,1),t.strokeLinejoin=Ot(h,"miter"),t.strokeLinecap=Ot(g,"butt"),t.strokeMiterlimit=Br(p,4),t.strokeDasharray=Ot(m,"none"),t.strokeDashoffset=Ot(b,"0")),t.target=Yt(s),t.ariaLabel=Yt(T),t.ariaDescription=Yt(i),t.ariaHidden=Yt(a),t.opacity=Br(j,1),t.mixBlendMode=Ot(_,"normal"),t.imageFilter=Ot(M,"none"),t.paintOrder=Ot(w,"normal"),t.pointerEvents=Ot(v,"auto"),t.shapeRendering=Ot(S,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:z,scale:"auto",optional:!0},fillOpacity:{value:B,scale:"auto",optional:!0},stroke:{value:U,scale:"auto",optional:!0},strokeOpacity:{value:D,scale:"auto",optional:!0},strokeWidth:{value:Q,optional:!0},opacity:{value:nt,scale:"auto",optional:!0}}}function R5(t,e){e&&t.filter(n=>fu(e[n])).append("title").call($5,e)}function B5(t,e){e&&t.filter(([n])=>fu(e[n])).append("title").call(U5,e)}function $5(t,e){e&&t.text(n=>Mr(e[n]))}function U5(t,e){e&&t.text(([n])=>Mr(e[n]))}function un(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:l,href:d}){r&&ft(t,"aria-label",h=>r[h]),a&&ft(t,"fill",h=>a[h]),s&&ft(t,"fill-opacity",h=>s[h]),f&&ft(t,"stroke",h=>f[h]),u&&ft(t,"stroke-opacity",h=>u[h]),c&&ft(t,"stroke-width",h=>c[h]),l&&ft(t,"opacity",h=>l[h]),d&&nm(t,h=>d[h],e),n||R5(t,i)}function z5(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:l,href:d}){r&&ft(t,"aria-label",([h])=>r[h]),a&&ft(t,"fill",([h])=>a[h]),s&&ft(t,"fill-opacity",([h])=>s[h]),f&&ft(t,"stroke",([h])=>f[h]),u&&ft(t,"stroke-opacity",([h])=>u[h]),c&&ft(t,"stroke-width",([h])=>c[h]),l&&ft(t,"opacity",([h])=>l[h]),d&&nm(t,([h])=>d[h],e),n||B5(t,i)}function j5({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:f,href:u},{tip:c}){return[t,c?void 0:e,n,r,i,a,s,f,u].filter(l=>l!==void 0)}function q5(t,e,n){const r=Uf(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&wn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*W5(t,e,n,r){const{z:i}=n,{z:a}=r,s=j5(r,n),f=[...e,...s];for(const u of a?q5(t,a,i):[t]){let c,l;t:for(const d of u){for(const h of f)if(!Tn(h[d])){l&&l.push(-1);continue t}if(c===void 0){l&&(yield l),c=s.map(h=>On(h[d])),l=[d];continue}l.push(d);for(let h=0;h<s.length;++h)if(On(s[h][d])!==c[h]){yield l,c=s.map(p=>On(p[d])),l=[d];continue t}}l&&(yield l)}}function V5(t,e,n,r){let i;const{clip:a=r.clip}=e;switch(a){case"frame":{const{width:s,height:f,marginLeft:u,marginRight:c,marginTop:l,marginBottom:d}=n,h=Pl();i=`url(#${h})`,t=Rt("svg:g",r).call(g=>g.append("svg:clipPath").attr("id",h).append("rect").attr("x",u).attr("y",l).attr("width",s-c-u).attr("height",f-l-d)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const f=Pl();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",uo(s)({type:"Sphere"}));break}}ft(t,"aria-label",e.ariaLabel),ft(t,"aria-description",e.ariaDescription),ft(t,"aria-hidden",e.ariaHidden),ft(t,"clip-path",i)}function Ne(t,e,n,r){V5(t,e,n,r),ft(t,"fill",e.fill),ft(t,"fill-opacity",e.fillOpacity),ft(t,"stroke",e.stroke),ft(t,"stroke-width",e.strokeWidth),ft(t,"stroke-opacity",e.strokeOpacity),ft(t,"stroke-linejoin",e.strokeLinejoin),ft(t,"stroke-linecap",e.strokeLinecap),ft(t,"stroke-miterlimit",e.strokeMiterlimit),ft(t,"stroke-dasharray",e.strokeDasharray),ft(t,"stroke-dashoffset",e.strokeDashoffset),ft(t,"shape-rendering",e.shapeRendering),ft(t,"filter",e.imageFilter),ft(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;ft(t,"pointer-events",i)}function De(t,e){Y5(t,"mix-blend-mode",e.mixBlendMode),ft(t,"opacity",e.opacity)}function nm(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const a=this.ownerDocument.createElementNS(ha.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(ha.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function ft(t,e,n){n!=null&&t.attr(e,n)}function Y5(t,e,n){n!=null&&t.style(e,n)}function Ie(t,e,{x:n,y:r},i=oe,a=oe){i+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function Ot(t,e){if((t=Yt(t))!==e)return t}function Br(t,e){if((t=At(t))!==e)return t}const H5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ku(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!H5.test(t))throw new Error(`invalid class name: ${t}`);return t}function Au(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Ii({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(t)?s:/right$/.test(t)?e-i:(s+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-a:(r+n-a)/2]}class ie{constructor(e,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:f,fy:u,sort:c,dx:l=0,dy:d=0,margin:h=0,marginTop:g=h,marginRight:p=h,marginBottom:m=h,marginLeft:b=h,clip:y=i==null?void 0:i.clip,channels:_,tip:M,render:w}=r;if(this.data=e,this.sort=wr(c)?c:null,this.initializer=vr(r).initializer,this.transform=this.initializer?r.transform:yu(r).transform,a===null||a===!1?this.facet=null:(this.facet=Ce(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===sa&&typeof f=="string"?[f]:f,this.fy=e===sa&&typeof u=="string"?[u]:u),this.facetAnchor=p5(s),n=Eg(n),_!==void 0&&(n={...X5(_),...n}),i!==void 0&&(n={...P5(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,S])=>{if(Ao(S.value)){const{value:k,label:T=S.label,scale:N=S.scale}=S.value;S={...S,label:T,scale:N,value:k}}if(e===sa&&typeof S.value=="string"){const{value:k}=S;S={...S,value:[k]}}return[v,S]}).filter(([v,{value:S,optional:k}])=>{if(S!=null)return!0;if(k)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+l,this.dy=+d,this.marginTop=+g,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+b,this.clip=Cg(y),this.tip=G5(M),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:S}=n[v];if(!(S!=="x"&&S!=="y"))throw new Error("super-faceting cannot use x or y")}}w!=null&&(this.render=im(w,this.render))}initialize(e,n,r){let i=ue(this.data);e===void 0&&i!=null&&(e=[En(i)]);const a=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=ue(i)),e!==void 0&&(e.original=a);const s=mw(this.channels,i);return this.sort!=null&&bw(i,e,s,n,this.sort),{data:i,facets:e,channels:s}}filter(e,n,r){for(const i in n){const{filter:a=Tn}=n[i];if(a!==null){const s=r[i];e=e.filter(f=>a(s[f]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&k5(i,a,n,r.projection)}}scale(e,n,r){const i=pw(e,n);return r.projection&&this.project(e,i,r),i}}function rm(...t){return t.plot=ie.prototype.plot,t}function im(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,a,s,f){return t.call(this,n,r,i,a,s,(u,c,l,d,h)=>e.call(this,u,c,l,d,h,f))}}function X5(t){return Object.fromEntries(Object.entries(Eg(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:Eo(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function G5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Ce(t,"tip",["x","y","xy"]):t}function Eu(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:Zn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function Z5(t,e,n={}){let r=.5-oe,i=.5+oe,a=.5+oe,s=.5-oe;for(const{marginTop:m,marginRight:b,marginBottom:y,marginLeft:_}of e)m>r&&(r=m),b>i&&(i=b),y>a&&(a=y),_>s&&(s=_);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:l=f!==void 0?f:a,marginLeft:d=f!==void 0?f:s}=n;u=+u,c=+c,l=+l,d=+d;let{width:h=640,height:g=J5(t,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,u-r+l-a)}=n;h=+h,g=+g;const p={width:h,height:g,marginTop:u,marginRight:c,marginBottom:l,marginLeft:d};if(t.fx||t.fy){let{margin:m,marginTop:b=m!==void 0?m:u,marginRight:y=m!==void 0?m:c,marginBottom:_=m!==void 0?m:l,marginLeft:M=m!==void 0?m:d}=n.facet??{};b=+b,y=+y,_=+_,M=+M,p.facet={marginTop:b,marginRight:y,marginBottom:_,marginLeft:M}}return p}function J5({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:l}){const d=n?n.scale.domain().length:1,h=E5(i);if(h){const p=r?r.scale.domain().length:1,m=(1.1*d-.1)/(1.1*p-.1)*h,b=Math.max(.1,Math.min(10,m));return Math.round((s-l-u)*b+f+c)}const g=e?Kn(e)?e.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Rl("y",e)/(Rl("x",t)*a),m=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,y=m*(s-l-u)-t.insetLeft-t.insetRight;return(p*y+e.insetTop+e.insetBottom)/b+f+c}return!!(e||n)*Math.max(1,Math.min(60,g*d))*20+!!r*30+60}function Rl(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=e.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,s]=_n(r);return Math.abs(i(s)-i(a))}const Bl=new WeakMap;function Cu(t,e,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:f,render:u,...c}={}){return s=+s,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:n,y:r,channels:f,...c,render:im(function(l,d,h,g,p,m){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:y}=p.getMarkState(this);let _=Bl.get(b);_||Bl.set(b,_={sticky:!1,roots:[],renders:[]});let M=_.renders.push(Y)-1;const{x:w,y:v,fx:S,fy:k}=d;let T=S?S(l.fx)-g.marginLeft:0,N=k?k(l.fy)-g.marginTop:0;w!=null&&w.bandwidth&&(T+=w.bandwidth()/2),v!=null&&v.bandwidth&&(N+=v.bandwidth()/2);const I=l.fi!=null;let A;if(I){let j=_.facetStates;j||(_.facetStates=j=new Map),A=j.get(this),A||j.set(this,A=new Map)}const[E,P]=Ii(this,g),{px:R,py:x}=h,O=R?j=>R[j]:am(h,E),V=x?j=>x[j]:om(h,P);let z,X,B,$;function U(j,Q){if(I)if($&&($=cancelAnimationFrame($)),j==null)A.delete(l.fi);else{A.set(l.fi,Q),$=requestAnimationFrame(()=>{$=null;for(const[F,H]of A)if(H<Q||H===Q&&F<l.fi){j=null;break}Y(j)});return}Y(j)}function Y(j){if(z===j&&B===_.sticky)return;z=j,B=p.pointerSticky=_.sticky;const Q=z==null?[]:[z];I&&(Q.fx=l.fx,Q.fy=l.fy,Q.fi=l.fi);const F=m(Q,d,h,g,p);if(X){if(I){const H=X.parentNode,G=X.getAttribute("transform"),L=F.getAttribute("transform");G?F.setAttribute("transform",G):F.removeAttribute("transform"),L?H.setAttribute("transform",L):H.removeAttribute("transform"),F.removeAttribute("aria-label"),F.removeAttribute("aria-description"),F.removeAttribute("aria-hidden")}X.replaceWith(F)}return _.roots[M]=X=F,z==null&&(A==null?void 0:A.size)>1||p.dispatchValue(z==null?null:y[z]),F}function D(j){if(_.sticky||j.pointerType==="mouse"&&j.buttons===1)return;let[Q,F]=Vs(j);Q-=T,F-=N;const H=Q<g.marginLeft||Q>g.width-g.marginRight?1:t,G=F<g.marginTop||F>g.height-g.marginBottom?1:e;let L=null,mt=s*s;for(const rt of l){const yt=H*(O(rt)-Q),St=G*(V(rt)-F),Z=yt*yt+St*St;Z<=mt&&(L=rt,mt=Z)}if(L!=null&&(t!==1||e!==1)){const rt=O(L)-Q,yt=V(L)-F;mt=rt*rt+yt*yt}U(L,mt)}function tt(j){j.pointerType==="mouse"&&z!=null&&(_.sticky&&_.roots.some(Q=>Q==null?void 0:Q.contains(j.target))||(_.sticky?(_.sticky=!1,_.renders.forEach(Q=>Q(null))):(_.sticky=!0,Y(z)),j.stopImmediatePropagation()))}function nt(j){j.pointerType==="mouse"&&(_.sticky||U(null))}return b.addEventListener("pointerenter",D),b.addEventListener("pointermove",D),b.addEventListener("pointerdown",tt),b.addEventListener("pointerleave",nt),Y(null)},u)}}function K5(t){return Cu(1,1,t)}function Q5(t){return Cu(1,.01,t)}function $l(t){return Cu(.01,1,t)}function am({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function om({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function sm(t){return Kn(t)&&t.interval===void 0?void 0:"tabular-nums"}function t4(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:l,ticks:d=(i-c-f)/64,tickFormat:h,fontVariant:g=sm(t),round:p=!0,opacity:m,className:b}=e;const y=Tu(e);b=ku(b),m=Ht(m)[1],h===null&&(h=()=>null);const _=Rt("svg",y).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(E=>E.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(Au,l);let M=E=>E.selectAll(".tick line").attr("y1",s+u-a),w;const v=p?(E,P)=>E.rangeRound(P):(E,P)=>E.range(P),{type:S,domain:k,range:T,interpolate:N,scale:I,pivot:A}=t;if(N){const E=T===void 0?N:fo(N.length===1?Mu(N):N,T);w=v(I.copy(),ke(Mn(c,i-f),Math.min(k.length+(A!==void 0),T===void 0?1/0:T.length)));const P=256,R=y.document.createElement("canvas");R.width=P,R.height=1;const x=R.getContext("2d");for(let O=0,V=P-1;O<P;++O)x.fillStyle=E(O/V),x.fillRect(O,0,1,1);_.append("image").attr("opacity",m).attr("x",c).attr("y",s).attr("width",i-c-f).attr("height",a-s-u).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(S==="threshold"){const E=k,P=h===void 0?R=>R:typeof h=="string"?Er(h):h;w=v(Qf().domain([-1,T.length-1]),[c,i-f]),_.append("g").attr("fill-opacity",m).selectAll().data(T).enter().append("rect").attr("x",(R,x)=>w(x-1)).attr("y",s).attr("width",(R,x)=>w(x)-w(x-1)).attr("height",a-s-u).attr("fill",R=>R),d=$t(E,(R,x)=>x),h=R=>P(E[R],R)}else w=v(go().domain(k),[c,i-f]),_.append("g").attr("fill-opacity",m).selectAll().data(k).enter().append("rect").attr("x",w).attr("y",s).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",a-s-u).attr("fill",I),M=()=>{};return _.append("g").attr("transform",`translate(0,${a-u})`).call(M2(w).ticks(Array.isArray(d)?null:d,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Ot(g,"normal")).call(M).call(E=>E.select(".domain").remove()),n!==void 0&&_.append("text").attr("x",c).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),_.node()}const fm=Math.PI/180;function Fo(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=Ts(n),t.markerMid=Ts(r),t.markerEnd=Ts(i)}function Ts(t){if(t==null||t===!1)return null;if(t===!0)return zl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Ul("auto");case"arrow-reverse":return Ul("auto-start-reverse");case"dot":return e4;case"circle":case"circle-fill":return zl;case"circle-stroke":return n4;case"tick":return ks("auto");case"tick-x":return ks(90);case"tick-y":return ks(0)}throw new Error(`invalid marker: ${t}`)}function Ul(t){return(e,n)=>Rt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function e4(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function zl(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function n4(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function ks(t){return(e,n)=>Rt("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let r4=0;function Nu(t,e,{stroke:n},r){return um(t,e,n&&(i=>n[i]),r)}function i4(t,e,{stroke:n},r){return um(t,e,n&&(([i])=>n[i]),r)}function um(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const f=new Map;function u(c){return function(l){const d=a(l);let h=f.get(c);h||f.set(c,h=new Map);let g=h.get(d);if(!g){const p=this.parentNode.insertBefore(c(d,s),this),m=`plot-marker-${++r4}`;p.setAttribute("id",m),h.set(d,g=`url(#${m})`)}return g}}e&&t.attr("marker-start",u(e)),n&&t.attr("marker-mid",u(n)),r&&t.attr("marker-end",u(r))}function Du({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=cm(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Iu({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=cm(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function cm(t,e,n){return t===void 0&&e===void 0&&n===void 0?oe?[1,0]:[.5,.5]:[e,n]}function lm(t,{interval:e}){return t={...Eo(t)},t.interval=gu(t.interval===void 0?e:t.interval),t}function Po(t,e,n,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:s}=n,{value:f,interval:u}=lm(i,n);if(f==null||u==null&&!r)return n;const c=Ti(i);if(u==null){let g;const p={transform:m=>g||(g=_e(m,f)),label:c};return{...n,[t]:void 0,[`${t}1`]:a===void 0?p:a,[`${t}2`]:s===void 0&&!(a===s&&r)?p:s}}let l,d;function h(g){return d!==void 0&&g===l?d:d=$t(_e(l=g,f),p=>u.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:h,label:c}:a,[`${t}2`]:s===void 0?{transform:g=>h(g).map(p=>u.offset(p)),label:c}:s})}function hm(t,e,n){const{[t]:r}=n,{value:i,interval:a}=lm(r,n);return i==null||a==null?n:e({...n,[t]:{label:Ti(r),transform:s=>{const f=$t(_e(s,i),c=>a.floor(c)),u=f.map(c=>a.offset(c));return f.map(ve(f)?(c,l)=>c==null||isNaN(c=+c)||(l=u[l],l==null)||isNaN(l=+l)?void 0:new Date((c+l)/2):(c,l)=>c==null||(l=u[l],l==null)?NaN:(+c+ +l)/2)}}})}function a4(t={}){return Po("x",Du,t,!0)}function dm(t={}){return Po("y",Iu,t,!0)}function o4(t={}){return Po("x",Du,t)}function s4(t={}){return Po("y",Iu,t)}function f4(t={}){return hm("x",Du,t)}function u4(t={}){return hm("y",Iu,t)}const gm={ariaLabel:"rule",fill:null,stroke:"currentColor"};class c4 extends ie{constructor(e,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:f=s,insetBottom:u=s}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Eu(n,"x"),gm),this.insetTop=At(f),this.insetBottom=At(u),Fo(this,n)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y1:c,y2:l}=r,{width:d,height:h,marginTop:g,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetTop:y,insetBottom:_}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{x:u&&s},oe,0).call(M=>M.selectAll().data(e).enter().append("line").call(De,this).attr("x1",u?w=>u[w]:(m+d-p)/2).attr("x2",u?w=>u[w]:(m+d-p)/2).attr("y1",c&&!yn(f)?w=>c[w]+y:g+y).attr("y2",l&&!yn(f)?f.bandwidth?w=>l[w]+f.bandwidth()-_:w=>l[w]-_:h-b-_).call(un,this,r).call(Nu,this,r,a)).node()}}class l4 extends ie{constructor(e,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:f=s,insetLeft:u=s}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Eu(n,"y"),gm),this.insetRight=At(f),this.insetLeft=At(u),Fo(this,n)}render(e,n,r,i,a){const{x:s,y:f}=n,{y:u,x1:c,x2:l}=r,{width:d,height:h,marginTop:g,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetLeft:y,insetRight:_}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{y:u&&f},0,oe).call(M=>M.selectAll().data(e).enter().append("line").call(De,this).attr("x1",c&&!yn(s)?w=>c[w]+y:m+y).attr("x2",l&&!yn(s)?s.bandwidth?w=>l[w]+s.bandwidth()-_:w=>l[w]-_:d-p-_).attr("y1",u?w=>u[w]:(g+h-b)/2).attr("y2",u?w=>u[w]:(g+h-b)/2).call(un,this,r).call(Nu,this,r,a)).node()}}function Lu(t,e){let{x:n=Me,y:r,y1:i,y2:a,...s}=s4(e);return[i,a]=mm(r,i,a),new c4(t,{...s,x:n,y1:i,y2:a})}function Ou(t,e){let{y:n=Me,x:r,x1:i,x2:a,...s}=o4(e);return[i,a]=mm(r,i,a),new l4(t,{...s,y:n,x1:i,x2:a})}function mm(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Fu(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let a=0;a<n;++a)i+=e[a](r)+t[a+1];return i}}const h4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},pm="­";class Pu extends ie{constructor(e,n={}){const{x:r,y:i,text:a=Jn(e)&&Ag(e)?Me:vg,frameAnchor:s,textAnchor:f=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:u=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:c=1,lineWidth:l=1/0,textOverflow:d,monospace:h,fontFamily:g=h?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:b,fontWeight:y,rotate:_}=n,[M,w]=Ht(_,0),[v,S]=y4(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:U3(M),optional:!0},text:{value:a,filter:fu,optional:!0}},n,h4),this.rotate=w,this.textAnchor=Ot(f,"middle"),this.lineAnchor=Ce(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.textOverflow=bm(d),this.monospace=!!h,this.fontFamily=Yt(g),this.fontSize=S,this.fontStyle=Yt(m),this.fontVariant=Yt(b),this.fontWeight=Yt(y),this.frameAnchor=No(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=_m(this),this.clipLine=wm(this)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,rotate:l,text:d,title:h,fontSize:g}=r,{rotate:p}=this,[m,b]=Ii(this,i);return Rt("svg:g",a).call(Ne,this,i,a).call(ym,this,d,i).call(Ie,this,{x:u&&s,y:c&&f}).call(y=>y.selectAll().data(e).enter().append("text").call(De,this).call(d4,this,d,h).attr("transform",Fu`translate(${u?_=>u[_]:m},${c?_=>c[_]:b})${l?_=>` rotate(${l[_]})`:p?` rotate(${p})`:""}`).call(ft,"font-size",g&&(_=>g[_])).call(un,this,r)).node()}}function bm(t){return t==null?null:Ce(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function d4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:f,clipLine:u}=e;t.each(function(c){const l=f(Mr(n[c])??"").map(u),d=l.length,h=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let g=0;for(let p=0;p<d;++p){if(++g,!l[p])continue;const m=this.ownerDocument.createElementNS(ha.svg,"tspan");m.setAttribute("x",0),p===g-1?m.setAttribute("y",`${(h+p)*a}em`):m.setAttribute("dy",`${g*a}em`),m.textContent=l[p],this.appendChild(m),g=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=l[0];if(s&&!r&&l[0]!==n[c]){const g=this.ownerDocument.createElementNS(ha.svg,"title");g.textContent=n[c],this.appendChild(g)}})}function Ro(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=xi(e,n)),new Pu(t,{...r,x:e,y:n})}function g4(t,{x:e=Me,...n}={}){return new Pu(t,u4({...n,x:e}))}function m4(t,{y:e=Me,...n}={}){return new Pu(t,f4({...n,y:e}))}function ym(t,e,n){ft(t,"text-anchor",e.textAnchor),ft(t,"font-family",e.fontFamily),ft(t,"font-size",e.fontSize),ft(t,"font-style",e.fontStyle),ft(t,"font-variant",e.fontVariant===void 0?p4(n):e.fontVariant),ft(t,"font-weight",e.fontWeight)}function p4(t){return t&&(q3(t)||ve(t))?"tabular-nums":void 0}const b4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function y4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),b4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function _4(t,e,n){const r=[];let i,a=0;for(const[s,f,u]of w4(t)){if(i===void 0&&(i=s),a>i&&n(t,i,f)>e&&(r.push(t.slice(i,a)+(t[a-1]===pm?"-":"")),i=s),u){r.push(t.slice(i,f)),i=void 0;continue}a=f}return r}function*w4(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case pm:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const jl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Ru(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Nr(t,i))r+=jl[t[i]]??(Mm(t,i)?120:jl.e);return r}function Bu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Nr(t,i))r+=Mm(t,i)?126:63;return r}function _m({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?Bu:Ru,i=e*100;return a=>_4(a,i,r)}function wm({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const r=t?Bu:Ru,i=e*100;switch(n){case"clip-start":return a=>Wl(a,i,r,"");case"clip-end":return a=>ql(a,i,r,"");case"ellipsis-start":return a=>Wl(a,i,r,ur);case"ellipsis-middle":return a=>v4(a,i,r,ur);case"ellipsis-end":return a=>ql(a,i,r,ur)}}const ur="…";function Sr(t,e,n,r){const i=[];let a=0;for(let s=0,f=0,u=t.length;s<u;s=f){f=Nr(t,s);const c=n(t,s,f);if(a+c>e){for(a+=r;a>e&&s>0;)f=s,s=i.pop(),a-=n(t,s,f);return[s,e-a]}a+=c,i.push(s)}return[-1,0]}function ql(t,e,n,r){t=t.trim();const i=n(r),[a]=Sr(t,e,n,i);return a<0?t:t.slice(0,a).trimEnd()+r}function v4(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r)/2,[s,f]=Sr(t,e/2,n,a),[u]=Sr(t,i-e/2-f+a,n,-a);return u<0?r:t.slice(0,s).trimEnd()+r+t.slice(Nr(t,u)).trimStart()}function Wl(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r),[s]=Sr(t,i-e+a,n,-a);return s<0?r:r+t.slice(Nr(t,s)).trimStart()}const Ef=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Vl=/\p{Extended_Pictographic}/uy;function Nr(t,e){return e+=M4(t,e)?2:1,x4(t,e)&&(e=Ef.lastIndex),S4(t,e)?Nr(t,e+1):e}function vm(t,e){return t.charCodeAt(e)<128}function M4(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function S4(t,e){return t.charCodeAt(e)===8205}function x4(t,e){return vm(t,e)?!1:(Ef.lastIndex=e,Ef.test(t))}function Mm(t,e){return vm(t,e)?!1:(Vl.lastIndex=e,Vl.test(t))}const T4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Sm=3.5,k4=Sm*5,xm={draw(t,e,n){const r=e*n/k4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},A4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},E4=new Map([["arrow",xm],["spike",A4]]);function C4(t){return t&&typeof t.draw=="function"}function N4(t){if(C4(t))return t;const e=E4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}let Tm=class extends ie{constructor(e,n={}){const{x:r,y:i,r:a=Sm,length:s,rotate:f,shape:u=xm,anchor:c="middle",frameAnchor:l}=n,[d,h]=Ht(s,12),[g,p]=Ht(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:g,optional:!0}},n,T4),this.r=+a,this.length=h,this.rotate=p,this.shape=N4(u),this.anchor=Ce(c,"anchor",["start","middle","end"]),this.frameAnchor=No(l)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,length:l,rotate:d}=r,{length:h,rotate:g,anchor:p,shape:m,r:b}=this,[y,_]=Ii(this,i);return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{x:u&&s,y:c&&f}).call(M=>M.selectAll().data(e).enter().append("path").call(De,this).attr("transform",Fu`translate(${u?w=>u[w]:y},${c?w=>c[w]:_})${d?w=>` rotate(${d[w]})`:g?` rotate(${g})`:""}${p==="start"?"":p==="end"?l?w=>` translate(0,${l[w]})`:` translate(0,${h})`:l?w=>` translate(0,${l[w]/2})`:` translate(0,${h/2})`}`).attr("d",l?w=>{const v=gn();return m.draw(v,l[w],b),v}:(()=>{const w=gn();return m.draw(w,h,b),w})()).call(un,this,r)).node()}};function D4(t,e={}){const{x:n=Me,...r}=e;return new Tm(t,{...r,x:n})}function I4(t,e={}){const{y:n=Me,...r}=e;return new Tm(t,{...r,y:n})}function Nn(t,e){return arguments.length<2&&!Jn(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Bo({anchor:t}={},e){return t===void 0?e[0]:Ce(t,"anchor",e)}function km(t){return Bo(t,["left","right"])}function Am(t){return Bo(t,["right","left"])}function Em(t){return Bo(t,["bottom","top"])}function Cm(t){return Bo(t,["top","bottom"])}function Li(){const[t,e]=Nn(...arguments);return Nm("y",km(e),t,e)}function L4(){const[t,e]=Nn(...arguments);return Nm("fy",Am(e),t,e)}function Dr(){const[t,e]=Nn(...arguments);return Dm("x",Em(e),t,e)}function O4(){const[t,e]=Nn(...arguments);return Dm("fx",Cm(e),t,e)}function Nm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:d,textStrokeOpacity:h,textStrokeWidth:g,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:b,x:y,margin:_,marginTop:M=_===void 0?20:_,marginRight:w=_===void 0?e==="right"?40:0:_,marginBottom:v=_===void 0?20:_,marginLeft:S=_===void 0?e==="left"?40:0:_,label:k,labelAnchor:T,labelArrow:N,labelOffset:I,...A}){return p=At(p),m=At(m),b=At(b),T!==void 0&&(T=Ce(T,"labelAnchor",["center","top","bottom"])),N=$m(N),rm(p&&!Qt(a)?F4(t,e,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:b,x:y,...A}):null,Qt(u)?null:R4(t,e,n,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:h,strokeWidth:g,textAnchor:l,tickSize:p,tickPadding:m,tickRotate:b,x:y,marginTop:M,marginRight:w,marginBottom:v,marginLeft:S,...A}),!Qt(u)&&k!==null?Ro([],Fm({fill:u,fillOpacity:c,...A},function(E,P,R,x,O){const V=x[t],{marginTop:z,marginRight:X,marginBottom:B,marginLeft:$}=t==="y"&&O.inset||O,U=T??(V.bandwidth?"center":"top"),Y=I??(e==="right"?X:$)-3;return U==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=U,this.frameAnchor=`${U}-${e}`,this.rotate=0),this.dy=U==="top"?3-z:U==="bottom"?B-3:0,this.dx=e==="right"?Y:-Y,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Bm(t,V,{anchor:e,label:k,labelAnchor:U,labelArrow:N})]}}}})):null)}function Dm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:d,textStrokeOpacity:h,textStrokeWidth:g,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:b,y,margin:_,marginTop:M=_===void 0?e==="top"?30:0:_,marginRight:w=_===void 0?20:_,marginBottom:v=_===void 0?e==="bottom"?30:0:_,marginLeft:S=_===void 0?20:_,label:k,labelAnchor:T,labelArrow:N,labelOffset:I,...A}){return p=At(p),m=At(m),b=At(b),T!==void 0&&(T=Ce(T,"labelAnchor",["center","left","right"])),N=$m(N),rm(p&&!Qt(a)?P4(t,e,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:b,y,...A}):null,Qt(u)?null:B4(t,e,n,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:h,strokeWidth:g,textAnchor:l,tickSize:p,tickPadding:m,tickRotate:b,y,marginTop:M,marginRight:w,marginBottom:v,marginLeft:S,...A}),!Qt(u)&&k!==null?Ro([],Fm({fill:u,fillOpacity:c,...A},function(E,P,R,x,O){const V=x[t],{marginTop:z,marginRight:X,marginBottom:B,marginLeft:$}=t==="x"&&O.inset||O,U=T??(V.bandwidth?"center":"right"),Y=I??(e==="top"?z:B)-3;return U==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${U}`,this.textAnchor=U==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-Y:Y,this.dx=U==="right"?X-3:U==="left"?3-$:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Bm(t,V,{anchor:e,label:k,labelAnchor:U,labelArrow:N})]}}}})):null)}function F4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetLeft:l=c,insetRight:d=c,dx:h=0,y:g=t==="y"?void 0:null,...p}){return Ir(I4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:f,y:g,...p,dx:e==="left"?+h-oe+ +l:+h+oe-d,anchor:"start",length:u,shape:e==="left"?Y4:H4})}function P4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetTop:l=c,insetBottom:d=c,dy:h=0,x:g=t==="x"?void 0:null,...p}){return Ir(D4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:f,x:g,...p,dy:e==="bottom"?+h-oe-d:+h+oe+ +l,anchor:"start",length:u,shape:e==="bottom"?W4:V4})}function R4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*fm):0),text:u,textAnchor:c=Math.abs(s)>60?"middle":e==="left"?"end":"start",lineAnchor:l=s>60?"top":s<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:g=h,insetRight:p=h,dx:m=0,y:b=t==="y"?void 0:null,...y}){return Ir(m4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:l,fontVariant:d,rotate:s,y:b,...y,dx:e==="left"?+m-a-f+ +g:+m+ +a+ +f-p},function(_,M,w,v,S){d===void 0&&(this.fontVariant=Rm(_)),u===void 0&&(S.text=Pm(_,M,w,v,e))})}function B4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*fm):0),text:u,textAnchor:c=Math.abs(s)>=10?s<0^e==="bottom"?"start":"end":"middle",lineAnchor:l=Math.abs(s)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:g=h,insetBottom:p=h,dy:m=0,x:b=t==="x"?void 0:null,...y}){return Ir(g4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:l,fontVariant:d,rotate:s,x:b,...y,dy:e==="bottom"?+m+ +a+ +f-p:+m-a-f+ +g},function(_,M,w,v,S){d===void 0&&(this.fontVariant=Rm(_)),u===void 0&&(S.text=Pm(_,M,w,v,e))})}function $4(){const[t,e]=Nn(...arguments);return Im("y",km(e),t,e)}function U4(){const[t,e]=Nn(...arguments);return Im("fy",Am(e),t,e)}function z4(){const[t,e]=Nn(...arguments);return Lm("x",Em(e),t,e)}function j4(){const[t,e]=Nn(...arguments);return Lm("fx",Cm(e),t,e)}function Im(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:a=e==="left"?i:null,x2:s=e==="right"?i:null,...f}){return Ir(Ou,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:a,x2:s,...Om(f)})}function Lm(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:a=e==="top"?i:null,y2:s=e==="bottom"?i:null,...f}){return Ir(Lu,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:a,y2:s,...Om(f)})}function Om({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function Fm({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:u,shapeRendering:c,clip:l=!1},d){return[,t]=Yn(t),[,e]=Ht(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:u,shapeRendering:c,clip:l,initializer:d}}function Ir(t,e,n,r,i,a){let s;function f(l,d,h,g,p,m){const b=l==null&&(e==="fx"||e==="fy"),{[e]:y}=g;if(!y)throw new Error(`missing scale: ${e}`);const _=y.domain();let{interval:M,ticks:w,tickFormat:v,tickSpacing:S=e==="x"?80:35}=i;if(typeof w=="string"&&Um(y)&&(M=w,w=void 0),w===void 0&&(w=ki(M,y.type)??q4(y,S)),l==null){if(Jn(w))l=ue(w);else if($3(w))l=As(w,..._n(_));else if(y.interval){let T=y.interval;if(y.ticks){const[N,I]=_n(_),A=(I-N)/T[Mi];T=dl(T,A/w)??T,l=As(T,N,I)}else{l=_;const N=l.length;T=dl(T,N/w)??T,T!==y.interval&&(l=As(T,..._n(l)))}if(T===y.interval){const N=Math.round(l.length/w);N>1&&(l=l.filter((I,A)=>A%N===0))}}else y.ticks?l=y.ticks(w):l=_;if(!y.ticks&&l.length&&l!==_){const T=new oo(_);l=l.filter(N=>T.has(N)),l.length||wn(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?d=[En(l)]:s[e]={scale:e,value:Me}}a==null||a.call(this,y,l,w,v,s);const k=Object.fromEntries(Object.entries(s).map(([T,N])=>[T,{...N,value:_e(l,N.value)}]));return b&&(d=m.filterFacets(l,k)),{data:l,facets:d,channels:k}}const u=vr(i).initializer,c=t(n,vr({...i,initializer:f},u));return n==null?(s=c.channels,c.channels={}):s={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function q4(t,e){const[n,r]=_n(t.range());return(r-n)/e}function Pm(t,e,n,r,i){return{value:$u(t,e,n,r,i)}}function $u(t,e,n,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&ve(e)?w3(t.type,e,i)??Mr:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?Mr:typeof r=="string"?(ve(t.domain())?vi:Er)(r):Si(r)}function As(t,e,n){return t.range(e,t.offset(t.floor(n)))}const W4={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},V4={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},Y4={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},H4={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function Rm(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Bm(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&Um(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=i5(e);s&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function $m(t="auto"){return Qt(t)?!1:typeof t=="boolean"?t:Ce(t,"labelArrow",["auto","up","right","down","left"])}function Um(t){return ve(t.domain())}function Yl(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function X4(t,{opacity:e,...n}={}){if(!Kn(t)&&!Jg(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return zm(t,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",Ht(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function G4(t,{fill:e=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(l=>(l=t.hint)==null?void 0:l.stroke)()!==void 0?t.hint.stroke:Qt(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...f}={},u){const[d,h]=Yn(e),[g,p]=Yn(r),m=Yl(u,d),b=Yl(u,g),y=s*s*Math.PI;return n=Ht(n)[1],i=Ht(i)[1],a=Ht(a)[1],zm(t,f,(_,M,w,v)=>_.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",v).attr("fill",d==="color"?S=>m.scale(S):h).attr("fill-opacity",n).attr("stroke",g==="color"?S=>b.scale(S):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",S=>{const k=gn();return t.scale(S).draw(k,y),k}))}function zm(t,e={},n){let{columns:r,tickFormat:i,fontVariant:a=sm(t),swatchSize:s=15,swatchWidth:f=s,swatchHeight:u=s,marginLeft:c=0,className:l,style:d,width:h}=e;const g=Tu(e);l=ku(l),i=$u(t.scale,t.domain,void 0,i);const p=Rt("div",g).attr("class",`${l}-swatches ${l}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${l}-swatches-columns .${l}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${l}-swatches-columns .${l}-swatch::before) {
  flex-shrink: 0;
}
:where(.${l}-swatches-columns .${l}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${l}-swatch`).call(n,t,f,u).call(b=>b.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${l}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${l}-swatches-wrap .${l}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${l}-swatch`).call(n,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${l}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${l}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",c?`${+c}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",Ot(a,"normal")).call(Au,d).node()}const Cf=new Map([["symbol",G4],["color",qm],["opacity",J4]]);function Z4(t,e,n={}){return(r,i)=>{if(!Cf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Cf.get(r)(t[r],jm(e,n[r],i),a=>t[a])}}function jm({className:t,...e},{label:n,ticks:r,tickFormat:i}={},a){return H3(a,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function qm(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return X4(t,n);case"ramp":return t4(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function J4({type:t,interpolate:e,...n},{legend:r=!0,color:i=la(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return qm({type:t,...n,interpolate:K4(i)},{legend:r,...a})}function K4(t){const{r:e,g:n,b:r}=la(t)||la(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function Q4(t,e,n){const r=[];for(const[i,a]of Cf){const s=n[i];if(s!=null&&s.legend&&i in t){const f=a(t[i],jm(e,t[i],s),u=>t[u]);f!=null&&r.push(f)}}return r}const t8={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},e8={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class n8 extends ie{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:f=r,rx:u,ry:c}=e;super(sa,void 0,e,n==null?t8:e8),this.anchor=Sg(n,"anchor",["top","right","bottom","left"]),this.insetTop=At(i),this.insetRight=At(a),this.insetBottom=At(s),this.insetLeft=At(f),this.rx=At(u),this.ry=At(c)}render(e,n,r,i,a){const{marginTop:s,marginRight:f,marginBottom:u,marginLeft:c,width:l,height:d}=i,{anchor:h,insetTop:g,insetRight:p,insetBottom:m,insetLeft:b,rx:y,ry:_}=this,M=c+b,w=l-f-p,v=s+g,S=d-u-m;return Rt(h?"svg:line":"svg:rect",a).datum(0).call(Ne,this,i,a).call(De,this).call(un,this,r).call(Ie,this,{}).call(h==="left"?k=>k.attr("x1",M).attr("x2",M).attr("y1",v).attr("y2",S):h==="right"?k=>k.attr("x1",w).attr("x2",w).attr("y1",v).attr("y2",S):h==="top"?k=>k.attr("x1",M).attr("x2",w).attr("y1",v).attr("y2",v):h==="bottom"?k=>k.attr("x1",M).attr("x2",w).attr("y1",S).attr("y2",S):k=>k.attr("x",M).attr("y",v).attr("width",w-M).attr("height",S-v).attr("rx",y).attr("ry",_)).node()}}function Wm(t){return new n8(t)}const Es={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},r8=new Set(["geometry","href","src","ariaLabel","scales"]);class i8 extends ie{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Jn(e)&&Ag(e)&&(n={...n,title:Me});const{x:r,y:i,x1:a,x2:s,y1:f,y2:u,anchor:c,preferredAnchor:l="bottom",monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:p,fontVariant:m,fontWeight:b,lineHeight:y=1,lineWidth:_=20,frameAnchor:M,format:w,textAnchor:v="start",textOverflow:S,textPadding:k=8,title:T,pointerSize:N=12,pathFilter:I="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:u,scale:"y",optional:f==null},title:{value:T,optional:!0}},n,Es),this.anchor=vf(c,"anchor"),this.preferredAnchor=vf(l,"preferredAnchor"),this.frameAnchor=No(M),this.textAnchor=Ot(v,"middle"),this.textPadding=+k,this.pointerSize=+N,this.pathFilter=Yt(I),this.lineHeight=+y,this.lineWidth=+_,this.textOverflow=bm(S),this.monospace=!!d,this.fontFamily=Yt(h),this.fontSize=At(g),this.fontStyle=Yt(p),this.fontVariant=Yt(m),this.fontWeight=Yt(b);for(const A in Es)A in this.channels&&(this[A]=Es[A]);this.splitLines=_m(this),this.clipLine=wm(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(e,n,r,i,a){const s=this,{x:f,y:u,fx:c,fy:l}=n,{ownerSVGElement:d,document:h}=a,{anchor:g,monospace:p,lineHeight:m,lineWidth:b}=this,{textPadding:y,pointerSize:_,pathFilter:M}=this,{marginTop:w,marginLeft:v}=i,{x1:S,y1:k,x2:T,y2:N,x:I=S??T,y:A=k??N}=r,E=c?c(e.fx)-v:0,P=l?l(e.fy)-w:0,[R,x]=Ii(this,i),O=am(r,R),V=om(r,x),z=p?Bu:Ru,X=z(ur);let B,$;"title"in r?(B=Hl.call(this,{title:r.channels.title},n),$=u8):(B=Hl.call(this,r.channels,n),$=c8);const U=Rt("svg:g",a).call(Ne,this,i,a).call(ym,this).call(Ie,this,{x:I&&f,y:A&&u}).call(tt=>tt.selectAll().data(e).enter().append("g").attr("transform",nt=>`translate(${Math.round(O(nt))},${Math.round(V(nt))})`).call(De,this).call(nt=>nt.append("path").attr("filter",M)).call(nt=>nt.append("text").each(function(j){const Q=Kt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const F=$.call(s,j,e,B,n,r);if(typeof F=="string")for(const H of s.splitLines(F))Y(Q,{value:s.clipLine(H)});else{const H=new Set;for(const G of F){const{label:L=""}=G;L&&H.has(L)||(H.add(L),Y(Q,G))}}})));function Y(tt,{label:nt,value:j,color:Q,opacity:F}){nt??(nt=""),j??(j="");const H=Q!=null||F!=null;let G,L=b*100;const[mt]=Sr(nt,L,z,X);if(mt>=0)nt=nt.slice(0,mt).trimEnd()+ur,G=j.trim(),j="";else{(nt||!j&&!H)&&(j=" "+j);const[yt]=Sr(j,L-z(nt),z,X);yt>=0&&(G=j.trim(),j=j.slice(0,yt).trimEnd()+ur)}const rt=tt.append("tspan").attr("x",0).attr("dy",`${m}em`).text("​");nt&&rt.append("tspan").attr("font-weight","bold").text(nt),j&&rt.append(()=>h.createTextNode(j)),H&&rt.append("tspan").text(" ■").attr("fill",Q).attr("fill-opacity",F).style("user-select","none"),G&&rt.append("title").text(G)}function D(){const{width:tt,height:nt}=i.facet??i;U.selectChildren().each(function(j){let{x:Q,width:F,height:H}=this.getBBox();F=Math.round(F),H=Math.round(H);let G=g;if(G===void 0){const rt=O(j)+E,yt=V(j)+P,St=rt+F+_+y*2<tt,Z=rt-F-_-y*2>0,wt=yt+H+_+y*2<nt,ae=yt-H-_-y*2>0;G=St&&Z?wt&&ae?s.preferredAnchor:ae?"bottom":"top":wt&&ae?St?"left":"right":(St||Z)&&(wt||ae)?`${ae?"bottom":"top"}-${St?"left":"right"}`:s.preferredAnchor}const L=this.firstChild,mt=this.lastChild;if(L.setAttribute("d",f8(G,_,y,F,H)),Q)for(const rt of mt.childNodes)rt.setAttribute("x",-Q);mt.setAttribute("y",`${+o8(G,mt.childNodes.length,m).toFixed(6)}em`),mt.setAttribute("transform",`translate(${s8(G,_,y,F,H)})`)}),U.attr("visibility",null)}return e.length&&(U.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(D):typeof requestAnimationFrame<"u"&&requestAnimationFrame(D)),U.node()}}function a8(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=xi(e,n)),new i8(t,{...r,x:e,y:n})}function o8(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function s8(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function f8(t,e,n,r,i){const a=r+n*2,s=i+n*2;switch(t){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${s}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${s}h${-a}v${-s}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${s}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-s/2}h${-a}v${s}h${a}v${e/2-s/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-s}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-s}h${-a}v${s}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-s}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-s/2}h${a}v${s}h${-a}v${e/2-s/2}z`}}function Hl(t,e){var i,a;const n={};let r=this.format;r=Xl(r,t,"x"),r=Xl(r,t,"y"),this.format=r;for(const s in r){const f=r[s];if(!(f===null||f===!1))if(s==="fx"||s==="fy")n[s]=!0;else{const u=Ml(t,s);u&&(n[s]=u)}}for(const s in t){if(s in n||s in r||r8.has(s))continue;const f=Ml(t,s);f&&(n[s]=f)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const s in n){const f=this.format[s];if(typeof f=="string"){const u=((i=n[s])==null?void 0:i.value)??((a=e[s])==null?void 0:a.domain())??[];this.format[s]=(ve(u)?vi:Er)(f)}else if(f===void 0||f===!0){const u=e[s];this.format[s]=u!=null&&u.bandwidth?$u(u,u.domain()):Mr}}return n}function Xl(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const a=Object.entries(t),s=t[n];return a.splice(a.findIndex(([f])=>f===n)+1,0,[r,s],[i,s]),Object.fromEntries(a)}function u8(t,e,{title:n}){return this.format.title(n.value[t],t)}function*c8(t,e,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:Ha(r,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const s=n[a];if(a==="x2"&&"x1"in n)yield{label:Zl(r,n,"x"),value:Gl(this.format.x2,n.x1,s,t)};else if(a==="y2"&&"y1"in n)yield{label:Zl(r,n,"y"),value:Gl(this.format.y2,n.y1,s,t)};else{const f=s.value[t],u=s.scale;if(!Tn(f)&&u==null)continue;yield{label:Ha(r,n,a),value:this.format[a](f,t),color:u==="color"?i[a][t]:null,opacity:u==="opacity"?i[a][t]:null}}}}function Gl(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}–${t(n.value[r],r)}`}function Zl(t,e,n){const r=Ha(t,e,`${n}1`,n),i=Ha(t,e,`${n}2`,n);return r===i?r:`${r}–${i}`}function Ha(t,e,n,r=n){const i=e[n],a=t[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function Vm(t={}){var X;const{facet:e,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:f}=t,u=ku(t.className),c=t.marks===void 0?[]:Kl(t.marks);c.push(...b8(c));const l=m8(e,t),d=new Map;for(const B of c){const $=Ql(B,l,t);$&&d.set(B,$)}const h=new Map;l&&$r(h,[l],t),$r(h,d,t);const g=Kl(y8(c,h,t));for(const B of g){const $=Ql(B,l,t);$&&d.set(B,$)}c.unshift(...g);let p=l5(h,t);if(p!==void 0){const B=l?xs(p,l):void 0;for(const U of c){if(U.facet===null||U.facet==="super")continue;const Y=d.get(U);Y!==void 0&&(Y.facetsIndex=U.fx!=null||U.fy!=null?xs(p,Y):B)}const $=new Set;for(const{facetsIndex:U}of d.values())U==null||U.forEach((Y,D)=>{(Y==null?void 0:Y.length)>0&&$.add(D)});p.forEach(0<$.size&&$.size<p.length?(U,Y)=>U.empty=!$.has(Y):U=>U.empty=!1);for(const U of c)if(U.facet==="exclude"){const Y=d.get(U);Y!==void 0&&(Y.facetsIndex=g5(Y.facetsIndex))}}for(const B of Et.keys())Ya(t[B])&&B!=="fx"&&B!=="fy"&&h.set(B,[]);const m=new Map;for(const B of c){if(m.has(B))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:$,channels:U}=d.get(B)??{},{data:Y,facets:D,channels:tt}=B.initialize($,U,t);Uu(tt,t),m.set(B,{data:Y,facets:D,channels:tt})}const b=Tf($r(h,m,t),t),y=Z5(b,c,t);n5(b,y);const _=Cl(b),{fx:M,fy:w}=_,v=M||w?Hg(b,y):y,S=M||w?T8(_,y):y,k=Tu(t),T=k.document,N=Xh("svg").call(T.documentElement);let I=N;k.ownerSVGElement=N,k.className=u,k.projection=S5(t,v),k.filterFacets=(B,$)=>xs(p,{channels:$,groups:xu(B,$)}),k.getMarkState=B=>{const $=m.get(B),U=d.get(B);return{...$,channels:{...$.channels,...U==null?void 0:U.channels}}},k.dispatchValue=B=>{I.value!==B&&(I.value=B,I.dispatchEvent(new Event("input",{bubbles:!0})))};const A=new Set;for(const[B,$]of m)if(B.initializer!=null){const U=B.facet==="super"?S:v,Y=B.initializer($.data,$.facets,$.channels,_,U,k);if(Y.data!==void 0&&($.data=Y.data),Y.facets!==void 0&&($.facets=Y.facets),Y.channels!==void 0){const{fx:D,fy:tt,...nt}=Y.channels;g8(nt),Object.assign($.channels,nt);for(const j of Object.values(nt)){const{scale:Q}=j;Q!=null&&!G3(Et.get(Q))&&(Ym(j,t),A.add(Q))}(D!=null||tt!=null)&&d.set(B,!0)}}if(A.size){const B=new Map;$r(B,m,t,D=>A.has(D)),$r(h,m,t,D=>A.has(D));const $=x8(Tf(B,t),b),{scales:U,...Y}=Cl($);Object.assign(b,$),Object.assign(_,Y),Object.assign(_.scales,U)}let E,P;p!==void 0&&(E={x:M==null?void 0:M.domain(),y:w==null?void 0:w.domain()},p=h5(p,E),P=d5(M,w,y));for(const[B,$]of m)$.values=B.scale($.channels,_,k);const{width:R,height:x}=y;Kt(N).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",R).attr("height",x).attr("viewBox",`0 0 ${R} ${x}`).attr("aria-label",s).attr("aria-description",f).call(B=>B.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Au,n);for(const B of c){const{channels:$,values:U,facets:Y}=m.get(B);if(p===void 0||B.facet==="super"){let D=null;if(Y&&(D=Y[0],D=B.filter(D,$,U),D.length===0))continue;const tt=B.render(D,_,U,S,k);if(tt==null)continue;N.appendChild(tt)}else{let D;for(const tt of p){if(!(((X=B.facetAnchor)==null?void 0:X.call(B,p,E,tt))??!tt.empty))continue;let nt=null;if(Y){const Q=d.has(B);if(nt=Y[Q?tt.i:0],nt=B.filter(nt,$,U),nt.length===0)continue;!Q&&nt===Y[0]&&(nt=L3(nt)),nt.fx=tt.x,nt.fy=tt.y,nt.fi=tt.i}const j=B.render(nt,_,U,v,k);if(j!=null){(D??(D=Kt(N).append("g"))).append(()=>j).datum(tt);for(const Q of["aria-label","aria-description","aria-hidden","transform"])j.hasAttribute(Q)&&(D.attr(Q,j.getAttribute(Q)),j.removeAttribute(Q))}}D==null||D.selectChildren().attr("transform",P)}}const O=Q4(b,k,t),{figure:V=r!=null||i!=null||a!=null||O.length>0}=t;V&&(I=T.createElement("figure"),I.className=`${u}-figure`,I.style.maxWidth="initial",r!=null&&I.append(Jl(T,r,"h2")),i!=null&&I.append(Jl(T,i,"h3")),I.append(...O,N),a!=null&&I.append(l8(T,a)),"value"in N&&(I.value=N.value,delete N.value)),I.scale=c5(_.scales),I.legend=Z4(b,k,t);const z=$w();return z>0&&Kt(N).append("text").attr("x",R).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${z.toLocaleString("en-US")} warning${z===1?"":"s"}. Please check the console.`),I}function Jl(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function l8(t,e){const n=t.createElement("figcaption");return n.append(e),n}function Kl(t){return t.flat(1/0).filter(e=>e!=null).map(h8)}function h8(t){return typeof t.render=="function"?t:new d8(t)}class d8 extends ie{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Uu(t,e){for(const n in t)Ym(t[n],e);return t}function Ym(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:f=a?u=>u==null?NaN:u*100:kg(s,i)}=e[n]??{};f!=null&&(t.value=$t(t.value,f),t.transform=!1)}function g8(t){for(const e in t)Lg(e,t[e])}function $r(t,e,n,r=T3){var i,a;for(const{channels:s}of e.values())for(const f in s){const u=s[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!A5(n)){const l=((i=n.x)==null?void 0:i.domain)===void 0,d=((a=n.y)==null?void 0:a.domain)===void 0;if(l||d){const[h,g]=C5(u);l&&Cs(t,"x",h),d&&Cs(t,"y",g)}}}else Cs(t,c,u)}return t}function Cs(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function m8(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=ue(t.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=fi(i,{value:n,scale:"fx"})),r!=null&&(a.fy=fi(i,{value:r,scale:"fy"})),Uu(a,e);const s=xu(i,a);return{channels:a,groups:s,data:t.data}}function Ql(t,e,n){var u;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=ue(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const l={};return r!=null&&(l.fx=fi(c,{value:r,scale:"fx"})),i!=null&&(l.fy=fi(c,{value:i,scale:"fy"})),Uu(l,n),{channels:l,groups:xu(c,l)}}if(e===void 0)return;const{channels:a,groups:s,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:a,groups:s};f.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((u=ue(t.data))==null?void 0:u.length)===f.length&&wn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function p8(t,e={}){return vr({...e,x:null,y:null},(n,r,i,a,s,f)=>f.getMarkState(t))}function b8(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?Q5:/^y$/i.test(i)?$l:K5,r=i(p8(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===$l?"left":"bottom");const s=a8(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,e.push(s)}}return e}function y8(t,e,n){let{projection:r,x:i={},y:a={},fx:s={},fy:f={},axis:u,grid:c,facet:l={},facet:{axis:d=u,grid:h}=l,x:{axis:g=u,grid:p=g===null?null:c}=i,y:{axis:m=u,grid:b=m===null?null:c}=a,fx:{axis:y=d,grid:_=y===null?null:h}=s,fy:{axis:M=d,grid:w=M===null?null:h}=f}=n;(r||!Ya(i)&&!th("x",t))&&(g=p=null),(r||!Ya(a)&&!th("y",t))&&(m=b=null),e.has("fx")||(y=_=null),e.has("fy")||(M=w=null),g===void 0&&(g=!Xi(t,"x")),m===void 0&&(m=!Xi(t,"y")),y===void 0&&(y=!Xi(t,"fx")),M===void 0&&(M=!Xi(t,"fy")),g===!0&&(g="bottom"),m===!0&&(m="left"),y===!0&&(y=g==="top"||g===null?"bottom":"top"),M===!0&&(M=m==="right"||m===null?"left":"right");const v=[];return Hi(v,w,U4,f),Yi(v,M,L4,"right","left",l,f),Hi(v,_,j4,s),Yi(v,y,O4,"top","bottom",l,s),Hi(v,b,$4,a),Yi(v,m,Li,"left","right",n,a),Hi(v,p,z4,i),Yi(v,g,Dr,"bottom","top",n,i),v}function Yi(t,e,n,r,i,a,s){if(!e)return;const f=_8(e);s=w8(f?r:e,a,s);const{line:u}=s;(n===Li||n===Dr)&&u&&!si(u)&&t.push(Wm(v8(s))),t.push(n(s)),f&&t.push(n({...s,anchor:i,label:null}))}function Hi(t,e,n,r){!e||si(e)||t.push(n(M8(e,r)))}function _8(t){return/^\s*both\s*$/i.test(t)}function w8(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:d,label:h=e.label,labelAnchor:g,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:d,label:h,labelAnchor:g,labelArrow:p,labelOffset:m}}function v8(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function M8(t,{stroke:e=Co(t)?t:void 0,ticks:n=S8(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function S8(t){switch(typeof t){case"number":return!0;case"string":return!Co(t)}return Jn(t)||typeof(t==null?void 0:t.range)=="function"}function Xi(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function th(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function x8(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function T8({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:u}=Su(n),c=t&&eh(t),l=e&&eh(e);return{marginTop:e?l[0]:r,marginRight:t?f-c[1]:i,marginBottom:e?u-l[1]:a,marginLeft:t?c[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:u}}function eh(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const k8=new Map([["basis",J6],["basis-closed",K6],["basis-open",Q6],["bundle",t3],["bump-x",U6],["bump-y",z6],["cardinal",e3],["cardinal-closed",n3],["cardinal-open",r3],["catmull-rom",i3],["catmull-rom-closed",a3],["catmull-rom-open",o3],["linear",Mo],["linear-closed",s3],["monotone-x",f3],["monotone-y",u3],["natural",c3],["step",l3],["step-after",d3],["step-before",h3]]);function A8(t=Mo,e){if(typeof t=="function")return t;const n=k8.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function Hm(t=xr,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?xr:A8(t,e)}function xr(t){return Mo(t)}function E8(t={}){return xg(t)?t:{...t,x:Me}}function C8(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,r=new Uint8Array(n);let i=0;for(const f of e)for(const u of f)r[u]&&++i,r[u]=1;if(i===0)return{data:t,facets:e};t=oi(t);const a=t[_g]=new Uint32Array(n+i);e=e.map(f=>oi(f,Uint32Array));let s=n;r.fill(0);for(const f of e)for(let u=0,c=f.length;u<c;++u){const l=f[u];r[l]?(f[u]=s,t[s]=t[l],a[s]=l,++s):a[l]=l,r[l]=1}return{data:t,facets:e}}function N8(t={},e={}){arguments.length===1&&([t,e]=I8(t));const{y1:n,y:r=n,x:i,...a}=e,[s,f,u,c]=O8(r,i,"y","x",t,a);return{...s,y1:n,y:f,x1:u,x2:c,x:F3(u,c)}}function D8({x:t,x1:e,x2:n,...r}={}){return r=Eu(r,"y"),e===void 0&&n===void 0?N8({x:t,...r}):([e,n]=I3(t,e,n),{...r,x1:e,x2:n})}function I8(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const L8={length:!0};function O8(t,e=x3,n,r,{offset:i,order:a,reverse:s},f){if(e===null)throw new Error(`stack requires ${r}`);const u=Tg(f),[c,l]=O3(t),[d,h]=wf(e),[g,p]=wf(e);return d.hint=g.hint=L8,i=F8(i),a=B8(a,i,r),[yu(f,(m,b,y)=>{({data:m,facets:b}=C8(m,b));const _=t==null?void 0:l(P3(_e(m,t),y==null?void 0:y[n])),M=_e(m,e,Float64Array),w=_e(m,u),v=a&&a(m,_,M,w),S=m.length,k=h(new Float64Array(S)),T=p(new Float64Array(S)),N=[];for(const I of b){const A=_?Array.from(Uf(I,E=>_[E]).values()):[I];if(v)for(const E of A)E.sort(v);for(const E of A){let P=0,R=0;s&&E.reverse();for(const x of E){const O=M[x];O<0?P=T[x]=(k[x]=P)+O:O>0?R=T[x]=(k[x]=R)+O:T[x]=k[x]=R}}N.push(A)}return i&&i(N,k,T,w),{data:m,facets:b}}),c,d,g]}function F8(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return P8;case"center":case"silhouette":return R8;case"wiggle":return Gm}throw new Error(`unknown offset: ${t}`)}}function Xm(t,e){let n=0,r=0;for(const i of t){const a=e[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function P8(t,e,n){for(const r of t)for(const i of r){const[a,s]=Xm(i,n);for(const f of i){const u=1/(s-a||1);e[f]=u*(e[f]-a),n[f]=u*(n[f]-a)}}}function R8(t,e,n){for(const r of t){for(const i of r){const[a,s]=Xm(i,n);for(const f of i){const u=(s+a)/2;e[f]-=u,n[f]-=u}}Zm(r,e,n)}Jm(t,e,n)}function Gm(t,e,n,r){for(const i of t){const a=new zn;let s=0;for(const f of i){let u=-1;const c=f.map(g=>Math.abs(n[g]-e[g])),l=f.map(g=>{u=r?r[g]:++u;const p=n[g]-e[g],m=a.has(u)?p-a.get(u):0;return a.set(u,p),m}),d=[0,...t2(l)];for(const g of f)e[g]+=s,n[g]+=s;const h=jn(c);h&&(s-=jn(c,(g,p)=>(l[p]/2+d[p])*g)/h)}Zm(i,e,n)}Jm(t,e,n)}function Zm(t,e,n){const r=Ue(t,i=>Ue(i,a=>e[a]));for(const i of t)for(const a of i)e[a]-=r,n[a]-=r}function Jm(t,e,n){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),a=i.map(f=>(Ue(f,u=>e[u])+se(f,u=>n[u]))/2),s=Ue(a);for(let f=0;f<r;f++){const u=s-a[f];for(const c of i[f])e[c]+=u,n[c]+=u}}function B8(t,e,n){if(t===void 0&&e===Gm)return nh(je);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Va:je;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return $8(i);case"z":return U8(i);case"sum":return z8(i);case"appearance":return j8(i);case"inside-out":return nh(i)}return rh(wg(t))}if(typeof t=="function")return(t.length===1?rh:q8)(t);if(Array.isArray(t))return W8(t);throw new Error(`invalid order: ${t}`)}}function $8(t){return(e,n,r)=>(i,a)=>t(r[i],r[a])}function U8(t){return(e,n,r,i)=>(a,s)=>t(i[a],i[s])}function z8(t){return $o(t,(e,n,r,i)=>jf(En(e),a=>jn(a,s=>r[s]),a=>i[a]))}function j8(t){return $o(t,(e,n,r,i)=>jf(En(e),a=>n[sd(a,s=>r[s])],a=>i[a]))}function nh(t){return $o(t,(e,n,r,i)=>{const a=En(e),s=jf(a,d=>n[sd(d,h=>r[h])],d=>i[d]),f=Hr(a,d=>jn(d,h=>r[h]),d=>i[d]),u=[],c=[];let l=0;for(const d of s)l<0?(l+=f.get(d),u.push(d)):(l-=f.get(d),c.push(d));return c.reverse().concat(u)})}function rh(t){return e=>{const n=_e(e,t);return(r,i)=>je(n[r],n[i])}}function q8(t){return e=>(n,r)=>t(e[n],e[r])}function W8(t){return $o(je,()=>t)}function $o(t,e){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new zn(e(n,r,i,a).map((f,u)=>[f,u]));return(f,u)=>t(s.get(a[f]),s.get(a[u]))}}const V8={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Y8 extends ie{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:s,curve:f,tension:u}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,V8),this.curve=Hm(f,u),Fo(this,n)}project(e,n,r){this.curve!==xr&&super.project(e,n,r)}render(e,n,r,i,a){const{x1:s,y1:f,x2:u=s,y2:c=f}=r,{curve:l}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,n).call(d=>d.selectAll().data(e).enter().append("path").call(De,this).attr("d",l===xr&&a.projection?H8(a.projection,s,f,u,c):h=>{const g=gn(),p=l(g);return p.lineStart(),p.point(s[h],f[h]),p.point(u[h],c[h]),p.lineEnd(),g}).call(un,this,r).call(Nu,this,r,a)).node()}}function H8(t,e,n,r,i){const a=uo(t);return e=bn(e),n=bn(n),r=bn(r),i=bn(i),s=>a({type:"LineString",coordinates:[[e[s],n[s]],[r[s],i[s]]]})}function Nf(t,{x:e,x1:n,x2:r,y:i,y1:a,y2:s,...f}={}){return[n,r]=ih(e,n,r),[a,s]=ih(i,a,s),new Y8(t,{...f,x1:n,x2:r,y1:a,y2:s})}function ih(t,e,n){if(t===void 0){if(e===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[e]}else{if(e===void 0)return n===void 0?[t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}class X8 extends ie{constructor(e,n,r={},i){super(e,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:f=a,insetBottom:u=a,insetLeft:c=a,rx:l,ry:d}=r;this.insetTop=At(s),this.insetRight=At(f),this.insetBottom=At(u),this.insetLeft=At(c),this.rx=Ot(l,"auto"),this.ry=Ot(d,"auto")}render(e,n,r,i,a){const{rx:s,ry:f}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(this._transform,this,n).call(u=>u.selectAll().data(e).enter().append("rect").call(De,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(ft,"rx",s).call(ft,"ry",f).call(un,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:f}=this,u=n&&e?e.bandwidth():a-r-i;return Math.max(0,u-s-f)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:f}=this,u=n&&e?e.bandwidth():a-r-i;return Math.max(0,u-s-f)}}const G8={ariaLabel:"cell"};class Z8 extends X8{constructor(e,{x:n,y:r,...i}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,G8)}_transform(e,n){e.call(Ie,n,{},0,0)}}function J8(t,{x:e,y:n,...r}={}){return[e,n]=xi(e,n),new Z8(t,{...r,x:e,y:n})}const K8={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Q8(t){return t.sort===void 0&&t.reverse===void 0?rw({channel:"-r"},t):t}class t7 extends ie{constructor(e,n={}){const{x:r,y:i,r:a,rotate:s,symbol:f=ii,frameAnchor:u}=n,[c,l]=Ht(s,0),[d,h]=ew(f),[g,p]=Ht(a,d==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:g,scale:"r",filter:To,optional:!0},rotate:{value:c,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},Q8(n),K8),this.r=p,this.rotate=l,this.symbol=h,this.frameAnchor=No(u);const{channels:m}=this,{symbol:b}=m;if(b){const{fill:y,stroke:_}=m;b.hint={fill:y?y.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:_?_.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,r:l,rotate:d,symbol:h}=r,{r:g,rotate:p,symbol:m}=this,[b,y]=Ii(this,i),_=m===ii,M=l?void 0:g*g*Math.PI;return uu(g)&&(e=[]),Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{x:u&&s,y:c&&f}).call(w=>w.selectAll().data(e).enter().append(_?"circle":"path").call(De,this).call(_?v=>{v.attr("cx",u?S=>u[S]:b).attr("cy",c?S=>c[S]:y).attr("r",l?S=>l[S]:g)}:v=>{v.attr("transform",Fu`translate(${u?S=>u[S]:b},${c?S=>c[S]:y})${d?S=>` rotate(${d[S]})`:p?` rotate(${p})`:""}`).attr("d",l&&h?S=>{const k=gn();return h[S].draw(k,l[S]*l[S]*Math.PI),k}:l?S=>{const k=gn();return m.draw(k,l[S]*l[S]*Math.PI),k}:h?S=>{const k=gn();return h[S].draw(k,M),k}:(()=>{const S=gn();return m.draw(S,M),S})())}).call(un,this,r)).node()}}function e7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=xi(e,n)),new t7(t,{...r,x:e,y:n})}function n7(t,e){return e7(t,{...e,symbol:"circle"})}const r7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let i7=class extends ie{constructor(e,n={}){const{x:r,y:i,z:a,curve:s,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Tg(n),optional:!0}},n,r7),this.z=a,this.curve=Hm(s,f),Fo(this,n)}filter(e){return e}project(e,n,r){this.curve!==xr&&super.project(e,n,r)}render(e,n,r,i,a){const{x:s,y:f}=r,{curve:u}=this;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,n).call(c=>c.selectAll().data(W5(e,[s,f],this,r)).enter().append("path").call(De,this).call(z5,this,r).call(i4,this,r,a).attr("d",u===xr&&a.projection?a7(a.projection,s,f):$6().curve(u).defined(l=>l>=0).x(l=>s[l]).y(l=>f[l]))).node()}};function a7(t,e,n){const r=uo(t);return e=bn(e),n=bn(n),i=>{let a=[];const s=[a];for(const f of i)f===-1?(a=[],s.push(a)):a.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:s})}}function o7(t,{x:e,y:n,...r}={}){return[e,n]=xi(e,n),new i7(t,{...r,x:e,y:n})}const s7={ariaLabel:"rect"};class Km extends ie{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:f=0,insetTop:u=f,insetRight:c=f,insetBottom:l=f,insetLeft:d=f,rx:h,ry:g}=n;super(e,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&s==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,s7),this.insetTop=At(u),this.insetRight=At(c),this.insetBottom=At(l),this.insetLeft=At(d),this.rx=Ot(h,"auto"),this.ry=Ot(g,"auto")}render(e,n,r,i,a){const{x:s,y:f}=n,{x1:u,y1:c,x2:l,y2:d}=r,{marginTop:h,marginRight:g,marginBottom:p,marginLeft:m,width:b,height:y}=i,{projection:_}=a,{insetTop:M,insetRight:w,insetBottom:v,insetLeft:S,rx:k,ry:T}=this,N=(s!=null&&s.bandwidth?s.bandwidth():0)-S-w,I=(f!=null&&f.bandwidth?f.bandwidth():0)-M-v;return Rt("svg:g",a).call(Ne,this,i,a).call(Ie,this,{},0,0).call(A=>A.selectAll().data(e).enter().append("rect").call(De,this).attr("x",u&&(_||!yn(s))?l?E=>Math.min(u[E],l[E])+S:E=>u[E]+S:m+S).attr("y",c&&(_||!yn(f))?d?E=>Math.min(c[E],d[E])+M:E=>c[E]+M:h+M).attr("width",u&&(_||!yn(s))?l?E=>Math.max(0,Math.abs(l[E]-u[E])+N):N:b-g-m-w-S).attr("height",c&&(_||!yn(f))?d?E=>Math.max(0,Math.abs(c[E]-d[E])+I):I:y-h-p-M-v).call(ft,"rx",k).call(ft,"ry",T).call(un,this,r)).node()}}function f7(t,e){return new Km(t,a4(dm(e)))}function zu(t,e={}){return D3(e)||(e={...e,y:vg,x2:Me,interval:1}),new Km(t,D8(dm(E8(e))))}ie.prototype.plot=function({marks:t=[],...e}={}){return Vm({...e,marks:[...t,this]})};function u7(t,e={}){if(!t||t.length===0)return[];let n=vn(t[0]),r=e.include?e.include:n;r=ca(e.include||n,e.exclude||[]);let i=ca(n,r);return console.log(r,i),Kh(a=>r.map(s=>{let f=Ub(i,a);return f[e.key||"key"]=s,f[e.value||"value"]=a[s],f}),t)}class c7{add(e,n,r){let i=`${r.view.id}::${r.eventname}`;return It(this[i])?this[i]={iact:r,oldVal:e,newVal:n}:this[i].newVal=n,console.log("WriteSet.add",i,this[i]),this}forEach(e){In(this).forEach(e)}merge(e){if(It(e))return this;e.forEach(({iact:n,oldVal:r,newVal:i})=>{this.add(r,i,n)})}}const dn=Zt(Array),ah=()=>null;function cr(t,e,n){if(Zt(String,e))t[e]=n;else if(dn(e)){let[r,...i]=e;It(t[r])&&(t[r]={}),Jt(i)?cr(t,r,n):cr(t[r],i,n)}}function Xa(t,e,n){if(Zt(String,e))It(t[e])&&(t[e]=[]),t[e].push(n);else if(dn(e)){let[r,...i]=e;It(t[r])&&(t[r]=Jt(i)?[]:{}),Jt(i)?Xa(t,r,n):Xa(t[r],i,n)}}function ln(t,e,n){if(Zt(String,e))return t[e]||(Zt(Function,n)?n():n);if(dn(e)){let[r,...i]=e;return It(t[r])?Zt(Function,n)?n():n:Jt(i)?ln(t,r,n):ln(t[r],i,n)}}class l7{constructor(){this.defaults={},this.dependencies={},this.view2iacts={},this.states={},this.viewData={}}add(e,n,r=ah,i){if(!e.attr)return this;let a=e.view.id,s=e.eventname;return Xa(this.dependencies,[a,s],{view:n,domainfunction:r}),Xa(this.view2iacts,n.id,e),this.setDefault(n,i),this}dependentViews(e){let n=e.eventname;return ln(this.dependencies,[e.view.id,n],[])}cmp(e,n){return this.isDependentOn(e.view,n)?1:this.isDependentOn(n.view,e)?-1:0}isDependentOn(e,n){let r=this.getAncestorIacts(e);return Jh(i=>(i.store??i)==n,r)}setDefault(e,n){return It(n)||(this.defaults[e.id]=n),this}getDefault(e,n){return(ln(this.defaults,e.id)??ah)(n,this.getAncestorIacts(e))}getAncestorIacts(e){let n=[];return ln(this.view2iacts,e.id,[]).forEach(r=>{n.push(r),n=da(n,this.getAncestorIacts(r.view))}),n}getStatesKey(e){let n=this.getAncestorIacts(e),r=da([e.id],n.map(i=>[i.id,i.val()]));return console.debug("ancestorStates",r,JSON.stringify(r)),JSON.stringify(r)}saveState(e,n,r){let i=this.getStatesKey(n.view);!It(r)&&It(r.states[i])&&cr(r.states,[i,n.eventname],{old:ln(this.states,[i,n.eventname]),iact:n}),console.debug("saveState",i,n.eventname,ln(this.states,[i,n.eventname]),e),cr(this.states,[i,n.eventname],e)}restoreStates(e){tn((n,r)=>{tn(({iact:i,old:a},s)=>{console.debug("restoreState",r,i.eventname,a),cr(this.states,[r,i.eventname],a)},n)},e.states)}getState(e,n,r=!0){let i=this.getStatesKey(e);return It(n)?this.states[i]:ln(this.states,[i,n],()=>r?this.getDefault(e,n):void 0)}}class lv{constructor(e){this.interactions={},this.views={},this.backends={},this.i2b={},this.dependencies=new l7,this.transactions=[],this._isaborting=!1,this.backends=e,this._iactid=0,this._xid=0;const n=r=>i=>this.backends.createBackend({...i,type:r});this.backend=r=>this.backends.createBackend(r),this.backend.array=n("array"),this.backend.duckdb=n("duckdb"),this.backend.identity=n("identity"),this.backend.overlay=n("overlay"),this.backend.query=n("query"),this.backend.matching=n("matching")}view(e){if(this.views[e.id]=e,dn(e)){e.forEach(n=>this.view(n));return}this.interactions[e.id]=this.interactions[e.id]??{_attrs:{}},e.magic=this,tn((n,r)=>{if(!It(this.interactions[e.id][r]))return;let i=a=>{e.load(o,event)};Object.assign(n,{start:(...a)=>this.start(n,...a),end:()=>this.end(n),abort:()=>this.abort(n),val:()=>zo(n)??{},load:i,id:this._iactid++,view:e,eventname:r,isActive:!1}),n.get=(a,s=null)=>{if(!It(this.interactions[e.id]._attrs[a]))return this.interactions[e.id]._attrs[a];let f={store:n,attr:a,view:e,eventname:r,load:i,default:s,id:this._iactid++,val:()=>{let u=zo(n);return ga(a)(u)?u[a]:(Jt(u)||console.error("could not find attr:",vn(zo(n)).length),Zt(Function,s)?s():s)},start:()=>this.start(f),end:()=>this.end(f),abort:()=>this.abort(f)};return this.interactions[e.id]._attrs[a]=f,f},this.interactions[e.id][r]=n},e.interactions)}render(e,n,r,i={}){return e=dn(e)?e:[e],n=dn(n)?n:[n],e.map(s=>{if(Zt(qp,s))return s;let f=this.backend.identity();return this.connect(f,s),f}).forEach(s=>{n.forEach(f=>s.registerView(f,r,i))}),this}saveBackends(e){console.debug("save backends invoked on: ",e),e=dn(e)?e:[e],e.forEach(n=>{n.registerView((r,i)=>{console.debug("saveBackend",this,n,r,i),tn((a,s)=>{tn((f,u)=>{f.forEach(c=>{console.debug("saveBackend.DependencyLeaf.ViewIact",c.view.id,this.i2b[c.view.id]);let l=this.dependencies.getAncestorIacts(c.view),d=da([n.id],l.map(h=>[h.id,h.val()]));Jt(Ob(vn(this.i2b[c.view.id]),n.id))||(console.debug("saveBackend.View",n.id,c.view.id),this.dependencies.viewData[d]=r)})},a)},this.dependencies.dependencies)})})}connect(e,n,r){var s;if(dn(n)){n.forEach(f=>this.connect(e,f,r));return}let i=n,a=i.view;It(this.i2b[a.id])&&(i.subscribe(f=>{console.log("iact.subscribe.handleEvent",a.id,i.id),this.handleEvent(f,i)}),i.store?i.store.isActive=!0:i.isActive=!0,(s=a.registerInteraction)==null||s.call(a,i),this.i2b[a.id]={}),It(e)||cr(this.i2b,[a.id,e.id],this.processBindings(r))}processBindings(e){if(It(e)||Jt(e))return Os;if(Zt(Function,e))return e;let n=oc(xb(Zt(Array),Zt(Object)),Sn(r=>this.processBindings(r)),oc(Zt(Function),Os,r=>()=>r))(e);return ga("*",e)?r=>Wp(r,ac(n)(r)):ac(n)}saveIactState(e,n,r){this.dependencies.saveState(e,n,r),this.dependencies.dependentViews(n).forEach(({view:i,domainfunction:a})=>{if(a){let f=this.dependencies.getAncestorIacts(i);i.render(a(e,f))}let s=this.dependencies.getState(i);tn((f,u)=>{f=f??this.dependencies.getDefault(i,u),f&&(console.debug("saveIactState.load",i.id,u,f),i.load(f,u))},s),(It(s)||Jt(s))&&(console.debug("saveIactState.load.default",i.id),i.load(this.dependencies.getDefault(i)))})}handleEvent(e,n){if(!It(e))if(console.log("handleEvent",this._isaborting,n.view.id,e),this._isaborting)this.dependencies.saveState(e,n,null),this.sendEventToBackends(e,n);else if(this.transactions.length==0||Wo(this.transactions).iact!=n)n.start(),this.handleEvent(e,n),n.end();else{let r=Wo(this.transactions),i=this.dependencies.getState(n.view,n.eventname,!1);r.writeSet.add(i,e,n),r.visible&&this.sendEventToBackends(e,n)}}sendEventToBackends(e,n){tn((r,i)=>{let a=r(e);this.backends[i].execute(a,n)},this.i2b[n.view.id])}snapshot(){return Pb(e=>e.snapshot(),this.backends)}restoreSnapshot(e){tn((n,r)=>{It(n)||this.backends[r].restoreSnapshot(n)},e.snapshot)}start(e,n=!0){this.transactions.push({xid:this._xid++,iact:e,visible:n,snapshot:this.snapshot(),states:{},writeSet:new c7}),console.log("magic.start",this.transactions)}end(e){if(!Jh(a=>a.iact=e,this.transactions)){console.log("magic.end: can't find interaction",e);return}let n=this.transactions.pop();console.log("magic.end[",n.writeSet),n.writeSet.forEach(({newVal:a,iact:s})=>{this.saveIactState(a,s,n),n.visible||this.sendEventToBackends(a,s)});let r=In(n.writeSet).map(({iact:a})=>a.id),i=Kh(a=>In(a).map(({iact:s})=>s.id),In(n.states));if(Jt(Wb(r,i))||console.error("writeset != statesids",r,i),this.transactions.length>0){let a=Wo(this.transactions);a.snapshot=rc(a.snapshot,n.snapshot),a.states=rc(a.states,n.states),a.writeSet.merge(n.writeSet)}console.log("magic.end]",this.dependencies.states,this.transactions)}abort(e){try{this._isaborting=!0;let n=this.transactions.pop();console.log("magic.abort",n.states,n.writeSet),this.restoreSnapshot(n),console.log("magic.abort.restoredStates.before",Vp(this.dependencies.states)),this.dependencies.restoreStates(n),console.log("magic.abort.restoredStates.after",this.dependencies.states),jb((i,a)=>this.dependencies.cmp(i.iact,a.iact),In(n.writeSet)).forEach(({iact:i})=>{let a=this.dependencies.getState(i.view,i.eventname);a&&i.view.load&&(console.log("magic.abort.load",a,i),i.view.load(a,i.eventname))})}finally{this._isaborting=!1}}importState(e){let n=JSON.parse(e);this.dependencies.states=n,tn((r,i)=>{let a=this.views[i];this.walkViews(a)},this.dependencies.dependencies)}walkViews(e){let n=this.dependencies.getStatesKey(e),r=this.dependencies.states[n],i=In(r);if(i.length>1){console.error("unexpected behavior, multiple values for state");return}e.load(i[0])}exportState(){return JSON.stringify(this.dependencies.states)}exportData(){return JSON.stringify(this.dependencies.viewData)}}const Ga="_theplot_",h7={top:30,right:20,bottom:50,left:40};function Uo(t,e){t.className=t.className||Ga,It(t.width);let n=Vm(t),r=null;return n.tagName=="svg"&&n.classList.contains(t.className)?r=n:r=n.querySelector(`svg.${t.className}`),r.classList.add(Ga),t.width||r.setAttribute("width","100%"),t.height||r.setAttribute("height","100%"),e.innerHTML="",e.appendChild(n),n}class ju{constructor({iact:e,magic:n,plot:r=null}){this.x=null,this.y=null,this.defaultSelection,this.brush,this.el,this.iact=e,this.magic=n,this.plot=r,r&&this.init(r)}load(e){if(!(!this.el||!this.brush)&&this.iact.isActive){if(!e||Jt(e)){this.el.call(this.brush.clear);return}const{left:n,right:r}=e;this.el.call(this.brush.move,[this.x.apply(n),this.x.apply(r)])}}brushed({selection:e}){if(this.iact.isActive)if(!e)this.iact.set(this.defaultSelection);else{const[n,r]=e;this.iact.set({left:this.x.invert(n),right:this.x.invert(r)})}}brushstart({selection:e,sourceEvent:n}){this.iact.isActive&&n&&this.magic.start(this.iact)}brushended({selection:e,sourceEvent:n}){this.iact.isActive&&(e||this.iact.set({left:this.x.domain[0],right:this.x.domain[1]}),n&&this.magic.end(this.iact))}init(e){if(!this.iact.isActive)return;if(this.plot=e,this.x=e.scale("x"),this.y=e.scale("y"),this.y.range[0]<this.y.range[1]){let r=this.y.range[0];this.y.range[0]=this.y.range[1],this.y.range[1]=r}this.defaultSelection={left:this.x.domain[0],right:this.x.domain[1]};let n=e.classList.contains(Ga)?Kt(e):Kt(e.querySelector(`.${Ga}`));this.brush=H2().extent([[this.x.range[0],this.y.range[1]],[this.x.range[1],this.y.range[0]]]).on("brush",r=>this.brushed(r)).on("start",r=>this.brushstart(r)).on("end",r=>this.brushended(r)),this.el=n.append("g").attr("class","brush").call(this.brush)}}function d7(t){let e,n;return{c(){e=ot("div"),n=ot("div"),this.h()},l(r){e=st(r,"DIV",{id:!0});var i=ut(e);n=st(i,"DIV",{}),ut(n).forEach(W),i.forEach(W),this.h()},h(){q(e,"id",t[0])},m(r,i){pt(r,e,i),et(e,n),t[15](n)},p(r,[i]){i&1&&q(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&W(e),t[15](null)}}}function g7(t,e,n){let{id:r,name:i,magic:a,description:s,xAttr:f,yAttr:u,xDomainMin:c=null,xDomainMax:l=null,brushX:d=ee({}),interactions:h={brushX:d}}=e,g,p=null,m={},b=[],y;const _=["#93c1cf","#feb144","#9ee09e","#ff6663"];function M(T,N){return N==="overlay"?(m=T,!0):!1}function w(T,N){!T||T.length===0||typeof N=="object"||(M(T,N)?console.debug("overlays"):b=T,S())}let{load:v=T=>y==null?void 0:y.load(T)}=e;function S(){n(2,c=c??Ue(Sn(Fs(f),b))),n(3,l=l??se(Sn(Fs(f),b)));const T=Math.max(36,Math.min(b.length,20));let N={x:{domain:[+c,+l]},height:200,marginBottom:50,color:{range:_,legend:!0,style:{"font-size":10,"margin-left":"2rem"}},marks:[Dr({ticks:T,fontSize:10}),Li({fontSize:10}),Lu([c]),Ou([0]),zu(m,{x1:"left",x2:"right",y2:se(Bf(u,b)),fill:"key",color:"key"}),o7(b,{x:f,y:u,marker:!0,strokeWidth:3})]};p=Uo(N,g),d.isActive&&(y=y??new ju({iact:d,magic:a}),y.init(p))}function k(T){kr[T?"unshift":"push"](()=>{g=T,n(1,g)})}return t.$$set=T=>{"id"in T&&n(4,r=T.id),"name"in T&&n(0,i=T.name),"magic"in T&&n(5,a=T.magic),"description"in T&&n(6,s=T.description),"xAttr"in T&&n(7,f=T.xAttr),"yAttr"in T&&n(8,u=T.yAttr),"xDomainMin"in T&&n(2,c=T.xDomainMin),"xDomainMax"in T&&n(3,l=T.xDomainMax),"brushX"in T&&n(9,d=T.brushX),"interactions"in T&&n(10,h=T.interactions),"load"in T&&n(13,v=T.load)},[i,g,c,l,r,a,s,f,u,d,h,M,w,v,S,k]}class hv extends We{constructor(e){super(),Ve(this,e,g7,d7,Ye,{id:4,name:0,magic:5,description:6,xAttr:7,yAttr:8,xDomainMin:2,xDomainMax:3,brushX:9,interactions:10,overlay:11,render:12,load:13,update:14})}get id(){return this.$$.ctx[4]}set id(e){this.$$set({id:e}),J()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),J()}get magic(){return this.$$.ctx[5]}set magic(e){this.$$set({magic:e}),J()}get description(){return this.$$.ctx[6]}set description(e){this.$$set({description:e}),J()}get xAttr(){return this.$$.ctx[7]}set xAttr(e){this.$$set({xAttr:e}),J()}get yAttr(){return this.$$.ctx[8]}set yAttr(e){this.$$set({yAttr:e}),J()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(e){this.$$set({xDomainMin:e}),J()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(e){this.$$set({xDomainMax:e}),J()}get brushX(){return this.$$.ctx[9]}set brushX(e){this.$$set({brushX:e}),J()}get interactions(){return this.$$.ctx[10]}set interactions(e){this.$$set({interactions:e}),J()}get overlay(){return this.$$.ctx[11]}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}set load(e){this.$$set({load:e}),J()}get update(){return this.$$.ctx[14]}}function oh(t){return Object.prototype.toString.call(t)==="[object Date]"}function Df(t,e,n,r){if(typeof n=="number"||oh(n)){const i=r-n,a=(n-e)/(t.dt||1/60),s=t.opts.stiffness*i,f=t.opts.damping*a,u=(s-f)*t.inv_mass,c=(a+u)*t.dt;return Math.abs(c)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,oh(n)?new Date(n.getTime()+c):n+c)}else{if(Array.isArray(n))return n.map((i,a)=>Df(t,e[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=Df(t,e[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function m7(t,e={}){const n=ee(t),{stiffness:r=.15,damping:i=.8,precision:a=.01}=e;let s,f,u,c=t,l=t,d=1,h=0,g=!1;function p(b,y={}){l=b;const _=u={};return t==null||y.hard||m.stiffness>=1&&m.damping>=1?(g=!0,s=Yu(),c=b,n.set(t=l),Promise.resolve()):(y.soft&&(h=1/((y.soft===!0?.5:+y.soft)*60),d=0),f||(s=Yu(),g=!1,f=Mp(M=>{if(g)return g=!1,f=null,!1;d=Math.min(d+h,1);const w={inv_mass:d,opts:m,settled:!0,dt:(M-s)*60/1e3},v=Df(w,c,t,l);return s=M,c=t,n.set(t=v),w.settled&&(f=null),!w.settled})),new Promise(M=>{f.promise.then(()=>{_===u&&M()})}))}const m={set:p,update:(b,y)=>p(b(l,t),y),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return m}function sh(t,e,n){const r=t.slice();return r[37]=e[n],r[39]=n,r}function fh(t){let e,n,r,i,a=(t[6]==="label"||t[7]==="label")&&uh(t);return{c(){e=ot("span"),a&&a.c(),this.h()},l(s){e=st(s,"SPAN",{class:!0,style:!0});var f=ut(e);a&&a.l(f),f.forEach(W),this.h()},h(){q(e,"class","pip first"),q(e,"style",n=t[14]+": 0%;"),at(e,"selected",t[18](t[0])),at(e,"in-range",t[17](t[0]))},m(s,f){pt(s,e,f),a&&a.m(e,null),r||(i=[vt(e,"pointerdown",t[30]),vt(e,"pointerup",t[31])],r=!0)},p(s,f){s[6]==="label"||s[7]==="label"?a?a.p(s,f):(a=uh(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 0%;")&&q(e,"style",n),f[0]&262145&&at(e,"selected",s[18](s[0])),f[0]&131073&&at(e,"in-range",s[17](s[0]))},d(s){s&&W(e),a&&a.d(),r=!1,kn(i)}}}function uh(t){let e,n,r,i=t[12](t[16](t[0]),0,0)+"",a,s=t[10]&&ch(t),f=t[11]&&lh(t);return{c(){e=ot("span"),s&&s.c(),n=Dt(),r=new to(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=st(u,"SPAN",{class:!0});var c=ut(e);s&&s.l(c),n=Dt(),r=eo(c,!1),a=Dt(),f&&f.l(c),c.forEach(W),this.h()},h(){r.a=a,q(e,"class","pipVal")},m(u,c){pt(u,e,c),s&&s.m(e,null),et(e,n),r.m(i,e),et(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=ch(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&69633&&i!==(i=u[12](u[16](u[0]),0,0)+"")&&r.p(i),u[11]?f?f.p(u,c):(f=lh(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&W(e),s&&s.d(),f&&f.d()}}}function ch(t){let e,n;return{c(){e=ot("span"),n=qt(t[10]),this.h()},l(r){e=st(r,"SPAN",{class:!0});var i=ut(e);n=Wt(i,t[10]),i.forEach(W),this.h()},h(){q(e,"class","pipVal-prefix")},m(r,i){pt(r,e,i),et(e,n)},p(r,i){i[0]&1024&&ce(n,r[10])},d(r){r&&W(e)}}}function lh(t){let e,n;return{c(){e=ot("span"),n=qt(t[11]),this.h()},l(r){e=st(r,"SPAN",{class:!0});var i=ut(e);n=Wt(i,t[11]),i.forEach(W),this.h()},h(){q(e,"class","pipVal-suffix")},m(r,i){pt(r,e,i),et(e,n)},p(r,i){i[0]&2048&&ce(n,r[11])},d(r){r&&W(e)}}}function hh(t){let e,n=Array(t[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=bh(sh(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Dt()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);e=Dt()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);pt(i,e,a)},p(i,a){if(a[0]&8314435){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const f=sh(i,n,s);r[s]?r[s].p(f,a):(r[s]=bh(f),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){no(r,i),i&&W(e)}}}function dh(t){let e,n,r,i,a,s=(t[6]==="label"||t[9]==="label")&&gh(t);function f(...u){return t[33](t[39],...u)}return{c(){e=ot("span"),s&&s.c(),n=Xt(),this.h()},l(u){e=st(u,"SPAN",{class:!0,style:!0});var c=ut(e);s&&s.l(c),n=Gt(c),c.forEach(W),this.h()},h(){q(e,"class","pip"),q(e,"style",r=t[14]+": "+t[15](t[19](t[39]))+"%;"),at(e,"selected",t[18](t[19](t[39]))),at(e,"in-range",t[17](t[19](t[39])))},m(u,c){pt(u,e,c),s&&s.m(e,null),et(e,n),i||(a=[vt(e,"pointerdown",t[32]),vt(e,"pointerup",f)],i=!0)},p(u,c){t=u,t[6]==="label"||t[9]==="label"?s?s.p(t,c):(s=gh(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&573440&&r!==(r=t[14]+": "+t[15](t[19](t[39]))+"%;")&&q(e,"style",r),c[0]&786432&&at(e,"selected",t[18](t[19](t[39]))),c[0]&655360&&at(e,"in-range",t[17](t[19](t[39])))},d(u){u&&W(e),s&&s.d(),i=!1,kn(a)}}}function gh(t){let e,n,r,i=t[12](t[19](t[39]),t[39],t[15](t[19](t[39])))+"",a,s=t[10]&&mh(t),f=t[11]&&ph(t);return{c(){e=ot("span"),s&&s.c(),n=Dt(),r=new to(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=st(u,"SPAN",{class:!0});var c=ut(e);s&&s.l(c),n=Dt(),r=eo(c,!1),a=Dt(),f&&f.l(c),c.forEach(W),this.h()},h(){r.a=a,q(e,"class","pipVal")},m(u,c){pt(u,e,c),s&&s.m(e,null),et(e,n),r.m(i,e),et(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=mh(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&561152&&i!==(i=u[12](u[19](u[39]),u[39],u[15](u[19](u[39])))+"")&&r.p(i),u[11]?f?f.p(u,c):(f=ph(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&W(e),s&&s.d(),f&&f.d()}}}function mh(t){let e,n;return{c(){e=ot("span"),n=qt(t[10]),this.h()},l(r){e=st(r,"SPAN",{class:!0});var i=ut(e);n=Wt(i,t[10]),i.forEach(W),this.h()},h(){q(e,"class","pipVal-prefix")},m(r,i){pt(r,e,i),et(e,n)},p(r,i){i[0]&1024&&ce(n,r[10])},d(r){r&&W(e)}}}function ph(t){let e,n;return{c(){e=ot("span"),n=qt(t[11]),this.h()},l(r){e=st(r,"SPAN",{class:!0});var i=ut(e);n=Wt(i,t[11]),i.forEach(W),this.h()},h(){q(e,"class","pipVal-suffix")},m(r,i){pt(r,e,i),et(e,n)},p(r,i){i[0]&2048&&ce(n,r[11])},d(r){r&&W(e)}}}function bh(t){let e=t[19](t[39])!==t[0]&&t[19](t[39])!==t[1],n,r=e&&dh(t);return{c(){r&&r.c(),n=Dt()},l(i){r&&r.l(i),n=Dt()},m(i,a){r&&r.m(i,a),pt(i,n,a)},p(i,a){a[0]&524291&&(e=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),e?r?r.p(i,a):(r=dh(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&W(n)}}}function yh(t){let e,n,r,i,a=(t[6]==="label"||t[8]==="label")&&_h(t);return{c(){e=ot("span"),a&&a.c(),this.h()},l(s){e=st(s,"SPAN",{class:!0,style:!0});var f=ut(e);a&&a.l(f),f.forEach(W),this.h()},h(){q(e,"class","pip last"),q(e,"style",n=t[14]+": 100%;"),at(e,"selected",t[18](t[1])),at(e,"in-range",t[17](t[1]))},m(s,f){pt(s,e,f),a&&a.m(e,null),r||(i=[vt(e,"pointerdown",t[34]),vt(e,"pointerup",t[35])],r=!0)},p(s,f){s[6]==="label"||s[8]==="label"?a?a.p(s,f):(a=_h(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 100%;")&&q(e,"style",n),f[0]&262146&&at(e,"selected",s[18](s[1])),f[0]&131074&&at(e,"in-range",s[17](s[1]))},d(s){s&&W(e),a&&a.d(),r=!1,kn(i)}}}function _h(t){let e,n,r,i=t[12](t[16](t[1]),t[20],100)+"",a,s=t[10]&&wh(t),f=t[11]&&vh(t);return{c(){e=ot("span"),s&&s.c(),n=Dt(),r=new to(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=st(u,"SPAN",{class:!0});var c=ut(e);s&&s.l(c),n=Dt(),r=eo(c,!1),a=Dt(),f&&f.l(c),c.forEach(W),this.h()},h(){r.a=a,q(e,"class","pipVal")},m(u,c){pt(u,e,c),s&&s.m(e,null),et(e,n),r.m(i,e),et(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=wh(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&1118210&&i!==(i=u[12](u[16](u[1]),u[20],100)+"")&&r.p(i),u[11]?f?f.p(u,c):(f=vh(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&W(e),s&&s.d(),f&&f.d()}}}function wh(t){let e,n;return{c(){e=ot("span"),n=qt(t[10]),this.h()},l(r){e=st(r,"SPAN",{class:!0});var i=ut(e);n=Wt(i,t[10]),i.forEach(W),this.h()},h(){q(e,"class","pipVal-prefix")},m(r,i){pt(r,e,i),et(e,n)},p(r,i){i[0]&1024&&ce(n,r[10])},d(r){r&&W(e)}}}function vh(t){let e,n;return{c(){e=ot("span"),n=qt(t[11]),this.h()},l(r){e=st(r,"SPAN",{class:!0});var i=ut(e);n=Wt(i,t[11]),i.forEach(W),this.h()},h(){q(e,"class","pipVal-suffix")},m(r,i){pt(r,e,i),et(e,n)},p(r,i){i[0]&2048&&ce(n,r[11])},d(r){r&&W(e)}}}function p7(t){let e,n,r,i=(t[6]&&t[7]!==!1||t[7])&&fh(t),a=(t[6]&&t[9]!==!1||t[9])&&hh(t),s=(t[6]&&t[8]!==!1||t[8])&&yh(t);return{c(){e=ot("div"),i&&i.c(),n=Xt(),a&&a.c(),r=Xt(),s&&s.c(),this.h()},l(f){e=st(f,"DIV",{class:!0});var u=ut(e);i&&i.l(u),n=Gt(u),a&&a.l(u),r=Gt(u),s&&s.l(u),u.forEach(W),this.h()},h(){q(e,"class","rangePips"),at(e,"disabled",t[5]),at(e,"hoverable",t[4]),at(e,"vertical",t[2]),at(e,"reversed",t[3]),at(e,"focus",t[13])},m(f,u){pt(f,e,u),i&&i.m(e,null),et(e,n),a&&a.m(e,null),et(e,r),s&&s.m(e,null)},p(f,u){f[6]&&f[7]!==!1||f[7]?i?i.p(f,u):(i=fh(f),i.c(),i.m(e,n)):i&&(i.d(1),i=null),f[6]&&f[9]!==!1||f[9]?a?a.p(f,u):(a=hh(f),a.c(),a.m(e,r)):a&&(a.d(1),a=null),f[6]&&f[8]!==!1||f[8]?s?s.p(f,u):(s=yh(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null),u[0]&32&&at(e,"disabled",f[5]),u[0]&16&&at(e,"hoverable",f[4]),u[0]&4&&at(e,"vertical",f[2]),u[0]&8&&at(e,"reversed",f[3]),u[0]&8192&&at(e,"focus",f[13])},i:Lt,o:Lt,d(f){f&&W(e),i&&i.d(),a&&a.d(),s&&s.d()}}}function b7(t,e,n){let r,i,a,s,f,{range:u=!1}=e,{min:c=0}=e,{max:l=100}=e,{step:d=1}=e,{values:h=[(l+c)/2]}=e,{vertical:g=!1}=e,{reversed:p=!1}=e,{hoverable:m=!0}=e,{disabled:b=!1}=e,{pipstep:y=void 0}=e,{all:_=!0}=e,{first:M=void 0}=e,{last:w=void 0}=e,{rest:v=void 0}=e,{prefix:S=""}=e,{suffix:k=""}=e,{formatter:T=(D,tt,nt)=>D}=e,{focus:N=void 0}=e,{orientationStart:I=void 0}=e,{percentOf:A=void 0}=e,{moveHandle:E=void 0}=e,{fixFloat:P=void 0}=e,{normalisedClient:R=void 0}=e,x;function O(D){D=R(D),x={x:D.clientX,y:D.clientY}}function V(D,tt){if(tt=R(tt),!b){const nt=Math.sqrt(Math.pow(x.x-tt.clientX,2)+Math.pow(x.y-tt.clientY,2));x&&nt<=5&&E(void 0,D)}}const z=D=>{O(D)},X=D=>{V(c,D)},B=D=>{O(D)},$=(D,tt)=>{V(a(D),tt)},U=D=>{O(D)},Y=D=>{V(l,D)};return t.$$set=D=>{"range"in D&&n(23,u=D.range),"min"in D&&n(0,c=D.min),"max"in D&&n(1,l=D.max),"step"in D&&n(24,d=D.step),"values"in D&&n(25,h=D.values),"vertical"in D&&n(2,g=D.vertical),"reversed"in D&&n(3,p=D.reversed),"hoverable"in D&&n(4,m=D.hoverable),"disabled"in D&&n(5,b=D.disabled),"pipstep"in D&&n(26,y=D.pipstep),"all"in D&&n(6,_=D.all),"first"in D&&n(7,M=D.first),"last"in D&&n(8,w=D.last),"rest"in D&&n(9,v=D.rest),"prefix"in D&&n(10,S=D.prefix),"suffix"in D&&n(11,k=D.suffix),"formatter"in D&&n(12,T=D.formatter),"focus"in D&&n(13,N=D.focus),"orientationStart"in D&&n(14,I=D.orientationStart),"percentOf"in D&&n(15,A=D.percentOf),"moveHandle"in D&&n(27,E=D.moveHandle),"fixFloat"in D&&n(16,P=D.fixFloat),"normalisedClient"in D&&n(28,R=D.normalisedClient)},t.$$.update=()=>{t.$$.dirty[0]&83886087&&n(29,r=y||((l-c)/d>=(g?50:100)?(l-c)/(g?10:20):1)),t.$$.dirty[0]&553648131&&n(20,i=parseInt((l-c)/(d*r),10)),t.$$.dirty[0]&553713665&&n(19,a=function(D){return P(c+D*d*r)}),t.$$.dirty[0]&33619968&&n(18,s=function(D){return h.some(tt=>P(tt)===P(D))}),t.$$.dirty[0]&41943040&&n(17,f=function(D){if(u==="min")return h[0]>D;if(u==="max")return h[0]<D;if(u)return h[0]<D&&h[1]>D})},[c,l,g,p,m,b,_,M,w,v,S,k,T,N,I,A,P,f,s,a,i,O,V,u,d,h,y,E,R,r,z,X,B,$,U,Y]}class y7 extends We{constructor(e){super(),Ve(this,e,b7,p7,Ye,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function Mh(t,e,n){const r=t.slice();return r[65]=e[n],r[67]=n,r}function Sh(t){let e,n,r,i=t[21](t[65],t[67],t[24](t[65]))+"",a,s=t[18]&&xh(t),f=t[19]&&Th(t);return{c(){e=ot("span"),s&&s.c(),n=Dt(),r=new to(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=st(u,"SPAN",{class:!0});var c=ut(e);s&&s.l(c),n=Dt(),r=eo(c,!1),a=Dt(),f&&f.l(c),c.forEach(W),this.h()},h(){r.a=a,q(e,"class","rangeFloat")},m(u,c){pt(u,e,c),s&&s.m(e,null),et(e,n),r.m(i,e),et(e,a),f&&f.m(e,null)},p(u,c){u[18]?s?s.p(u,c):(s=xh(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&18874369&&i!==(i=u[21](u[65],u[67],u[24](u[65]))+"")&&r.p(i),u[19]?f?f.p(u,c):(f=Th(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&W(e),s&&s.d(),f&&f.d()}}}function xh(t){let e,n;return{c(){e=ot("span"),n=qt(t[18]),this.h()},l(r){e=st(r,"SPAN",{class:!0});var i=ut(e);n=Wt(i,t[18]),i.forEach(W),this.h()},h(){q(e,"class","rangeFloat-prefix")},m(r,i){pt(r,e,i),et(e,n)},p(r,i){i[0]&262144&&ce(n,r[18])},d(r){r&&W(e)}}}function Th(t){let e,n;return{c(){e=ot("span"),n=qt(t[19]),this.h()},l(r){e=st(r,"SPAN",{class:!0});var i=ut(e);n=Wt(i,t[19]),i.forEach(W),this.h()},h(){q(e,"class","rangeFloat-suffix")},m(r,i){pt(r,e,i),et(e,n)},p(r,i){i[0]&524288&&ce(n,r[19])},d(r){r&&W(e)}}}function kh(t){let e,n,r,i,a,s,f,u,c,l,d,h,g,p=t[7]&&Sh(t);return{c(){e=ot("span"),n=ot("span"),r=Xt(),p&&p.c(),this.h()},l(m){e=st(m,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var b=ut(e);n=st(b,"SPAN",{class:!0}),ut(n).forEach(W),r=Gt(b),p&&p.l(b),b.forEach(W),this.h()},h(){q(n,"class","rangeNub"),q(e,"role","slider"),q(e,"class","rangeHandle"),q(e,"data-handle",t[67]),q(e,"style",i=t[29]+": "+t[30][t[67]]+"%; z-index: "+(t[27]===t[67]?3:2)+";"),q(e,"aria-label",a=t[22][t[67]]),q(e,"aria-valuemin",s=t[2]===!0&&t[67]===1?t[0][0]:t[3]),q(e,"aria-valuemax",f=t[2]===!0&&t[67]===0?t[0][1]:t[4]),q(e,"aria-valuenow",u=t[65]),q(e,"aria-valuetext",c=""+(t[18]+Nh(t[21](t[65],t[67],t[24](t[65])))+t[19])),q(e,"aria-orientation",l=t[6]?"vertical":"horizontal"),q(e,"aria-disabled",t[10]),q(e,"disabled",t[10]),q(e,"tabindex",d=t[10]?-1:0),at(e,"active",t[25]&&t[27]===t[67]),at(e,"press",t[26]&&t[27]===t[67])},m(m,b){pt(m,e,b),et(e,n),et(e,r),p&&p.m(e,null),h||(g=[vt(e,"blur",t[35]),vt(e,"focus",t[36]),vt(e,"keydown",t[37])],h=!0)},p(m,b){m[7]?p?p.p(m,b):(p=Sh(m),p.c(),p.m(e,null)):p&&(p.d(1),p=null),b[0]&1744830464&&i!==(i=m[29]+": "+m[30][m[67]]+"%; z-index: "+(m[27]===m[67]?3:2)+";")&&q(e,"style",i),b[0]&4194304&&a!==(a=m[22][m[67]])&&q(e,"aria-label",a),b[0]&13&&s!==(s=m[2]===!0&&m[67]===1?m[0][0]:m[3])&&q(e,"aria-valuemin",s),b[0]&21&&f!==(f=m[2]===!0&&m[67]===0?m[0][1]:m[4])&&q(e,"aria-valuemax",f),b[0]&1&&u!==(u=m[65])&&q(e,"aria-valuenow",u),b[0]&19660801&&c!==(c=""+(m[18]+Nh(m[21](m[65],m[67],m[24](m[65])))+m[19]))&&q(e,"aria-valuetext",c),b[0]&64&&l!==(l=m[6]?"vertical":"horizontal")&&q(e,"aria-orientation",l),b[0]&1024&&q(e,"aria-disabled",m[10]),b[0]&1024&&q(e,"disabled",m[10]),b[0]&1024&&d!==(d=m[10]?-1:0)&&q(e,"tabindex",d),b[0]&167772160&&at(e,"active",m[25]&&m[27]===m[67]),b[0]&201326592&&at(e,"press",m[26]&&m[27]===m[67])},d(m){m&&W(e),p&&p.d(),h=!1,kn(g)}}}function Ah(t){let e,n;return{c(){e=ot("span"),this.h()},l(r){e=st(r,"SPAN",{class:!0,style:!0}),ut(e).forEach(W),this.h()},h(){q(e,"class","rangeBar"),q(e,"style",n=t[29]+": "+t[33](t[30])+"%; "+t[28]+": "+t[34](t[30])+"%;")},m(r,i){pt(r,e,i)},p(r,i){i[0]&1879048192&&n!==(n=r[29]+": "+r[33](r[30])+"%; "+r[28]+": "+r[34](r[30])+"%;")&&q(e,"style",n)},d(r){r&&W(e)}}}function Eh(t){let e,n;return e=new y7({props:{values:t[0],min:t[3],max:t[4],step:t[5],range:t[2],vertical:t[6],reversed:t[8],orientationStart:t[29],hoverable:t[9],disabled:t[10],all:t[13],first:t[14],last:t[15],rest:t[16],pipstep:t[12],prefix:t[18],suffix:t[19],formatter:t[20],focus:t[25],percentOf:t[24],moveHandle:t[32],fixFloat:t[31],normalisedClient:fa}}),{c(){Bh(e.$$.fragment)},l(r){$h(e.$$.fragment,r)},m(r,i){Uh(e,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&536870912&&(a.orientationStart=r[29]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&33554432&&(a.focus=r[25]),i[0]&16777216&&(a.percentOf=r[24]),e.$set(a)},i(r){n||(Yr(e.$$.fragment,r),n=!0)},o(r){ua(e.$$.fragment,r),n=!1},d(r){zh(e,r)}}}function _7(t){let e,n,r,i,a,s,f=t[0],u=[];for(let d=0;d<f.length;d+=1)u[d]=kh(Mh(t,f,d));let c=t[2]&&Ah(t),l=t[11]&&Eh(t);return{c(){e=ot("div");for(let d=0;d<u.length;d+=1)u[d].c();n=Xt(),c&&c.c(),r=Xt(),l&&l.c(),this.h()},l(d){e=st(d,"DIV",{id:!0,role:!0,class:!0});var h=ut(e);for(let g=0;g<u.length;g+=1)u[g].l(h);n=Gt(h),c&&c.l(h),r=Gt(h),l&&l.l(h),h.forEach(W),this.h()},h(){q(e,"id",t[17]),q(e,"role","none"),q(e,"class","rangeSlider"),at(e,"range",t[2]),at(e,"disabled",t[10]),at(e,"hoverable",t[9]),at(e,"vertical",t[6]),at(e,"reversed",t[8]),at(e,"focus",t[25]),at(e,"min",t[2]==="min"),at(e,"max",t[2]==="max"),at(e,"pips",t[11]),at(e,"pip-labels",t[13]==="label"||t[14]==="label"||t[15]==="label"||t[16]==="label")},m(d,h){pt(d,e,h);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(e,null);et(e,n),c&&c.m(e,null),et(e,r),l&&l.m(e,null),t[51](e),i=!0,a||(s=[vt(window,"mousedown",t[40]),vt(window,"touchstart",t[40]),vt(window,"mousemove",t[41]),vt(window,"touchmove",t[41]),vt(window,"mouseup",t[42]),vt(window,"touchend",t[43]),vt(window,"keydown",t[44]),vt(e,"mousedown",t[38]),vt(e,"mouseup",t[39]),vt(e,"touchstart",Hu(t[38])),vt(e,"touchend",Hu(t[39]))],a=!0)},p(d,h){if(h[0]&1869350109|h[1]&112){f=d[0];let g;for(g=0;g<f.length;g+=1){const p=Mh(d,f,g);u[g]?u[g].p(p,h):(u[g]=kh(p),u[g].c(),u[g].m(e,n))}for(;g<u.length;g+=1)u[g].d(1);u.length=f.length}d[2]?c?c.p(d,h):(c=Ah(d),c.c(),c.m(e,r)):c&&(c.d(1),c=null),d[11]?l?(l.p(d,h),h[0]&2048&&Yr(l,1)):(l=Eh(d),l.c(),Yr(l,1),l.m(e,null)):l&&(Sp(),ua(l,1,1,()=>{l=null}),xp()),(!i||h[0]&131072)&&q(e,"id",d[17]),(!i||h[0]&4)&&at(e,"range",d[2]),(!i||h[0]&1024)&&at(e,"disabled",d[10]),(!i||h[0]&512)&&at(e,"hoverable",d[9]),(!i||h[0]&64)&&at(e,"vertical",d[6]),(!i||h[0]&256)&&at(e,"reversed",d[8]),(!i||h[0]&33554432)&&at(e,"focus",d[25]),(!i||h[0]&4)&&at(e,"min",d[2]==="min"),(!i||h[0]&4)&&at(e,"max",d[2]==="max"),(!i||h[0]&2048)&&at(e,"pips",d[11]),(!i||h[0]&122880)&&at(e,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(Yr(l),i=!0)},o(d){ua(l),i=!1},d(d){d&&W(e),no(u,d),c&&c.d(),l&&l.d(),t[51](null),a=!1,kn(s)}}}function Ch(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function fa(t){return t.type.includes("touch")?t.touches[0]||t.changedTouches[0]:t}function Nh(t){return`${t}`.replace(/<[^>]*>/g,"")}function w7(t,e,n){let r,i,a,s,f,u,c=Lt,l=()=>(c(),c=Pn(H,C=>n(30,u=C)),H);t.$$.on_destroy.push(()=>c());let{slider:d=void 0}=e,{range:h=!1}=e,{pushy:g=!1}=e,{min:p=0}=e,{max:m=100}=e,{step:b=1}=e,{values:y=[(m+p)/2]}=e,{vertical:_=!1}=e,{float:M=!1}=e,{reversed:w=!1}=e,{hoverable:v=!0}=e,{disabled:S=!1}=e,{pips:k=!1}=e,{pipstep:T=void 0}=e,{all:N=void 0}=e,{first:I=void 0}=e,{last:A=void 0}=e,{rest:E=void 0}=e,{id:P=void 0}=e,{prefix:R=""}=e,{suffix:x=""}=e,{formatter:O=(C,K,xt)=>C}=e,{handleFormatter:V=O}=e,{ariaLabels:z=[]}=e,{precision:X=2}=e,{springValues:B={stiffness:.15,damping:.4}}=e;const $=Tp();let U=0,Y=!1,D=!1,tt=!1,nt=!1,j=y.length-1,Q,F,H;const G=C=>parseFloat((+C).toFixed(X));function L(C){const K=d.querySelectorAll(".handle"),xt=Array.prototype.includes.call(K,C),Tt=Array.prototype.some.call(K,Xe=>Xe.contains(C));return xt||Tt}function mt(C){return h==="min"||h==="max"?C.slice(0,1):h?C.slice(0,2):C}function rt(){return d.getBoundingClientRect()}function yt(C){const K=rt();let xt=0,Tt=0,Xe=0;_?(xt=C.clientY-K.top,Tt=xt/K.height*100,Tt=w?Tt:100-Tt):(xt=C.clientX-K.left,Tt=xt/K.width*100,Tt=w?100-Tt:Tt),Xe=(m-p)/100*Tt+p;let Vu;return h===!0&&y[0]===y[1]?Xe>y[1]?1:0:(Vu=y.indexOf([...y].sort((wp,vp)=>Math.abs(Xe-wp)-Math.abs(Xe-vp))[0]),Vu)}function St(C){const K=rt();let xt=0,Tt=0,Xe=0;_?(xt=C.clientY-K.top,Tt=xt/K.height*100,Tt=w?Tt:100-Tt):(xt=C.clientX-K.left,Tt=xt/K.width*100,Tt=w?100-Tt:Tt),Xe=(m-p)/100*Tt+p,Z(j,Xe)}function Z(C,K){return K=a(K),typeof C>"u"&&(C=j),h&&(C===0&&K>y[1]?g?n(0,y[1]=K,y):K=y[1]:C===1&&K<y[0]&&(g?n(0,y[0]=K,y):K=y[0])),y[C]!==K&&n(0,y[C]=K,y),F!==K&&(yp(),F=K),K}function wt(C){return h==="min"?0:C[0]}function ae(C){return h==="max"?0:h==="min"?100-C[0]:100-C[1]}function Le(C){nt&&(n(25,Y=!1),D=!1,n(26,tt=!1))}function fp(C){S||(n(27,j=Ch(C.target)),n(25,Y=!0))}function up(C){if(!S){const K=Ch(C.target);let xt=C.ctrlKey||C.metaKey||C.shiftKey?b*10:b,Tt=!1;switch(C.key){case"PageDown":xt*=10;case"ArrowRight":case"ArrowUp":Z(K,y[K]+xt),Tt=!0;break;case"PageUp":xt*=10;case"ArrowLeft":case"ArrowDown":Z(K,y[K]-xt),Tt=!0;break;case"Home":Z(K,p),Tt=!0;break;case"End":Z(K,m),Tt=!0;break}Tt&&(C.preventDefault(),C.stopPropagation())}}function cp(C){if(!S){const K=C.target,xt=fa(C);n(25,Y=!0),D=!0,n(26,tt=!0),n(27,j=yt(xt)),Q=F=a(y[j]),bp(),C.type==="touchstart"&&!K.matches(".pipVal")&&St(xt)}}function lp(C){C.type==="touchend"&&Wu(),n(26,tt=!1)}function hp(C){nt=!1,Y&&C.target!==d&&!d.contains(C.target)&&n(25,Y=!1)}function dp(C){S||D&&St(fa(C))}function gp(C){if(!S){const K=C.target;D&&((K===d||d.contains(K))&&(n(25,Y=!0),!L(K)&&!K.matches(".pipVal")&&St(fa(C))),Wu())}D=!1,n(26,tt=!1)}function mp(C){D=!1,n(26,tt=!1)}function pp(C){S||(C.target===d||d.contains(C.target))&&(nt=!0)}function bp(){!S&&$("start",{activeHandle:j,value:Q,values:y.map(C=>a(C))})}function Wu(){!S&&$("stop",{activeHandle:j,startValue:Q,value:y[j],values:y.map(C=>a(C))})}function yp(){!S&&$("change",{activeHandle:j,startValue:Q,previousValue:typeof F>"u"?Q:F,value:y[j],values:y.map(C=>a(C))})}function _p(C){kr[C?"unshift":"push"](()=>{d=C,n(1,d)})}return t.$$set=C=>{"slider"in C&&n(1,d=C.slider),"range"in C&&n(2,h=C.range),"pushy"in C&&n(45,g=C.pushy),"min"in C&&n(3,p=C.min),"max"in C&&n(4,m=C.max),"step"in C&&n(5,b=C.step),"values"in C&&n(0,y=C.values),"vertical"in C&&n(6,_=C.vertical),"float"in C&&n(7,M=C.float),"reversed"in C&&n(8,w=C.reversed),"hoverable"in C&&n(9,v=C.hoverable),"disabled"in C&&n(10,S=C.disabled),"pips"in C&&n(11,k=C.pips),"pipstep"in C&&n(12,T=C.pipstep),"all"in C&&n(13,N=C.all),"first"in C&&n(14,I=C.first),"last"in C&&n(15,A=C.last),"rest"in C&&n(16,E=C.rest),"id"in C&&n(17,P=C.id),"prefix"in C&&n(18,R=C.prefix),"suffix"in C&&n(19,x=C.suffix),"formatter"in C&&n(20,O=C.formatter),"handleFormatter"in C&&n(21,V=C.handleFormatter),"ariaLabels"in C&&n(22,z=C.ariaLabels),"precision"in C&&n(46,X=C.precision),"springValues"in C&&n(47,B=C.springValues)},t.$$.update=()=>{if(t.$$.dirty[0]&24&&n(50,i=function(C){return C<=p?p:C>=m?m:C}),t.$$.dirty[0]&56|t.$$.dirty[1]&524288&&n(49,a=function(C){if(C<=p)return G(p);if(C>=m)return G(m);C=G(C);let K=(C-p)%b,xt=C-K;return Math.abs(K)*2>=b&&(xt+=K>0?b:-b),xt=i(xt),G(xt)}),t.$$.dirty[0]&24&&n(24,r=function(C){let K=(C-p)/(m-p)*100;return isNaN(K)||K<=0?0:K>=100?100:G(K)}),t.$$.dirty[0]&29360153|t.$$.dirty[1]&458752){Array.isArray(y)||(n(0,y=[(m+p)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const C=mt(y.map(K=>a(K)));(y.length!==C.length||!y.every((K,xt)=>G(K)===C[xt]))&&n(0,y=C),U!==y.length?l(n(23,H=m7(y.map(K=>r(K)),B))):H.set(y.map(K=>r(K))),n(48,U=y.length),y.length>1&&!Array.isArray(z)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}t.$$.dirty[0]&320&&n(29,s=_?w?"top":"bottom":w?"right":"left"),t.$$.dirty[0]&320&&n(28,f=_?w?"bottom":"top":w?"left":"right")},[y,d,h,p,m,b,_,M,w,v,S,k,T,N,I,A,E,P,R,x,O,V,z,H,r,Y,tt,j,f,s,u,G,Z,wt,ae,Le,fp,up,cp,lp,hp,dp,gp,mp,pp,g,X,B,U,a,i,_p]}class v7 extends We{constructor(e){super(),Ve(this,e,w7,_7,Ye,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function Dh(t){let e,n,r,i=t[3]&&Ih(t);return{c(){e=ot("div"),n=qt(t[2]),r=Xt(),i&&i.c(),this.h()},l(a){e=st(a,"DIV",{class:!0});var s=ut(e);n=Wt(s,t[2]),r=Gt(s),i&&i.l(s),s.forEach(W),this.h()},h(){q(e,"class","text-sm")},m(a,s){pt(a,e,s),et(e,n),et(e,r),i&&i.m(e,null)},p(a,s){s&4&&ce(n,a[2]),a[3]?i?i.p(a,s):(i=Ih(a),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(a){a&&W(e),i&&i.d()}}}function Ih(t){let e,n,r,i,a;return{c(){e=ot("div"),n=ot("i"),r=Xt(),i=ot("span"),a=qt(t[3]),this.h()},l(s){e=st(s,"DIV",{class:!0});var f=ut(e);n=st(f,"I",{class:!0}),ut(n).forEach(W),r=Gt(f),i=st(f,"SPAN",{class:!0});var u=ut(i);a=Wt(u,t[3]),u.forEach(W),f.forEach(W),this.h()},h(){q(n,"class","bi bi-info-circle"),q(i,"class","tooltiptext"),q(e,"class","tooltip")},m(s,f){pt(s,e,f),et(e,n),et(e,r),et(e,i),et(i,a)},p(s,f){f&8&&ce(a,s[3])},d(s){s&&W(e)}}}function M7(t){let e,n,r,i,a,s=t[2]&&Dh(t);function f(c){t[15](c)}let u={min:+t[0],max:+t[1],pips:!0,range:!0,float:!0,first:"label",last:"label",springValues:!0,id:"slider"};return t[7]!==void 0&&(u.values=t[7]),r=new v7({props:u}),kr.push(()=>kp(r,"values",f)),r.$on("start",t[9]),r.$on("change",t[8]),r.$on("stop",t[10]),{c(){e=ot("div"),s&&s.c(),n=Xt(),Bh(r.$$.fragment),this.h()},l(c){e=st(c,"DIV",{class:!0,id:!0});var l=ut(e);s&&s.l(l),n=Gt(l),$h(r.$$.fragment,l),l.forEach(W),this.h()},h(){q(e,"class","px-[1%] py-[1%] ml-[2.1%]"),q(e,"id","slider")},m(c,l){pt(c,e,l),s&&s.m(e,null),et(e,n),Uh(r,e,null),a=!0},p(c,[l]){c[2]?s?s.p(c,l):(s=Dh(c),s.c(),s.m(e,n)):s&&(s.d(1),s=null);const d={};l&1&&(d.min=+c[0]),l&2&&(d.max=+c[1]),!i&&l&128&&(i=!0,d.values=c[7],Ap(()=>i=!1)),r.$set(d)},i(c){a||(Yr(r.$$.fragment,c),a=!0)},o(c){ua(r.$$.fragment,c),a=!1},d(c){c&&W(e),s&&s.d(),zh(r)}}}function S7(t,e,n){let r,i=Lt,a=()=>(i(),i=Pn(M,E=>n(16,r=E)),M),s,f=Lt,u=()=>(f(),f=Pn(y,E=>n(17,s=E)),y),c,l=Lt,d=()=>(l(),l=Pn(_,E=>n(18,c=E)),_);t.$$.on_destroy.push(()=>i()),t.$$.on_destroy.push(()=>f()),t.$$.on_destroy.push(()=>l());let{min:h=0,max:g=100,id:p,description:m,tooltip:b}=e,{change:y=ee({})}=e;u();let{stop:_=ee({})}=e;d();let{drag:M=ee({})}=e;a();let{interactions:w={change:y,stop:_,drag:M}}=e;Ep("dims");let v=[h,g];[...v];function S(E){console.log("Slider.render",E),E&&Zt(Array,E)&&Jt(E.filter(P=>P===void 0))&&(n(7,v=[+E[0].min,+E[0].max]),n(0,[h,g]=v,h,n(1,g)),console.log("Slider.render.to",v)),v&&v.length>=2&&T()}function k(E,P){console.log("Slider.load",E,P),!(!ga("left")(E)||!ga("right")(E))&&(E=E??{left:h,right:g},n(7,v=[E.left??h,E.right??g]),T())}function T(){y.isActive&&ge(y,s={left:v[0],right:v[1]},s),M.isActive&&ge(M,r={left:v[0],right:v[1]},r)}function N(){M.isActive&&ge(M,r={left:v[0],right:v[1]},r)}function I(){_.isActive&&ge(_,c={left:v[0],right:v[1]},c),y.isActive&&ge(y,s={left:v[0],right:v[1]},s),M.isActive&&ge(M,r={left:v[0],right:v[1]},r)}function A(E){v=E,n(7,v)}return t.$$set=E=>{"min"in E&&n(0,h=E.min),"max"in E&&n(1,g=E.max),"id"in E&&n(11,p=E.id),"description"in E&&n(2,m=E.description),"tooltip"in E&&n(3,b=E.tooltip),"change"in E&&u(n(4,y=E.change)),"stop"in E&&d(n(5,_=E.stop)),"drag"in E&&a(n(6,M=E.drag)),"interactions"in E&&n(12,w=E.interactions)},[h,g,m,b,y,_,M,v,T,N,I,p,w,S,k,A]}class dv extends We{constructor(e){super(),Ve(this,e,S7,M7,Ye,{min:0,max:1,id:11,description:2,tooltip:3,change:4,stop:5,drag:6,interactions:12,render:13,load:14})}get min(){return this.$$.ctx[0]}set min(e){this.$$set({min:e}),J()}get max(){return this.$$.ctx[1]}set max(e){this.$$set({max:e}),J()}get id(){return this.$$.ctx[11]}set id(e){this.$$set({id:e}),J()}get description(){return this.$$.ctx[2]}set description(e){this.$$set({description:e}),J()}get tooltip(){return this.$$.ctx[3]}set tooltip(e){this.$$set({tooltip:e}),J()}get change(){return this.$$.ctx[4]}set change(e){this.$$set({change:e}),J()}get stop(){return this.$$.ctx[5]}set stop(e){this.$$set({stop:e}),J()}get drag(){return this.$$.ctx[6]}set drag(e){this.$$set({drag:e}),J()}get interactions(){return this.$$.ctx[12]}set interactions(e){this.$$set({interactions:e}),J()}get render(){return this.$$.ctx[13]}get load(){return this.$$.ctx[14]}}function Lh(t,e,n){const r=t.slice();return r[28]=e[n],r[29]=e,r[30]=n,r}function Oh(t){let e,n,r,i=t[28]+"",a,s,f,u;function c(){t[20].call(n,t[28])}return{c(){e=ot("label"),n=ot("input"),r=Xt(),a=qt(i),s=Xt(),this.h()},l(l){e=st(l,"LABEL",{});var d=ut(e);n=st(d,"INPUT",{type:!0}),r=Gt(d),a=Wt(d,i),s=Gt(d),d.forEach(W),this.h()},h(){q(n,"type","checkbox")},m(l,d){pt(l,e,d),et(e,n),n.checked=t[4][t[28]],et(e,r),et(e,a),et(e,s),f||(u=[vt(n,"change",c),vt(n,"change",t[21])],f=!0)},p(l,d){t=l,d&18&&(n.checked=t[4][t[28]]),d&2&&i!==(i=t[28]+"")&&ce(a,i)},d(l){l&&W(e),f=!1,kn(u)}}}function x7(t){let e,n,r,i,a=t[1],s=[];for(let f=0;f<a.length;f+=1)s[f]=Oh(Lh(t,a,f));return{c(){e=ot("div");for(let f=0;f<s.length;f+=1)s[f].c();n=Xt(),r=ot("div"),i=ot("div"),this.h()},l(f){e=st(f,"DIV",{});var u=ut(e);for(let l=0;l<s.length;l+=1)s[l].l(u);u.forEach(W),n=Gt(f),r=st(f,"DIV",{id:!0});var c=ut(r);i=st(c,"DIV",{}),ut(i).forEach(W),c.forEach(W),this.h()},h(){q(r,"id",t[0])},m(f,u){pt(f,e,u);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);pt(f,n,u),pt(f,r,u),et(r,i),t[22](i)},p(f,[u]){if(u&22){a=f[1];let c;for(c=0;c<a.length;c+=1){const l=Lh(f,a,c);s[c]?s[c].p(l,u):(s[c]=Oh(l),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}u&1&&q(r,"id",f[0])},i:Lt,o:Lt,d(f){f&&W(e),no(s,f),f&&W(n),f&&W(r),t[22](null)}}}function T7(t,e,n){let r,{id:i,name:a,groupNames:s=[],title:f="",xAttr:u,yAttr:c="val",yMax:l,magic:d,xDomainMin:h=null,xDomainMax:g=null,theplot:p=null}=e,m={};const b=["#93c1cf","#feb144","#9ee09e","#ff6663"],y=ee(s.reduce((x,O)=>(x[O]=!0,x),{}));jh(t,y,x=>n(4,r=x)),console.log("visibility: ",y);let{brushX:_=ee({}),interactions:M={brushX:_}}=e,w,v=null,S=[],k=[{},{}];function T(x,O){return O!="overlay"?!1:(m=x,!0)}function N(x,O){return O!="badyear"?!1:(x.forEach((V,z)=>{V.rank=z+1,V[u]=Number(V[u])}),k=x,!0)}function I(x,O){!x||x.length===0||typeof O=="object"||(N(x,O)||T(x,O)?console.debug("overlay or badyear"):(S=u7(x,{include:s}),S.forEach(V=>V[u]=Number(V[u]))),A())}function A(){n(6,h=+h),n(7,g=+g);let x=kf({x:{type:"linear",domain:[h-1,g]}}),O=z=>(k.length-z.rank)*(.3/k.length)+.7,V={x,color:{domain:s,range:b,legend:!0,style:{"font-size":10,"margin-left":"2em"}},height:200,marginBottom:50,marks:[Dr({ticks:Yp(z=>z+h,g-h),tickRotate:-90,fontSize:10,tickFormat:z=>(z+"").slice(-2)}),Li({fontSize:10,label:"Severity"}),Ou([0]),Lu([x.domain[0]]),Nf(k,{x1:z=>z[u]-.5,x2:z=>z[u]+.5,y:O,stroke:"black",opacity:.8,strokeWidth:1}),f7(k,{x1:z=>z[u]-.5,x2:z=>z[u]+.5,y1:0,y2:O,fill:"gray",opacity:.1}),zu(m,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2}),n7(S,{filter:z=>z.key==s[3]&&z[u]>=h&&z[u]<=g&&+z[c]==0,x:z=>+z[u],y:0,stroke:"red",strokeWidth:1})]};s.forEach((z,X)=>{let B=(1+X)/s.length*.7;r[z]&&V.marks.push(Nf(S,{filter:$=>$.key==z&&$[u]>=h&&$[u]<=g,x:$=>+$[u]+B-.35,y1:0,y2:c,stroke:"key",strokeWidth:4}))}),n(8,p=Uo(V,v)),_.isActive&&(w=w??new ju({iact:_,magic:d}),w.init(p))}function E(x){r[x]=this.checked,y.set(r)}const P=()=>A();function R(x){kr[x?"unshift":"push"](()=>{v=x,n(3,v)})}return t.$$set=x=>{"id"in x&&n(9,i=x.id),"name"in x&&n(0,a=x.name),"groupNames"in x&&n(1,s=x.groupNames),"title"in x&&n(10,f=x.title),"xAttr"in x&&n(11,u=x.xAttr),"yAttr"in x&&n(12,c=x.yAttr),"yMax"in x&&n(13,l=x.yMax),"magic"in x&&n(14,d=x.magic),"xDomainMin"in x&&n(6,h=x.xDomainMin),"xDomainMax"in x&&n(7,g=x.xDomainMax),"theplot"in x&&n(8,p=x.theplot),"brushX"in x&&n(15,_=x.brushX),"interactions"in x&&n(16,M=x.interactions)},[a,s,A,v,r,y,h,g,p,i,f,u,c,l,d,_,M,T,N,I,E,P,R]}class gv extends We{constructor(e){super(),Ve(this,e,T7,x7,Ye,{id:9,name:0,groupNames:1,title:10,xAttr:11,yAttr:12,yMax:13,magic:14,xDomainMin:6,xDomainMax:7,theplot:8,brushX:15,interactions:16,overlay:17,badyear:18,render:19,update:2})}get id(){return this.$$.ctx[9]}set id(e){this.$$set({id:e}),J()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),J()}get groupNames(){return this.$$.ctx[1]}set groupNames(e){this.$$set({groupNames:e}),J()}get title(){return this.$$.ctx[10]}set title(e){this.$$set({title:e}),J()}get xAttr(){return this.$$.ctx[11]}set xAttr(e){this.$$set({xAttr:e}),J()}get yAttr(){return this.$$.ctx[12]}set yAttr(e){this.$$set({yAttr:e}),J()}get yMax(){return this.$$.ctx[13]}set yMax(e){this.$$set({yMax:e}),J()}get magic(){return this.$$.ctx[14]}set magic(e){this.$$set({magic:e}),J()}get xDomainMin(){return this.$$.ctx[6]}set xDomainMin(e){this.$$set({xDomainMin:e}),J()}get xDomainMax(){return this.$$.ctx[7]}set xDomainMax(e){this.$$set({xDomainMax:e}),J()}get theplot(){return this.$$.ctx[8]}set theplot(e){this.$$set({theplot:e}),J()}get brushX(){return this.$$.ctx[15]}set brushX(e){this.$$set({brushX:e}),J()}get interactions(){return this.$$.ctx[16]}set interactions(e){this.$$set({interactions:e}),J()}get overlay(){return this.$$.ctx[17]}get badyear(){return this.$$.ctx[18]}get render(){return this.$$.ctx[19]}get update(){return this.$$.ctx[2]}}function k7(t){let e,n;return{c(){e=ot("div"),n=ot("div"),this.h()},l(r){e=st(r,"DIV",{id:!0});var i=ut(e);n=st(i,"DIV",{}),ut(n).forEach(W),i.forEach(W),this.h()},h(){q(e,"id",t[0])},m(r,i){pt(r,e,i),et(e,n),t[11](n)},p(r,[i]){i&1&&q(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&W(e),t[11](null)}}}function A7(t,e,n){let{id:r,name:i,xDomainMin:a,xDomainMax:s,magic:f}=e,{brushX:u=ee({})}=e,{interactions:c={brushX:u}}=e,l,d,h,g={},p=[];const m=["#93c1cf","#feb144","#9ee09e","#ff6663"];function b(w,v){return v!="overlay"?!1:(g=w,!0)}function y(w,v){!w||w.length===0||typeof v=="object"||(b(w,v)?console.debug("overlay"):p=w,_())}function _(){let w={x:{domain:[+a,+s],type:"linear"},y:{axis:null},marginBottom:50,height:300,fy:{label:null,tickRotate:-90,labelAnchor:"center"},color:{style:{"font-size":10,"margin-left":"2rem"},range:m,legend:!0},marks:[Dr({ticks:36,fontSize:10}),Wm(),Nf(p,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"crop"}),zu(g,{x1:"left",x2:"right",y2:1,fill:"key",color:"key"}),Ro(p,{x:v=>{let S=(v.end_time-v.start_time)/2+v.start_time;return console.log("yy",v,S),S},y:"activity",dy:3,lineAnchor:"top",fy:"crop",fontSize:10,color:"gray",text:"activity"})]};l=Uo(w,d),u.isActive&&(h=h??new ju({iact:u,magic:f}),h.init(l))}function M(w){kr[w?"unshift":"push"](()=>{d=w,n(1,d)})}return t.$$set=w=>{"id"in w&&n(2,r=w.id),"name"in w&&n(0,i=w.name),"xDomainMin"in w&&n(3,a=w.xDomainMin),"xDomainMax"in w&&n(4,s=w.xDomainMax),"magic"in w&&n(5,f=w.magic),"brushX"in w&&n(6,u=w.brushX),"interactions"in w&&n(7,c=w.interactions)},[i,d,r,a,s,f,u,c,b,y,_,M]}class mv extends We{constructor(e){super(),Ve(this,e,A7,k7,Ye,{id:2,name:0,xDomainMin:3,xDomainMax:4,magic:5,brushX:6,interactions:7,overlay:8,render:9,update:10})}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),J()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),J()}get xDomainMin(){return this.$$.ctx[3]}set xDomainMin(e){this.$$set({xDomainMin:e}),J()}get xDomainMax(){return this.$$.ctx[4]}set xDomainMax(e){this.$$set({xDomainMax:e}),J()}get magic(){return this.$$.ctx[5]}set magic(e){this.$$set({magic:e}),J()}get brushX(){return this.$$.ctx[6]}set brushX(e){this.$$set({brushX:e}),J()}get interactions(){return this.$$.ctx[7]}set interactions(e){this.$$set({interactions:e}),J()}get overlay(){return this.$$.ctx[8]}get render(){return this.$$.ctx[9]}get update(){return this.$$.ctx[10]}}function E7(t){let e,n;return{c(){e=ot("div"),n=ot("div"),this.h()},l(r){e=st(r,"DIV",{id:!0});var i=ut(e);n=st(i,"DIV",{}),ut(n).forEach(W),i.forEach(W),this.h()},h(){q(e,"id",t[0])},m(r,i){pt(r,e,i),et(e,n),t[6](n)},p(r,[i]){i&1&&q(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&W(e),t[6](null)}}}function C7(t,e,n){let{name:r,id:i,interactions:a={}}=e,s,f=[];function u(d,h){!d||d.length===0||(f=d,c())}function c(){let d=kf({color:{type:"linear",scheme:"greens"}}),h=kf({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),g=f.map(m=>h.apply(va(d.apply(+m.value)).l)),p={padding:0,marginLeft:150,height:300,color:d,marks:[Dr({fontSize:10,label:null}),Li({fontSize:10,label:null}),J8(f,{x:"x",y:"y",fill:m=>+m.value,stroke:"white"}),Ro(f,{x:"x",y:"y",text:m=>m.value,fill:g,fontSize:10,fontWeight:"bold",textAnchor:"middle"})]};Uo(p,s)}function l(d){kr[d?"unshift":"push"](()=>{s=d,n(1,s)})}return t.$$set=d=>{"name"in d&&n(0,r=d.name),"id"in d&&n(2,i=d.id),"interactions"in d&&n(3,a=d.interactions)},[r,s,i,a,u,c,l]}class pv extends We{constructor(e){super(),Ve(this,e,C7,E7,Ye,{name:0,id:2,interactions:3,render:4,update:5})}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),J()}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),J()}get interactions(){return this.$$.ctx[3]}set interactions(e){this.$$set({interactions:e}),J()}get render(){return this.$$.ctx[4]}get update(){return this.$$.ctx[5]}}const N7=ee({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:h7}),bv=ee([]),yv=ee({});function Fh(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function D7(t){let e,n=t[15][t[2]]+"",r;return{c(){e=ot("option"),r=qt(n),this.h()},l(i){e=st(i,"OPTION",{});var a=ut(e);r=Wt(a,n),a.forEach(W),this.h()},h(){e.__value=t[17],e.value=e.__value},m(i,a){pt(i,e,a),et(e,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&ce(r,n)},d(i){i&&W(e)}}}function I7(t){let e,n=t[15][t[2]]+"",r;return{c(){e=ot("option"),r=qt(n),this.h()},l(i){e=st(i,"OPTION",{});var a=ut(e);r=Wt(a,n),a.forEach(W),this.h()},h(){e.__value=t[17],e.value=e.__value,e.selected=!0},m(i,a){pt(i,e,a),et(e,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&ce(r,n)},d(i){i&&W(e)}}}function Ph(t){let e;function n(a,s){return a[17]===a[1]?I7:D7}let r=n(t),i=r(t);return{c(){i.c(),e=Dt()},l(a){i.l(a),e=Dt()},m(a,s){i.m(a,s),pt(a,e,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){i.d(a),a&&W(e)}}}function L7(t){let e,n,r,i,a=t[5],s=[];for(let f=0;f<a.length;f+=1)s[f]=Ph(Fh(t,a,f));return{c(){e=ot("div"),n=ot("select");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=st(f,"DIV",{class:!0,id:!0});var u=ut(e);n=st(u,"SELECT",{class:!0});var c=ut(n);for(let l=0;l<s.length;l+=1)s[l].l(c);c.forEach(W),u.forEach(W),this.h()},h(){q(n,"class","form-select block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),t[4]===void 0&&Cp(()=>t[10].call(n)),q(e,"class","px-[1%] py-[1%] container svelte-p4yrke"),q(e,"id",t[0])},m(f,u){pt(f,e,u),et(e,n);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(n,null);Xu(n,t[4],!0),r||(i=[vt(n,"change",t[10]),vt(n,"change",t[6])],r=!0)},p(f,[u]){if(u&38){a=f[5];let c;for(c=0;c<a.length;c+=1){const l=Fh(f,a,c);s[c]?s[c].p(l,u):(s[c]=Ph(l),s[c].c(),s[c].m(n,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}u&16&&Xu(n,f[4]),u&1&&q(e,"id",f[0])},i:Lt,o:Lt,d(f){f&&W(e),no(s,f),r=!1,kn(i)}}}function O7(t,e,n){let r,i=Lt,a=()=>(i(),i=Pn(l,_=>n(11,r=_)),l),s;jh(t,N7,_=>n(12,s=_)),t.$$.on_destroy.push(()=>i());let{id:f,index:u,dropdown_key:c}=e,{change:l=ee({})}=e;a();let{interactions:d={change:l}}=e,h=null,g=[];s.margin;function p(_,M){n(5,g=_??g),n(4,h=h??u),console.log("Dropdown.render",g,h,M),b()}function m(_){console.log("Dropdown.load",_),n(4,h=_.idx),p()}function b(){l.isActive&&ge(l,r={...g[h],idx:h},r)}function y(){h=Np(this),n(4,h)}return t.$$set=_=>{"id"in _&&n(0,f=_.id),"index"in _&&n(1,u=_.index),"dropdown_key"in _&&n(2,c=_.dropdown_key),"change"in _&&a(n(3,l=_.change)),"interactions"in _&&n(7,d=_.interactions)},[f,u,c,l,h,g,b,d,p,m,y]}class _v extends We{constructor(e){super(),Ve(this,e,O7,L7,Ye,{id:0,index:1,dropdown_key:2,change:3,interactions:7,render:8,load:9})}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),J()}get index(){return this.$$.ctx[1]}set index(e){this.$$set({index:e}),J()}get dropdown_key(){return this.$$.ctx[2]}set dropdown_key(e){this.$$set({dropdown_key:e}),J()}get change(){return this.$$.ctx[3]}set change(e){this.$$set({change:e}),J()}get interactions(){return this.$$.ctx[7]}set interactions(e){this.$$set({interactions:e}),J()}get render(){return this.$$.ctx[8]}get load(){return this.$$.ctx[9]}}function F7(t){let e,n,r,i,a,s,f,u,c,l,d,h,g,p;return{c(){e=ot("form"),n=ot("div"),r=ot("input"),i=Xt(),a=ot("button"),s=qt("Login"),f=Xt(),u=ot("button"),c=qt("Save"),l=Xt(),d=ot("button"),h=qt("Logout"),this.h()},l(m){e=st(m,"FORM",{class:!0});var b=ut(e);n=st(b,"DIV",{class:!0});var y=ut(n);r=st(y,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),i=Gt(y),a=st(y,"BUTTON",{class:!0,type:!0});var _=ut(a);s=Wt(_,"Login"),_.forEach(W),f=Gt(y),u=st(y,"BUTTON",{class:!0,type:!0});var M=ut(u);c=Wt(M,"Save"),M.forEach(W),l=Gt(y),d=st(y,"BUTTON",{class:!0,type:!0});var w=ut(d);h=Wt(w,"Logout"),w.forEach(W),y.forEach(W),b.forEach(W),this.h()},h(){q(r,"class","appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"),q(r,"type","text"),q(r,"placeholder","Login..."),q(r,"aria-label","username"),q(a,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-700 border-slate-500 hover:border-slate-700 text-sm border-4 text-white py-1 px-2 rounded"),q(a,"type","button"),q(u,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),q(u,"type","button"),q(d,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),q(d,"type","button"),q(n,"class","flex items-center border-b border-slate-500 py-2 space-x-4"),q(e,"class","w-full max-w-sm mx-auto")},m(m,b){pt(m,e,b),et(e,n),et(n,r),Gu(r,t[1]),et(n,i),et(n,a),et(a,s),et(n,f),et(n,u),et(u,c),et(n,l),et(n,d),et(d,h),g||(p=[vt(r,"input",t[14]),vt(a,"click",t[2]),vt(u,"click",t[3]),vt(d,"click",t[4])],g=!0)},p(m,[b]){b&2&&r.value!==m[1]&&Gu(r,m[1])},i:Lt,o:Lt,d(m){m&&W(e),g=!1,kn(p)}}}function Qm(t,e){console.debug("login invoked",t,e)}function P7(t,e,n){let r,i=Lt,a=()=>(i(),i=Pn(s,v=>n(16,r=v)),s);t.$$.on_destroy.push(()=>i());let{status:s=ee({}),interactions:f={status:s}}=e;a();let{id:u,magic:c,client:l,exportFunc:d,importFunc:h,dataTable:g,stateTable:p}=e,m,b;const y=async()=>{console.debug("login user: ",m),b=c.exportState();const v=await l.query(h,{table:p,user:m});if(!v){alert("there is no data for this user"),ge(s,r={user:m,loggedin:!0},r);return}ge(s,r={user:m,loggedin:!0},r),c.importState(v.data)},_=async()=>{let v=c.exportData();await l.mutation(d,{data:v,table:g,user:m}),v=c.exportState(),await l.mutation(d,{data:v,table:p,user:m}),alert("save function executed")},M=async()=>{c.importState(b),n(1,m=null)};function w(){m=this.value,n(1,m)}return t.$$set=v=>{"status"in v&&a(n(0,s=v.status)),"interactions"in v&&n(5,f=v.interactions),"id"in v&&n(6,u=v.id),"magic"in v&&n(7,c=v.magic),"client"in v&&n(8,l=v.client),"exportFunc"in v&&n(9,d=v.exportFunc),"importFunc"in v&&n(10,h=v.importFunc),"dataTable"in v&&n(11,g=v.dataTable),"stateTable"in v&&n(12,p=v.stateTable)},[s,m,y,_,M,f,u,c,l,d,h,g,p,Qm,w]}class wv extends We{constructor(e){super(),Ve(this,e,P7,F7,Ye,{status:0,interactions:5,id:6,magic:7,client:8,exportFunc:9,importFunc:10,dataTable:11,stateTable:12,render:13})}get status(){return this.$$.ctx[0]}set status(e){this.$$set({status:e}),J()}get interactions(){return this.$$.ctx[5]}set interactions(e){this.$$set({interactions:e}),J()}get id(){return this.$$.ctx[6]}set id(e){this.$$set({id:e}),J()}get magic(){return this.$$.ctx[7]}set magic(e){this.$$set({magic:e}),J()}get client(){return this.$$.ctx[8]}set client(e){this.$$set({client:e}),J()}get exportFunc(){return this.$$.ctx[9]}set exportFunc(e){this.$$set({exportFunc:e}),J()}get importFunc(){return this.$$.ctx[10]}set importFunc(e){this.$$set({importFunc:e}),J()}get dataTable(){return this.$$.ctx[11]}set dataTable(e){this.$$set({dataTable:e}),J()}get stateTable(){return this.$$.ctx[12]}set stateTable(e){this.$$set({stateTable:e}),J()}get render(){return Qm}}function R7(t,e,n){let r,i=Lt,a=()=>(i(),i=Pn(f,m=>n(8,r=m)),f);t.$$.on_destroy.push(()=>i());let{id:s,valid:f=ee({}),interactions:u={valid:f},key:c,threshold_string:l}=e;a();let d=[],h=Number(l);function g(m,b){if(console.debug("trigger alert render"),d=m??d,Jt(d)||!Zt(Array,d))return;const _=Bf(c)(d);if(Jt(_)){alert("warning, alert tried to find data for a key that returns an empty list, alert will not be used");return}Bb(_)<h?(ge(f,r={valid:!1},r),alert("warning, slider selection has too low variance in rainfall,invalid results")):ge(f,r={valid:!0},r)}function p(m,b){Jt(m)||ge(f,r=m,r)}return t.$$set=m=>{"id"in m&&n(1,s=m.id),"valid"in m&&a(n(0,f=m.valid)),"interactions"in m&&n(2,u=m.interactions),"key"in m&&n(3,c=m.key),"threshold_string"in m&&n(4,l=m.threshold_string)},[f,s,u,c,l,g,p]}class vv extends We{constructor(e){super(),Ve(this,e,R7,null,Ye,{id:1,valid:0,interactions:2,key:3,threshold_string:4,render:5,load:6})}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),J()}get valid(){return this.$$.ctx[0]}set valid(e){this.$$set({valid:e}),J()}get interactions(){return this.$$.ctx[2]}set interactions(e){this.$$set({interactions:e}),J()}get key(){return this.$$.ctx[3]}set key(e){this.$$set({key:e}),J()}get threshold_string(){return this.$$.ctx[4]}set threshold_string(e){this.$$set({threshold_string:e}),J()}get render(){return this.$$.ctx[5]}get load(){return this.$$.ctx[6]}}class Za{constructor(e){this.compPos=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));r.push(a)}return r},this.getPos=function(){for(var n=[],r=0;r<this._array.length;r++)+(this._array[r]>0),n.push(+(this._array[r]>0));return n},this.getZero=function(){for(var n=[],r=0;r<this._array.length;r++)+this.isNegative(this._array[r]),n.push(+(this._array[r]===0));return n},this._array=e}get array(){return this._array}}const tp=function(t,e,n,r){let i=e.map(Number),a=r.map(Number),s=new Za(i),f=new Za(a),u=s.compPos(f.array),c=f.getPos(),l=u.filter(g=>g>0).length,d=c.filter(g=>g>0).length;return(l/d).toFixed(2)},ep=function(t,e,n,r){let i=e.map(Number),a=r.map(Number),s=new Za(i),f=new Za(a),u=s.compZero(f.array),c=f.getZero(),l=u.filter(g=>g>0).length,d=c.filter(g=>g>0).length;return(l/d).toFixed(2)},B7=function(t,e,n,r){return tp(t,e,n,r)},$7=function(t,e,n,r){return ep(t,e,n,r)},U7=function(t,e,n,r){let i=Number(tp(t,e,n,r)),a=Number(ep(t,e,n,r));return((i+a)/2).toFixed(2)};let Mv=[{"true positive":B7,"true negative":$7,"average matching":U7}];const Gi="1.12.1";var Re=[],de=[],z7=Uint8Array,Ns="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ar=0,j7=Ns.length;ar<j7;++ar)Re[ar]=Ns[ar],de[Ns.charCodeAt(ar)]=ar;de["-".charCodeAt(0)]=62;de["_".charCodeAt(0)]=63;function q7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function W7(t,e,n){return(e+n)*3/4-n}function Ja(t){var e,n=q7(t),r=n[0],i=n[1],a=new z7(W7(t,r,i)),s=0,f=i>0?r-4:r,u;for(u=0;u<f;u+=4)e=de[t.charCodeAt(u)]<<18|de[t.charCodeAt(u+1)]<<12|de[t.charCodeAt(u+2)]<<6|de[t.charCodeAt(u+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=de[t.charCodeAt(u)]<<2|de[t.charCodeAt(u+1)]>>4,a[s++]=e&255),i===1&&(e=de[t.charCodeAt(u)]<<10|de[t.charCodeAt(u+1)]<<4|de[t.charCodeAt(u+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function V7(t){return Re[t>>18&63]+Re[t>>12&63]+Re[t>>6&63]+Re[t&63]}function Y7(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(V7(r));return i.join("")}function Ka(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,f=n-r;s<f;s+=a)i.push(Y7(t,s,s+a>f?f:s+a));return r===1?(e=t[n-1],i.push(Re[e>>2]+Re[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Re[e>>10]+Re[e>>4&63]+Re[e<<2&63]+"=")),i.join("")}function Zi(t){if(t===void 0)return{};if(!np(t))throw new Error(`The arguments to a Convex function must be an object. Received: ${t}`);return t}function H7(t){if(typeof t>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof t!="string")throw new Error(`Invalid deployment address: found ${t}".`);if(!(t.startsWith("http:")||t.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${t}".`);if(!(t.indexOf("127.0.0.1")!==-1||t.indexOf("localhost")!==-1)&&!t.endsWith(".convex.cloud")&&!t.includes("0.0.0.0"))throw new Error(`Invalid deployment address: Must end with ".convex.cloud". Found "${t}". If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function np(t){var i;const e=typeof t=="object",n=Object.getPrototypeOf(t),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return e&&r}const rp=!0,Tr=BigInt("-9223372036854775808"),qu=BigInt("9223372036854775807"),If=BigInt("0"),X7=BigInt("8"),G7=BigInt("256");function ip(t){return Number.isNaN(t)||!Number.isFinite(t)||Object.is(t,-0)}function Z7(t){t<If&&(t-=Tr+Tr);let e=t.toString(16);e.length%2===1&&(e="0"+e);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of e.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),t>>=X7;return Ka(n)}function J7(t){const e=Ja(t);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);let n=If,r=If;for(const i of e)n+=BigInt(i)*G7**r,r++;return n>qu&&(n+=Tr+Tr),n}function K7(t){if(t<Tr||qu<t)throw new Error(`BigInt ${t} does not fit into a 64-bit signed integer.`);const e=new ArrayBuffer(8);return new DataView(e).setBigInt64(0,t,!0),Ka(new Uint8Array(e))}function Q7(t){const e=Ja(t);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);return new DataView(e.buffer).getBigInt64(0,!0)}const tv=DataView.prototype.setBigInt64?K7:Z7,ev=DataView.prototype.getBigInt64?Q7:J7,Rh=1024;function Lf(t){if(t.length>Rh)throw new Error(`Field name ${t} exceeds maximum field name length ${Rh}.`);if(t.startsWith("$"))throw new Error(`Field name ${t} starts with a '$', which is reserved.`);for(let e=0;e<t.length;e+=1){const n=t.charCodeAt(e);if(n<32||n>=127)throw new Error(`Field name ${t} has invalid character '${t[e]}': Field names can only contain non-control ASCII characters`)}}function Fn(t){if(t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string")return t;if(Array.isArray(t))return t.map(r=>Fn(r));if(typeof t!="object")throw new Error(`Unexpected type of ${t}`);const e=Object.entries(t);if(e.length===1){const r=e[0][0];if(r==="$bytes"){if(typeof t.$bytes!="string")throw new Error(`Malformed $bytes field on ${t}`);return Ja(t.$bytes).buffer}if(r==="$integer"){if(typeof t.$integer!="string")throw new Error(`Malformed $integer field on ${t}`);return ev(t.$integer)}if(r==="$float"){if(typeof t.$float!="string")throw new Error(`Malformed $float field on ${t}`);const i=Ja(t.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,rp);if(!ip(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(t))Lf(r),n[r]=Fn(i);return n}function lr(t){return JSON.stringify(t,(e,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function Qa(t,e,n,r){var s;if(t===void 0){const f=n&&` (present at path ${n} in original object ${lr(e)})`;throw new Error(`undefined is not a valid Convex value${f}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(t===null)return t;if(typeof t=="bigint"){if(t<Tr||qu<t)throw new Error(`BigInt ${t} does not fit into a 64-bit signed integer.`);return{$integer:tv(t)}}if(typeof t=="number")if(ip(t)){const f=new ArrayBuffer(8);return new DataView(f).setFloat64(0,t,rp),{$float:Ka(new Uint8Array(f))}}else return t;if(typeof t=="boolean"||typeof t=="string")return t;if(t instanceof ArrayBuffer)return{$bytes:Ka(new Uint8Array(t))};if(Array.isArray(t))return t.map((f,u)=>Qa(f,e,n+`[${u}]`,!1));if(t instanceof Set)throw new Error(Ds(n,"Set",[...t],e));if(t instanceof Map)throw new Error(Ds(n,"Map",[...t],e));if(!np(t)){const f=(s=t==null?void 0:t.constructor)==null?void 0:s.name,u=f?`${f} `:"";throw new Error(Ds(n,u,t,e))}const i={},a=Object.entries(t);a.sort(([f,u],[c,l])=>f===c?0:f<c?-1:1);for(const[f,u]of a)u!==void 0?(Lf(f),i[f]=Qa(u,e,n+`.${f}`,!1)):r&&(Lf(f),i[f]=nv(u,e,n+`.${f}`));return i}function Ds(t,e,n,r){return t?`${e}${lr(n)} is not a supported Convex type (present at path ${t} in original object ${lr(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${e}${lr(n)} is not a supported Convex type.`}function nv(t,e,n){if(t===void 0)return{$undefined:null};if(e===void 0)throw new Error(`Programming error. Current value is ${lr(t)} but original value is undefined`);return Qa(t,e,n,!1)}function Ji(t){return Qa(t,t,"",!1)}var ap;const rv=Symbol.for("ConvexError");class Ki extends Error{constructor(e){super(typeof e=="string"?e:lr(e)),this.name="ConvexError",this[ap]=!0,this.data=e}}ap=rv;const iv="color:rgb(0, 145, 255)";function av(t){switch(t){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function Qi(t,e,n,r){const i=av(e);if(typeof r=="object"&&(r=`ConvexError ${JSON.stringify(r.errorData,null,2)}`),t==="info"){const a=r.match(/^\[.*?\] /);if(a===null){console.error(`[CONVEX ${i}(${n})] Could not parse console.log`);return}const s=r.slice(1,a[0].length-2),f=r.slice(a[0].length);console.log(`%c[CONVEX ${i}(${n})] [${s}]`,iv,f)}else console.error(`[CONVEX ${i}(${n})] ${r}`)}const op=Symbol.for("functionName");function ta(t){if(typeof t=="string")return t;const e=t[op];if(!e)throw new Error(`${t} is not a functionReference`);return e}function sp(t=[]){const e={get(n,r){if(typeof r=="string"){const i=[...t,r];return sp(i)}else if(r===op){if(t.length<2){const s=["api",...t].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${s}\``)}const i=t.slice(0,-1).join("/"),a=t[t.length-1];return a==="default"?i:i+":"+a}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},e)}sp();const ea=560;class Sv{constructor(e,n){n!==!0&&H7(e),this.address=`${e}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(e){this.clearAuth(),this.auth=e}setAdminAuth(e,n){if(this.clearAuth(),n!==void 0){const r=new TextEncoder().encode(JSON.stringify(n)),i=btoa(String.fromCodePoint(...r));this.adminAuth=`${e}:${i}`}else this.adminAuth=e}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(e){this.debug=e}setFetchOptions(e){this.fetchOptions=e}async query(e,...n){const r=Zi(n[0]),i=ta(e),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ji(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${Gi}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const u=await fetch(`${this.address}/query`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!u.ok&&u.status!==ea)throw new Error(await u.text());const c=await u.json();if(this.debug)for(const l of c.logLines??[])Qi("info","query",i,l);switch(c.status){case"success":return Fn(c.value);case"error":throw c.errorData!==void 0?na(c.errorData,new Ki(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async mutation(e,...n){const r=Zi(n[0]),i=ta(e),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ji(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${Gi}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const u=await fetch(`${this.address}/mutation`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!u.ok&&u.status!==ea)throw new Error(await u.text());const c=await u.json();if(this.debug)for(const l of c.logLines??[])Qi("info","mutation",i,l);switch(c.status){case"success":return Fn(c.value);case"error":throw c.errorData!==void 0?na(c.errorData,new Ki(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async action(e,...n){const r=Zi(n[0]),i=ta(e),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ji(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${Gi}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const u=await fetch(`${this.address}/action`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!u.ok&&u.status!==ea)throw new Error(await u.text());const c=await u.json();if(this.debug)for(const l of c.logLines??[])Qi("info","action",i,l);switch(c.status){case"success":return Fn(c.value);case"error":throw c.errorData!==void 0?na(c.errorData,new Ki(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async function(e,...n){const r=Zi(n[0]),i=typeof e=="string"?e:ta(e),a=JSON.stringify({path:i,format:"convex_encoded_json",args:Ji(r)}),s={"Content-Type":"application/json","Convex-Client":`npm-${Gi}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const u=await fetch(`${this.address}/function`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!u.ok&&u.status!==ea)throw new Error(await u.text());const c=await u.json();if(this.debug)for(const l of c.logLines??[])Qi("info","any",i,l);switch(c.status){case"success":return Fn(c.value);case"error":throw c.errorData!==void 0?na(c.errorData,new Ki(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}}function na(t,e){return e.data=Fn(t),e}export{vv as A,gv as B,Sv as C,_v as D,da as E,Jh as F,wv as L,lv as M,v7 as R,dv as S,hv as a,mv as b,pv as c,dr as d,ie as e,Mv as f,uo as g,ga as h,Me as i,Rt as j,Ne as k,Ie as l,Ht as m,uu as n,De as o,To as p,un as q,hf as r,yv as s,bv as t,Vm as u,oc as v,Q8 as w,xb as x,Sn as y,_b as z};
